00:00 +0: loading D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/integration/app_flow_test.dart
00:00 +0 -1: loading D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/integration/app_flow_test.dart [E]
  Failed to load "D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/integration/app_flow_test.dart": 'package:flutter/src/foundation/binding.dart': Failed assertion: line 165 pos 7: '_debugInitializedType == null': Binding is already initialized to AutomatedTestWidgetsFlutterBinding
  dart:core                                             _AssertionError._throwNew
  package:flutter/src/foundation/binding.dart 165:7     new BindingBase
  package:flutter_test/src/binding.dart                 new _TestWidgetsFlutterBinding&BindingBase&SchedulerBinding
  package:flutter_test/src/binding.dart                 new _TestWidgetsFlutterBinding&BindingBase&SchedulerBinding&ServicesBinding
  package:flutter_test/src/binding.dart                 new _TestWidgetsFlutterBinding&BindingBase&SchedulerBinding&ServicesBinding&GestureBinding
  package:flutter_test/src/binding.dart                 new _TestWidgetsFlutterBinding&BindingBase&SchedulerBinding&ServicesBinding&GestureBinding&SemanticsBinding
  package:flutter_test/src/binding.dart                 new _TestWidgetsFlutterBinding&BindingBase&SchedulerBinding&ServicesBinding&GestureBinding&SemanticsBinding&RendererBinding
  package:flutter_test/src/binding.dart                 new _TestWidgetsFlutterBinding&BindingBase&SchedulerBinding&ServicesBinding&GestureBinding&SemanticsBinding&RendererBinding&PaintingBinding
  package:flutter_test/src/binding.dart                 new _TestWidgetsFlutterBinding&BindingBase&SchedulerBinding&ServicesBinding&GestureBinding&SemanticsBinding&RendererBinding&PaintingBinding&WidgetsBinding
  package:flutter_test/src/binding.dart                 new _TestWidgetsFlutterBinding&BindingBase&SchedulerBinding&ServicesBinding&GestureBinding&SemanticsBinding&RendererBinding&PaintingBinding&WidgetsBinding&TestDefaultBinaryMessengerBinding
  package:flutter_test/src/binding.dart                 new TestWidgetsFlutterBinding
  package:flutter_test/src/binding.dart                 new LiveTestWidgetsFlutterBinding
  package:integration_test/integration_test.dart        new IntegrationTestWidgetsFlutterBinding
  package:integration_test/integration_test.dart 158:7  IntegrationTestWidgetsFlutterBinding.ensureInitialized
  test\integration\app_flow_test.dart 8:40              main
  
00:00 +0 -1: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/integration/complete_attendance_flow_test.dart: Complete Attendance Flow Integration Tests End-to-End Attendance Scenarios Complete successful attendance registration flow
🚀 Iniciando GeoAsist con servicios de Fase C...
══╡ EXCEPTION CAUGHT BY FLUTTER TEST FRAMEWORK ╞════════════════════════════════════════════════════
The following StateError was thrown running a test:
Bad state: No element

When the exception was thrown, this was the stack:
#0      Iterable.single (dart:core/iterable.dart:694:25)
#1      WidgetController.state (package:flutter_test/src/controller.dart:908:42)
#2      WidgetTester.showKeyboard.<anonymous closure> (package:flutter_test/src/widget_tester.dart:1127:42)
#5      TestAsyncUtils.guard (package:flutter_test/src/test_async_utils.dart:74:41)
#6      WidgetTester.showKeyboard (package:flutter_test/src/widget_tester.dart:1126:27)
#7      WidgetTester.enterText.<anonymous closure> (package:flutter_test/src/widget_tester.dart:1162:13)
#10     TestAsyncUtils.guard (package:flutter_test/src/test_async_utils.dart:74:41)
#11     WidgetTester.enterText (package:flutter_test/src/widget_tester.dart:1161:27)
#12     _performLogin (file:///D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/integration/complete_attendance_flow_test.dart:486:16)
#13     main.<anonymous closure>.<anonymous closure>.<anonymous closure> (file:///D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/integration/complete_attendance_flow_test.dart:90:15)
<asynchronous suspension>
#14     testWidgets.<anonymous closure>.<anonymous closure> (package:flutter_test/src/widget_tester.dart:193:15)
<asynchronous suspension>
#15     TestWidgetsFlutterBinding._runTestBody (package:flutter_test/src/binding.dart:1064:5)
<asynchronous suspension>
<asynchronous suspension>
(elided 5 frames from dart:async and package:stack_trace)

The test description was:
  Complete successful attendance registration flow
════════════════════════════════════════════════════════════════════════════════════════════════════
00:00 +0 -2: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/integration/complete_attendance_flow_test.dart: Complete Attendance Flow Integration Tests End-to-End Attendance Scenarios Complete successful attendance registration flow [E]
  Test failed. See exception logs above.
  The test description was: Complete successful attendance registration flow
  
00:00 +0 -2: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/integration/complete_attendance_flow_test.dart: Complete Attendance Flow Integration Tests End-to-End Attendance Scenarios Geofence violation and grace period recovery flow
🚀 Iniciando GeoAsist con servicios de Fase C...
══╡ EXCEPTION CAUGHT BY FLUTTER TEST FRAMEWORK ╞════════════════════════════════════════════════════
The following StateError was thrown running a test:
Bad state: No element

When the exception was thrown, this was the stack:
#0      Iterable.single (dart:core/iterable.dart:694:25)
#1      WidgetController.state (package:flutter_test/src/controller.dart:908:42)
#2      WidgetTester.showKeyboard.<anonymous closure> (package:flutter_test/src/widget_tester.dart:1127:42)
#5      TestAsyncUtils.guard (package:flutter_test/src/test_async_utils.dart:74:41)
#6      WidgetTester.showKeyboard (package:flutter_test/src/widget_tester.dart:1126:27)
#7      WidgetTester.enterText.<anonymous closure> (package:flutter_test/src/widget_tester.dart:1162:13)
#10     TestAsyncUtils.guard (package:flutter_test/src/test_async_utils.dart:74:41)
#11     WidgetTester.enterText (package:flutter_test/src/widget_tester.dart:1161:27)
#12     _performLogin (file:///D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/integration/complete_attendance_flow_test.dart:486:16)
#13     main.<anonymous closure>.<anonymous closure>.<anonymous closure> (file:///D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/integration/complete_attendance_flow_test.dart:159:15)
<asynchronous suspension>
#14     testWidgets.<anonymous closure>.<anonymous closure> (package:flutter_test/src/widget_tester.dart:193:15)
<asynchronous suspension>
#15     TestWidgetsFlutterBinding._runTestBody (package:flutter_test/src/binding.dart:1064:5)
<asynchronous suspension>
<asynchronous suspension>
(elided 5 frames from dart:async and package:stack_trace)

The test description was:
  Geofence violation and grace period recovery flow
════════════════════════════════════════════════════════════════════════════════════════════════════
00:00 +0 -3: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/integration/complete_attendance_flow_test.dart: Complete Attendance Flow Integration Tests End-to-End Attendance Scenarios Geofence violation and grace period recovery flow [E]
  Test failed. See exception logs above.
  The test description was: Geofence violation and grace period recovery flow
  
00:00 +0 -3: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/integration/complete_attendance_flow_test.dart: Complete Attendance Flow Integration Tests End-to-End Attendance Scenarios Permission denied and recovery flow
🚀 Iniciando GeoAsist con servicios de Fase C...
══╡ EXCEPTION CAUGHT BY FLUTTER TEST FRAMEWORK ╞════════════════════════════════════════════════════
The following StateError was thrown running a test:
Bad state: No element

When the exception was thrown, this was the stack:
#0      Iterable.single (dart:core/iterable.dart:694:25)
#1      WidgetController.state (package:flutter_test/src/controller.dart:908:42)
#2      WidgetTester.showKeyboard.<anonymous closure> (package:flutter_test/src/widget_tester.dart:1127:42)
#5      TestAsyncUtils.guard (package:flutter_test/src/test_async_utils.dart:74:41)
#6      WidgetTester.showKeyboard (package:flutter_test/src/widget_tester.dart:1126:27)
#7      WidgetTester.enterText.<anonymous closure> (package:flutter_test/src/widget_tester.dart:1162:13)
#10     TestAsyncUtils.guard (package:flutter_test/src/test_async_utils.dart:74:41)
#11     WidgetTester.enterText (package:flutter_test/src/widget_tester.dart:1161:27)
#12     _performLogin (file:///D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/integration/complete_attendance_flow_test.dart:486:16)
#13     main.<anonymous closure>.<anonymous closure>.<anonymous closure> (file:///D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/integration/complete_attendance_flow_test.dart:221:15)
<asynchronous suspension>
#14     testWidgets.<anonymous closure>.<anonymous closure> (package:flutter_test/src/widget_tester.dart:193:15)
<asynchronous suspension>
#15     TestWidgetsFlutterBinding._runTestBody (package:flutter_test/src/binding.dart:1064:5)
<asynchronous suspension>
<asynchronous suspension>
(elided 5 frames from dart:async and package:stack_trace)

The test description was:
  Permission denied and recovery flow
════════════════════════════════════════════════════════════════════════════════════════════════════
00:00 +0 -4: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/integration/complete_attendance_flow_test.dart: Complete Attendance Flow Integration Tests End-to-End Attendance Scenarios Permission denied and recovery flow [E]
  Test failed. See exception logs above.
  The test description was: Permission denied and recovery flow
  
00:00 +0 -4: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/integration/complete_attendance_flow_test.dart: Complete Attendance Flow Integration Tests Background App Lifecycle Tests App backgrounding and foregrounding flow
🚀 Iniciando GeoAsist con servicios de Fase C...
══╡ EXCEPTION CAUGHT BY FLUTTER TEST FRAMEWORK ╞════════════════════════════════════════════════════
The following StateError was thrown running a test:
Bad state: No element

When the exception was thrown, this was the stack:
#0      Iterable.single (dart:core/iterable.dart:694:25)
#1      WidgetController.state (package:flutter_test/src/controller.dart:908:42)
#2      WidgetTester.showKeyboard.<anonymous closure> (package:flutter_test/src/widget_tester.dart:1127:42)
#5      TestAsyncUtils.guard (package:flutter_test/src/test_async_utils.dart:74:41)
#6      WidgetTester.showKeyboard (package:flutter_test/src/widget_tester.dart:1126:27)
#7      WidgetTester.enterText.<anonymous closure> (package:flutter_test/src/widget_tester.dart:1162:13)
#10     TestAsyncUtils.guard (package:flutter_test/src/test_async_utils.dart:74:41)
#11     WidgetTester.enterText (package:flutter_test/src/widget_tester.dart:1161:27)
#12     _performLogin (file:///D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/integration/complete_attendance_flow_test.dart:486:16)
#13     main.<anonymous closure>.<anonymous closure>.<anonymous closure> (file:///D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/integration/complete_attendance_flow_test.dart:288:15)
<asynchronous suspension>
#14     testWidgets.<anonymous closure>.<anonymous closure> (package:flutter_test/src/widget_tester.dart:193:15)
<asynchronous suspension>
#15     TestWidgetsFlutterBinding._runTestBody (package:flutter_test/src/binding.dart:1064:5)
<asynchronous suspension>
<asynchronous suspension>
(elided 5 frames from dart:async and package:stack_trace)

The test description was:
  App backgrounding and foregrounding flow
════════════════════════════════════════════════════════════════════════════════════════════════════
00:00 +0 -5: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/integration/complete_attendance_flow_test.dart: Complete Attendance Flow Integration Tests Background App Lifecycle Tests App backgrounding and foregrounding flow [E]
  Test failed. See exception logs above.
  The test description was: App backgrounding and foregrounding flow
  
00:00 +0 -5: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/integration/complete_attendance_flow_test.dart: Complete Attendance Flow Integration Tests Network Connectivity Tests Offline and online recovery flow
🚀 Iniciando GeoAsist con servicios de Fase C...
══╡ EXCEPTION CAUGHT BY FLUTTER TEST FRAMEWORK ╞════════════════════════════════════════════════════
The following StateError was thrown running a test:
Bad state: No element

When the exception was thrown, this was the stack:
#0      Iterable.single (dart:core/iterable.dart:694:25)
#1      WidgetController.state (package:flutter_test/src/controller.dart:908:42)
#2      WidgetTester.showKeyboard.<anonymous closure> (package:flutter_test/src/widget_tester.dart:1127:42)
#5      TestAsyncUtils.guard (package:flutter_test/src/test_async_utils.dart:74:41)
#6      WidgetTester.showKeyboard (package:flutter_test/src/widget_tester.dart:1126:27)
#7      WidgetTester.enterText.<anonymous closure> (package:flutter_test/src/widget_tester.dart:1162:13)
#10     TestAsyncUtils.guard (package:flutter_test/src/test_async_utils.dart:74:41)
#11     WidgetTester.enterText (package:flutter_test/src/widget_tester.dart:1161:27)
#12     _performLogin (file:///D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/integration/complete_attendance_flow_test.dart:486:16)
#13     main.<anonymous closure>.<anonymous closure>.<anonymous closure> (file:///D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/integration/complete_attendance_flow_test.dart:341:15)
<asynchronous suspension>
#14     testWidgets.<anonymous closure>.<anonymous closure> (package:flutter_test/src/widget_tester.dart:193:15)
<asynchronous suspension>
#15     TestWidgetsFlutterBinding._runTestBody (package:flutter_test/src/binding.dart:1064:5)
<asynchronous suspension>
<asynchronous suspension>
(elided 5 frames from dart:async and package:stack_trace)

The test description was:
  Offline and online recovery flow
════════════════════════════════════════════════════════════════════════════════════════════════════
00:00 +0 -6: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/integration/complete_attendance_flow_test.dart: Complete Attendance Flow Integration Tests Network Connectivity Tests Offline and online recovery flow [E]
  Test failed. See exception logs above.
  The test description was: Offline and online recovery flow
  
00:00 +0 -6: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/integration/complete_attendance_flow_test.dart: Complete Attendance Flow Integration Tests Error Handling and Recovery Tests GPS unavailable and recovery flow
🚀 Iniciando GeoAsist con servicios de Fase C...
══╡ EXCEPTION CAUGHT BY FLUTTER TEST FRAMEWORK ╞════════════════════════════════════════════════════
The following StateError was thrown running a test:
Bad state: No element

When the exception was thrown, this was the stack:
#0      Iterable.single (dart:core/iterable.dart:694:25)
#1      WidgetController.state (package:flutter_test/src/controller.dart:908:42)
#2      WidgetTester.showKeyboard.<anonymous closure> (package:flutter_test/src/widget_tester.dart:1127:42)
#5      TestAsyncUtils.guard (package:flutter_test/src/test_async_utils.dart:74:41)
#6      WidgetTester.showKeyboard (package:flutter_test/src/widget_tester.dart:1126:27)
#7      WidgetTester.enterText.<anonymous closure> (package:flutter_test/src/widget_tester.dart:1162:13)
#10     TestAsyncUtils.guard (package:flutter_test/src/test_async_utils.dart:74:41)
#11     WidgetTester.enterText (package:flutter_test/src/widget_tester.dart:1161:27)
#12     _performLogin (file:///D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/integration/complete_attendance_flow_test.dart:486:16)
#13     main.<anonymous closure>.<anonymous closure>.<anonymous closure> (file:///D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/integration/complete_attendance_flow_test.dart:396:15)
<asynchronous suspension>
#14     testWidgets.<anonymous closure>.<anonymous closure> (package:flutter_test/src/widget_tester.dart:193:15)
<asynchronous suspension>
#15     TestWidgetsFlutterBinding._runTestBody (package:flutter_test/src/binding.dart:1064:5)
<asynchronous suspension>
<asynchronous suspension>
(elided 5 frames from dart:async and package:stack_trace)

The test description was:
  GPS unavailable and recovery flow
════════════════════════════════════════════════════════════════════════════════════════════════════
00:00 +0 -7: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/integration/complete_attendance_flow_test.dart: Complete Attendance Flow Integration Tests Error Handling and Recovery Tests GPS unavailable and recovery flow [E]
  Test failed. See exception logs above.
  The test description was: GPS unavailable and recovery flow
  
00:00 +0 -7: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/integration/complete_attendance_flow_test.dart: Complete Attendance Flow Integration Tests Performance and Memory Tests Long running attendance session test
🚀 Iniciando GeoAsist con servicios de Fase C...
══╡ EXCEPTION CAUGHT BY FLUTTER TEST FRAMEWORK ╞════════════════════════════════════════════════════
The following StateError was thrown running a test:
Bad state: No element

When the exception was thrown, this was the stack:
#0      Iterable.single (dart:core/iterable.dart:694:25)
#1      WidgetController.state (package:flutter_test/src/controller.dart:908:42)
#2      WidgetTester.showKeyboard.<anonymous closure> (package:flutter_test/src/widget_tester.dart:1127:42)
#5      TestAsyncUtils.guard (package:flutter_test/src/test_async_utils.dart:74:41)
#6      WidgetTester.showKeyboard (package:flutter_test/src/widget_tester.dart:1126:27)
#7      WidgetTester.enterText.<anonymous closure> (package:flutter_test/src/widget_tester.dart:1162:13)
#10     TestAsyncUtils.guard (package:flutter_test/src/test_async_utils.dart:74:41)
#11     WidgetTester.enterText (package:flutter_test/src/widget_tester.dart:1161:27)
#12     _performLogin (file:///D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/integration/complete_attendance_flow_test.dart:486:16)
#13     main.<anonymous closure>.<anonymous closure>.<anonymous closure> (file:///D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/integration/complete_attendance_flow_test.dart:459:15)
<asynchronous suspension>
#14     testWidgets.<anonymous closure>.<anonymous closure> (package:flutter_test/src/widget_tester.dart:193:15)
<asynchronous suspension>
#15     TestWidgetsFlutterBinding._runTestBody (package:flutter_test/src/binding.dart:1064:5)
<asynchronous suspension>
<asynchronous suspension>
(elided 5 frames from dart:async and package:stack_trace)

The test description was:
  Long running attendance session test
════════════════════════════════════════════════════════════════════════════════════════════════════
00:00 +0 -8: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/integration/complete_attendance_flow_test.dart: Complete Attendance Flow Integration Tests Performance and Memory Tests Long running attendance session test [E]
  Test failed. See exception logs above.
  The test description was: Long running attendance session test
  
00:00 +0 -8: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/integration/map_view_integration_test.dart: MapView Integration Tests Basic Widget Construction Tests should construct MapView widget without errors
🎯 MapViewScreen iniciando con restricciones de seguridad FASE C
🔍 Validando argumentos de navegación:
   - isStudentMode: true
   - eventoId: test_event_123
   - permissionsValidated: null
   - preciseLocationGranted: null
   - backgroundPermissionsGranted: null
   - batteryOptimizationDisabled: null
🚨 ACCESO DIRECTO NO PERMITIDO - Redirigiendo a validaciones
🔒 PASO 1: Re-validando permisos críticos...
══╡ EXCEPTION CAUGHT BY SCHEDULER LIBRARY ╞═════════════════════════════════════════════════════════
The following assertion was thrown during a scheduler callback:
Could not find a generator for route RouteSettings("/available-events", null) in the
_WidgetsAppState.
Make sure your root app widget has provided a way to generate
this route.
Generators for routes are searched for in the following order:
 1. For the "/" route, the "home" property, if non-null, is used.
 2. Otherwise, the "routes" table is used, if it has an entry for the route.
 3. Otherwise, onGenerateRoute is called. It should return a non-null value for any valid route not
handled by "home" and "routes".
 4. Finally if all else fails onUnknownRoute is called.
Unfortunately, onUnknownRoute was not set.

When the exception was thrown, this was the stack:
#0      _WidgetsAppState._onUnknownRoute.<anonymous closure> (package:flutter/src/widgets/app.dart:1571:9)
#1      _WidgetsAppState._onUnknownRoute (package:flutter/src/widgets/app.dart:1586:6)
#2      NavigatorState._routeNamed (package:flutter/src/widgets/navigator.dart:4668:37)
#3      NavigatorState.pushReplacementNamed (package:flutter/src/widgets/navigator.dart:4785:7)
#4      Navigator.pushReplacementNamed (package:flutter/src/widgets/navigator.dart:2024:7)
#5      _MapViewScreenState._validateNavigationArguments.<anonymous closure> (package:geo_asist_front/screens/map_view/map_view_screen.dart:145:19)
#6      SchedulerBinding._invokeFrameCallback (package:flutter/src/scheduler/binding.dart:1438:15)
#7      SchedulerBinding.handleDrawFrame (package:flutter/src/scheduler/binding.dart:1365:11)
#8      AutomatedTestWidgetsFlutterBinding.pump.<anonymous closure> (package:flutter_test/src/binding.dart:1340:9)
#11     TestAsyncUtils.guard (package:flutter_test/src/test_async_utils.dart:74:41)
#12     AutomatedTestWidgetsFlutterBinding.pump (package:flutter_test/src/binding.dart:1329:27)
#13     WidgetTester.pumpWidget.<anonymous closure> (package:flutter_test/src/widget_tester.dart:599:22)
#16     TestAsyncUtils.guard (package:flutter_test/src/test_async_utils.dart:74:41)
#17     WidgetTester.pumpWidget (package:flutter_test/src/widget_tester.dart:596:27)
#18     main.<anonymous closure>.<anonymous closure>.<anonymous closure> (file:///D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/integration/map_view_integration_test.dart:42:22)
#19     testWidgets.<anonymous closure>.<anonymous closure> (package:flutter_test/src/widget_tester.dart:193:29)
<asynchronous suspension>
#20     TestWidgetsFlutterBinding._runTestBody (package:flutter_test/src/binding.dart:1064:5)
<asynchronous suspension>
<asynchronous suspension>
(elided 5 frames from dart:async and package:stack_trace)
════════════════════════════════════════════════════════════════════════════════════════════════════
00:01 +0 -9: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/integration/map_view_integration_test.dart: MapView Integration Tests Basic Widget Construction Tests should construct MapView widget without errors [E]
  Test failed. See exception logs above.
  The test description was: should construct MapView widget without errors
  
Warning: At least one test in this suite creates an HttpClient. When running a test suite that uses
TestWidgetsFlutterBinding, all HTTP requests will return status code 400, and no network request
will actually be made. Any test expecting a real network connection and status code will fail.
To test code that needs an HttpClient, provide your own HttpClient implementation to the code under
test, so that your test can consistently provide a testable response to the code under test.
00:01 +0 -9: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/integration/map_view_integration_test.dart: MapView Integration Tests Basic Widget Construction Tests should create widget with student mode
🧹 Limpiando MapViewScreen...
🎯 MapViewScreen iniciando con restricciones de seguridad FASE C
🔍 Validando argumentos de navegación:
   - isStudentMode: true
   - eventoId: test_event_123
   - permissionsValidated: null
   - preciseLocationGranted: null
   - backgroundPermissionsGranted: null
   - batteryOptimizationDisabled: null
🚨 ACCESO DIRECTO NO PERMITIDO - Redirigiendo a validaciones
🔒 PASO 1: Re-validando permisos críticos...
══╡ EXCEPTION CAUGHT BY SCHEDULER LIBRARY ╞═════════════════════════════════════════════════════════
The following assertion was thrown during a scheduler callback:
Could not find a generator for route RouteSettings("/available-events", null) in the
_WidgetsAppState.
Make sure your root app widget has provided a way to generate
this route.
Generators for routes are searched for in the following order:
 1. For the "/" route, the "home" property, if non-null, is used.
 2. Otherwise, the "routes" table is used, if it has an entry for the route.
 3. Otherwise, onGenerateRoute is called. It should return a non-null value for any valid route not
handled by "home" and "routes".
 4. Finally if all else fails onUnknownRoute is called.
Unfortunately, onUnknownRoute was not set.

When the exception was thrown, this was the stack:
#0      _WidgetsAppState._onUnknownRoute.<anonymous closure> (package:flutter/src/widgets/app.dart:1571:9)
#1      _WidgetsAppState._onUnknownRoute (package:flutter/src/widgets/app.dart:1586:6)
#2      NavigatorState._routeNamed (package:flutter/src/widgets/navigator.dart:4668:37)
#3      NavigatorState.pushReplacementNamed (package:flutter/src/widgets/navigator.dart:4785:7)
#4      Navigator.pushReplacementNamed (package:flutter/src/widgets/navigator.dart:2024:7)
#5      _MapViewScreenState._validateNavigationArguments.<anonymous closure> (package:geo_asist_front/screens/map_view/map_view_screen.dart:145:19)
#6      SchedulerBinding._invokeFrameCallback (package:flutter/src/scheduler/binding.dart:1438:15)
#7      SchedulerBinding.handleDrawFrame (package:flutter/src/scheduler/binding.dart:1365:11)
#8      AutomatedTestWidgetsFlutterBinding.pump.<anonymous closure> (package:flutter_test/src/binding.dart:1340:9)
#11     TestAsyncUtils.guard (package:flutter_test/src/test_async_utils.dart:74:41)
#12     AutomatedTestWidgetsFlutterBinding.pump (package:flutter_test/src/binding.dart:1329:27)
#13     WidgetTester.pumpWidget.<anonymous closure> (package:flutter_test/src/widget_tester.dart:599:22)
#16     TestAsyncUtils.guard (package:flutter_test/src/test_async_utils.dart:74:41)
#17     WidgetTester.pumpWidget (package:flutter_test/src/widget_tester.dart:596:27)
#18     main.<anonymous closure>.<anonymous closure>.<anonymous closure> (file:///D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/integration/map_view_integration_test.dart:54:22)
#19     testWidgets.<anonymous closure>.<anonymous closure> (package:flutter_test/src/widget_tester.dart:193:29)
<asynchronous suspension>
#20     TestWidgetsFlutterBinding._runTestBody (package:flutter_test/src/binding.dart:1064:5)
<asynchronous suspension>
<asynchronous suspension>
(elided 5 frames from dart:async and package:stack_trace)
════════════════════════════════════════════════════════════════════════════════════════════════════
00:01 +0 -10: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/integration/map_view_integration_test.dart: MapView Integration Tests Basic Widget Construction Tests should create widget with student mode [E]
  Test failed. See exception logs above.
  The test description was: should create widget with student mode
  
00:01 +0 -10: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/integration/map_view_integration_test.dart: MapView Integration Tests Basic Widget Construction Tests should create widget with teacher mode
🧹 Limpiando MapViewScreen...
🎯 MapViewScreen iniciando con restricciones de seguridad FASE C
🔍 Validando argumentos de navegación:
   - isStudentMode: false
   - eventoId: test_event_123
   - permissionsValidated: null
   - preciseLocationGranted: null
   - backgroundPermissionsGranted: null
   - batteryOptimizationDisabled: null
🔒 PASO 1: Re-validando permisos críticos...
🧹 Limpiando MapViewScreen...
00:01 +1 -10: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/integration/map_view_integration_test.dart: MapView Integration Tests Basic Widget Construction Tests should handle different event IDs in construction
🎯 MapViewScreen iniciando con restricciones de seguridad FASE C
🔍 Validando argumentos de navegación:
   - isStudentMode: true
   - eventoId: different_event
   - permissionsValidated: null
   - preciseLocationGranted: null
   - backgroundPermissionsGranted: null
   - batteryOptimizationDisabled: null
🚨 ACCESO DIRECTO NO PERMITIDO - Redirigiendo a validaciones
🔒 PASO 1: Re-validando permisos críticos...
══╡ EXCEPTION CAUGHT BY SCHEDULER LIBRARY ╞═════════════════════════════════════════════════════════
The following assertion was thrown during a scheduler callback:
Could not find a generator for route RouteSettings("/available-events", null) in the
_WidgetsAppState.
Make sure your root app widget has provided a way to generate
this route.
Generators for routes are searched for in the following order:
 1. For the "/" route, the "home" property, if non-null, is used.
 2. Otherwise, the "routes" table is used, if it has an entry for the route.
 3. Otherwise, onGenerateRoute is called. It should return a non-null value for any valid route not
handled by "home" and "routes".
 4. Finally if all else fails onUnknownRoute is called.
Unfortunately, onUnknownRoute was not set.

When the exception was thrown, this was the stack:
#0      _WidgetsAppState._onUnknownRoute.<anonymous closure> (package:flutter/src/widgets/app.dart:1571:9)
#1      _WidgetsAppState._onUnknownRoute (package:flutter/src/widgets/app.dart:1586:6)
#2      NavigatorState._routeNamed (package:flutter/src/widgets/navigator.dart:4668:37)
#3      NavigatorState.pushReplacementNamed (package:flutter/src/widgets/navigator.dart:4785:7)
#4      Navigator.pushReplacementNamed (package:flutter/src/widgets/navigator.dart:2024:7)
#5      _MapViewScreenState._validateNavigationArguments.<anonymous closure> (package:geo_asist_front/screens/map_view/map_view_screen.dart:145:19)
#6      SchedulerBinding._invokeFrameCallback (package:flutter/src/scheduler/binding.dart:1438:15)
#7      SchedulerBinding.handleDrawFrame (package:flutter/src/scheduler/binding.dart:1365:11)
#8      AutomatedTestWidgetsFlutterBinding.pump.<anonymous closure> (package:flutter_test/src/binding.dart:1340:9)
#11     TestAsyncUtils.guard (package:flutter_test/src/test_async_utils.dart:74:41)
#12     AutomatedTestWidgetsFlutterBinding.pump (package:flutter_test/src/binding.dart:1329:27)
#13     WidgetTester.pumpWidget.<anonymous closure> (package:flutter_test/src/widget_tester.dart:599:22)
#16     TestAsyncUtils.guard (package:flutter_test/src/test_async_utils.dart:74:41)
#17     WidgetTester.pumpWidget (package:flutter_test/src/widget_tester.dart:596:27)
#18     main.<anonymous closure>.<anonymous closure>.<anonymous closure> (file:///D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/integration/map_view_integration_test.dart:73:22)
#19     testWidgets.<anonymous closure>.<anonymous closure> (package:flutter_test/src/widget_tester.dart:193:29)
<asynchronous suspension>
#20     TestWidgetsFlutterBinding._runTestBody (package:flutter_test/src/binding.dart:1064:5)
<asynchronous suspension>
<asynchronous suspension>
(elided 5 frames from dart:async and package:stack_trace)
════════════════════════════════════════════════════════════════════════════════════════════════════
00:01 +1 -11: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/unit/expanded_services_test.dart: ✅ Enhanced AsistenciaService Tests should create separate instances (not singleton)
00:01 +1 -11: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/integration/map_view_integration_test.dart: MapView Integration Tests Basic Widget Construction Tests should handle different event IDs in construction [E]
  Test failed. See exception logs above.
  The test description was: should handle different event IDs in construction
  
00:01 +2 -11: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/integration/map_view_integration_test.dart: MapView Integration Tests MapView Specific Tests should pass correct props to MapViewScreen
00:01 +3 -11: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/integration/map_view_integration_test.dart: MapView Integration Tests MapView Specific Tests should pass correct props to MapViewScreen
00:01 +3 -11: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/unit/expanded_services_test.dart: ✅ Enhanced AsistenciaService Tests should handle error states gracefully
👥 Obteniendo asistencias del evento: invalid_id
00:01 +4 -11: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/integration/map_view_integration_test.dart: MapView Integration Tests MapView Specific Tests should pass correct props to MapViewScreen
00:01 +4 -11: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/unit/expanded_services_test.dart: ✅ Enhanced AsistenciaService Tests should handle error states gracefully
❌ Excepción obteniendo asistencias: MissingPluginException(No implementation found for method getAll on channel plugins.flutter.io/shared_preferences)
00:01 +4 -11: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/integration/map_view_integration_test.dart: MapView Integration Tests MapView Specific Tests should pass correct props to MapViewScreen
🧹 Limpiando MapViewScreen...
🎯 MapViewScreen iniciando con restricciones de seguridad FASE C
🔍 Validando argumentos de navegación:
   - isStudentMode: true
   - eventoId: specific_event_123
   - permissionsValidated: null
00:01 +5 -11: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/integration/map_view_integration_test.dart: MapView Integration Tests MapView Specific Tests should pass correct props to MapViewScreen
   - preciseLocationGranted: null
   - backgroundPermissionsGranted: null
   - batteryOptimizationDisabled: null
🚨 ACCESO DIRECTO NO PERMITIDO - Redirigiendo a validaciones
🔒 PASO 1: Re-validando permisos críticos...
══╡ EXCEPTION CAUGHT BY SCHEDULER LIBRARY ╞═════════════════════════════════════════════════════════
The following assertion was thrown during a scheduler callback:
Could not find a generator for route RouteSettings("/available-events", null) in the
_WidgetsAppState.
Make sure your root app widget has provided a way to generate
this route.
Generators for routes are searched for in the following order:
 1. For the "/" route, the "home" property, if non-null, is used.
 2. Otherwise, the "routes" table is used, if it has an entry for the route.
 3. Otherwise, onGenerateRoute is called. It should return a non-null value for any valid route not
handled by "home" and "routes".
 4. Finally if all else fails onUnknownRoute is called.
Unfortunately, onUnknownRoute was not set.

When the exception was thrown, this was the stack:
#0      _WidgetsAppState._onUnknownRoute.<anonymous closure> (package:flutter/src/widgets/app.dart:1571:9)
#1      _WidgetsAppState._onUnknownRoute (package:flutter/src/widgets/app.dart:1586:6)
#2      NavigatorState._routeNamed (package:flutter/src/widgets/navigator.dart:4668:37)
#3      NavigatorState.pushReplacementNamed (package:flutter/src/widgets/navigator.dart:4785:7)
#4      Navigator.pushReplacementNamed (package:flutter/src/widgets/navigator.dart:2024:7)
#5      _MapViewScreenState._validateNavigationArguments.<anonymous closure> (package:geo_asist_front/screens/map_view/map_view_screen.dart:145:19)
#6      SchedulerBinding._invokeFrameCallback (package:flutter/src/scheduler/binding.dart:1438:15)
#7      SchedulerBinding.handleDrawFrame (package:flutter/src/scheduler/binding.dart:1365:11)
#8      AutomatedTestWidgetsFlutterBinding.pump.<anonymous closure> (package:flutter_test/src/binding.dart:1340:9)
#11     TestAsyncUtils.guard (package:flutter_test/src/test_async_utils.dart:74:41)
#12     AutomatedTestWidgetsFlutterBinding.pump (package:flutter_test/src/binding.dart:1329:27)
#13     WidgetTester.pumpWidget.<anonymous closure> (package:flutter_test/src/widget_tester.dart:599:22)
#16     TestAsyncUtils.guard (package:flutter_test/src/test_async_utils.dart:74:41)
#17     WidgetTester.pumpWidget (package:flutter_test/src/widget_tester.dart:596:27)
#18     main.<anonymous closure>.<anonymous closure>.<anonymous closure> (file:///D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/integration/map_view_integration_test.dart:84:22)
#19     testWidgets.<anonymous closure>.<anonymous closure> (package:flutter_test/src/widget_tester.dart:193:29)
<asynchronous suspension>
#20     TestWidgetsFlutterBinding._runTestBody (package:flutter_test/src/binding.dart:1064:5)
<asynchronous suspension>
<asynchronous suspension>
(elided 5 frames from dart:async and package:stack_trace)
════════════════════════════════════════════════════════════════════════════════════════════════════
00:01 +5 -12: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/unit/expanded_services_test.dart: ✅ Enhanced EventoService Tests should be singleton
00:01 +5 -12: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/integration/map_view_integration_test.dart: MapView Integration Tests MapView Specific Tests should pass correct props to MapViewScreen [E]
  Test failed. See exception logs above.
  The test description was: should pass correct props to MapViewScreen
  
00:01 +6 -12: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/integration/map_view_integration_test.dart: MapView Integration Tests MapView Specific Tests should handle teacher mode configuration
00:01 +7 -12: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/integration/map_view_integration_test.dart: MapView Integration Tests MapView Specific Tests should handle teacher mode configuration
00:01 +8 -12: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/integration/map_view_integration_test.dart: MapView Integration Tests MapView Specific Tests should handle teacher mode configuration
00:01 +9 -12: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/integration/map_view_integration_test.dart: MapView Integration Tests MapView Specific Tests should handle teacher mode configuration
00:01 +10 -12: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/integration/map_view_integration_test.dart: MapView Integration Tests MapView Specific Tests should handle teacher mode configuration
00:01 +10 -12: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/unit/expanded_services_test.dart: ✅ Enhanced EventoService Tests should handle resource cleanup
🧹 Disposing EventoService resources
🧹 Cleared all loading states
✅ EventoService disposed successfully
00:01 +11 -12: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/integration/map_view_integration_test.dart: MapView Integration Tests MapView Specific Tests should handle teacher mode configuration
00:01 +12 -12: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/integration/map_view_integration_test.dart: MapView Integration Tests MapView Specific Tests should handle teacher mode configuration
00:01 +13 -12: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/integration/map_view_integration_test.dart: MapView Integration Tests MapView Specific Tests should handle teacher mode configuration
🧹 Limpiando MapViewScreen...
🎯 MapViewScreen iniciando con restricciones de seguridad FASE C
🔍 Validando argumentos de navegación:
   - isStudentMode: false
   - eventoId: test_event_123
   - permissionsValidated: null
   - preciseLocationGranted: null
   - backgroundPermissionsGranted: null
   - batteryOptimizationDisabled: null
🔒 PASO 1: Re-validando permisos críticos...
🧹 Limpiando MapViewScreen...
00:01 +14 -12: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/unit/expanded_services_test.dart: ✅ Enhanced LocationService Tests should provide performance statistics
00:01 +14 -12: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/integration/map_view_integration_test.dart: MapView Integration Tests MapView Specific Tests should maintain widget key consistency
🎯 MapViewScreen iniciando con restricciones de seguridad FASE C
🔍 Validando argumentos de navegación:
   - isStudentMode: true
00:01 +14 -13: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/integration/map_view_integration_test.dart: MapView Integration Tests MapView Specific Tests should maintain widget key consistency
   - eventoId: test_event_123
   - permissionsValidated: null
   - preciseLocationGranted: null
   - backgroundPermissionsGranted: null
00:01 +14 -13: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/unit/expanded_services_test.dart: ✅ Enhanced LocationService Tests should provide performance statistics [E]
  Expected: <true>
    Actual: <false>
  
  package:matcher                                     expect
  package:flutter_test/src/widget_tester.dart 474:18  expect
  test\unit\expanded_services_test.dart 119:7         main.<fn>.<fn>
  
00:01 +14 -13: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/integration/map_view_integration_test.dart: MapView Integration Tests MapView Specific Tests should maintain widget key consistency
   - batteryOptimizationDisabled: null
🚨 ACCESO DIRECTO NO PERMITIDO - Redirigiendo a validaciones
🔒 PASO 1: Re-validando permisos críticos...
══╡ EXCEPTION CAUGHT BY SCHEDULER LIBRARY ╞═════════════════════════════════════════════════════════
The following assertion was thrown during a scheduler callback:
Could not find a generator for route RouteSettings("/available-events", null) in the
_WidgetsAppState.
Make sure your root app widget has provided a way to generate
this route.
Generators for routes are searched for in the following order:
 1. For the "/" route, the "home" property, if non-null, is used.
 2. Otherwise, the "routes" table is used, if it has an entry for the route.
 3. Otherwise, onGenerateRoute is called. It should return a non-null value for any valid route not
handled by "home" and "routes".
 4. Finally if all else fails onUnknownRoute is called.
Unfortunately, onUnknownRoute was not set.

When the exception was thrown, this was the stack:
#0      _WidgetsAppState._onUnknownRoute.<anonymous closure> (package:flutter/src/widgets/app.dart:1571:9)
#1      _WidgetsAppState._onUnknownRoute (package:flutter/src/widgets/app.dart:1586:6)
#2      NavigatorState._routeNamed (package:flutter/src/widgets/navigator.dart:4668:37)
#3      NavigatorState.pushReplacementNamed (package:flutter/src/widgets/navigator.dart:4785:7)
#4      Navigator.pushReplacementNamed (package:flutter/src/widgets/navigator.dart:2024:7)
#5      _MapViewScreenState._validateNavigationArguments.<anonymous closure> (package:geo_asist_front/screens/map_view/map_view_screen.dart:145:19)
#6      SchedulerBinding._invokeFrameCallback (package:flutter/src/scheduler/binding.dart:1438:15)
#7      SchedulerBinding.handleDrawFrame (package:flutter/src/scheduler/binding.dart:1365:11)
#8      AutomatedTestWidgetsFlutterBinding.pump.<anonymous closure> (package:flutter_test/src/binding.dart:1340:9)
#11     TestAsyncUtils.guard (package:flutter_test/src/test_async_utils.dart:74:41)
#12     AutomatedTestWidgetsFlutterBinding.pump (package:flutter_test/src/binding.dart:1329:27)
#13     WidgetTester.pumpWidget.<anonymous closure> (package:flutter_test/src/widget_tester.dart:599:22)
#16     TestAsyncUtils.guard (package:flutter_test/src/test_async_utils.dart:74:41)
#17     WidgetTester.pumpWidget (package:flutter_test/src/widget_tester.dart:596:27)
#18     main.<anonymous closure>.<anonymous closure>.<anonymous closure> (file:///D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/integration/map_view_integration_test.dart:123:22)
#19     testWidgets.<anonymous closure>.<anonymous closure> (package:flutter_test/src/widget_tester.dart:193:29)
<asynchronous suspension>
#20     TestWidgetsFlutterBinding._runTestBody (package:flutter_test/src/binding.dart:1064:5)
<asynchronous suspension>
<asynchronous suspension>
(elided 5 frames from dart:async and package:stack_trace)
════════════════════════════════════════════════════════════════════════════════════════════════════
00:01 +14 -14: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/unit/expanded_services_test.dart: ✅ Enhanced LocationService Tests should handle resource cleanup
00:01 +14 -14: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/integration/map_view_integration_test.dart: MapView Integration Tests MapView Specific Tests should maintain widget key consistency [E]
  Test failed. See exception logs above.
  The test description was: should maintain widget key consistency
  
00:01 +14 -14: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/unit/expanded_services_test.dart: ✅ Enhanced LocationService Tests should handle resource cleanup
🧹 Disposing LocationService resources
✅ LocationService disposed
00:01 +15 -14: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/integration/map_view_integration_test.dart: MapView Integration Tests Widget Structure Tests should have basic widget hierarchy
00:01 +16 -14: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/integration/map_view_integration_test.dart: MapView Integration Tests Widget Structure Tests should have basic widget hierarchy
00:01 +17 -14: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/integration/map_view_integration_test.dart: MapView Integration Tests Widget Structure Tests should have basic widget hierarchy
00:01 +18 -14: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/integration/map_view_integration_test.dart: MapView Integration Tests Widget Structure Tests should have basic widget hierarchy
00:01 +19 -14: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/integration/map_view_integration_test.dart: MapView Integration Tests Widget Structure Tests should have basic widget hierarchy
00:01 +20 -14: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/integration/map_view_integration_test.dart: MapView Integration Tests Widget Structure Tests should have basic widget hierarchy
🧹 Limpiando MapViewScreen...
🎯 MapViewScreen iniciando con restricciones de seguridad FASE C
🔍 Validando argumentos de navegación:
   - isStudentMode: true
   - eventoId: test_event_123
   - permissionsValidated: null
   - preciseLocationGranted: null
   - backgroundPermissionsGranted: null
   - batteryOptimizationDisabled: null
🚨 ACCESO DIRECTO NO PERMITIDO - Redirigiendo a validaciones
🔒 PASO 1: Re-validando permisos críticos...
══╡ EXCEPTION CAUGHT BY SCHEDULER LIBRARY ╞═════════════════════════════════════════════════════════
The following assertion was thrown during a scheduler callback:
Could not find a generator for route RouteSettings("/available-events", null) in the
_WidgetsAppState.
Make sure your root app widget has provided a way to generate
this route.
Generators for routes are searched for in the following order:
 1. For the "/" route, the "home" property, if non-null, is used.
 2. Otherwise, the "routes" table is used, if it has an entry for the route.
 3. Otherwise, onGenerateRoute is called. It should return a non-null value for any valid route not
handled by "home" and "routes".
 4. Finally if all else fails onUnknownRoute is called.
Unfortunately, onUnknownRoute was not set.

When the exception was thrown, this was the stack:
#0      _WidgetsAppState._onUnknownRoute.<anonymous closure> (package:flutter/src/widgets/app.dart:1571:9)
#1      _WidgetsAppState._onUnknownRoute (package:flutter/src/widgets/app.dart:1586:6)
#2      NavigatorState._routeNamed (package:flutter/src/widgets/navigator.dart:4668:37)
#3      NavigatorState.pushReplacementNamed (package:flutter/src/widgets/navigator.dart:4785:7)
#4      Navigator.pushReplacementNamed (package:flutter/src/widgets/navigator.dart:2024:7)
#5      _MapViewScreenState._validateNavigationArguments.<anonymous closure> (package:geo_asist_front/screens/map_view/map_view_screen.dart:145:19)
#6      SchedulerBinding._invokeFrameCallback (package:flutter/src/scheduler/binding.dart:1438:15)
#7      SchedulerBinding.handleDrawFrame (package:flutter/src/scheduler/binding.dart:1365:11)
#8      AutomatedTestWidgetsFlutterBinding.pump.<anonymous closure> (package:flutter_test/src/binding.dart:1340:9)
#11     TestAsyncUtils.guard (package:flutter_test/src/test_async_utils.dart:74:41)
#12     AutomatedTestWidgetsFlutterBinding.pump (package:flutter_test/src/binding.dart:1329:27)
#13     WidgetTester.pumpWidget.<anonymous closure> (package:flutter_test/src/widget_tester.dart:599:22)
#16     TestAsyncUtils.guard (package:flutter_test/src/test_async_utils.dart:74:41)
#17     WidgetTester.pumpWidget (package:flutter_test/src/widget_tester.dart:596:27)
#18     main.<anonymous closure>.<anonymous closure>.<anonymous closure> (file:///D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/integration/map_view_integration_test.dart:134:22)
#19     testWidgets.<anonymous closure>.<anonymous closure> (package:flutter_test/src/widget_tester.dart:193:29)
<asynchronous suspension>
#20     TestWidgetsFlutterBinding._runTestBody (package:flutter_test/src/binding.dart:1064:5)
<asynchronous suspension>
<asynchronous suspension>
(elided 5 frames from dart:async and package:stack_trace)
════════════════════════════════════════════════════════════════════════════════════════════════════
00:01 +20 -15: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/unit/expanded_services_test.dart: ✅ Enhanced BackgroundLocationService Tests should handle initialization
00:01 +20 -15: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/integration/map_view_integration_test.dart: MapView Integration Tests Widget Structure Tests should have basic widget hierarchy [E]
  Test failed. See exception logs above.
  The test description was: should have basic widget hierarchy
  
00:01 +20 -15: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/unit/expanded_services_test.dart: ✅ Enhanced BackgroundLocationService Tests should handle initialization
🚀 Initializing enhanced background location service
❌ Error initializing background service: UnimplementedError: No implementation found for workmanager on this platform. Make sure to add the platform-specific implementation package to your dependencies.
00:01 +20 -16: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/integration/map_view_integration_test.dart: MapView Integration Tests Widget Structure Tests should create widget tree successfully
00:01 +20 -16: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/unit/expanded_services_test.dart: ✅ Enhanced BackgroundLocationService Tests should handle initialization [E]
  UnimplementedError: No implementation found for workmanager on this platform. Make sure to add the platform-specific implementation package to your dependencies.
  package:workmanager_platform_interface/src/workmanager_platform_interface.dart 155:5  _PlaceholderImplementation.initialize
  package:workmanager/src/workmanager_impl.dart 129:22                                  Workmanager.initialize
  package:geo_asist_front/services/background_location_service.dart 221:27              BackgroundLocationService.initialize
  test\unit\expanded_services_test.dart 175:28                                          main.<fn>.<fn>.<fn>
  package:matcher                                                                       expect
  package:flutter_test/src/widget_tester.dart 474:18                                    expect
  test\unit\expanded_services_test.dart 175:7                                           main.<fn>.<fn>
  ===== asynchronous gap ===========================
  dart:async                                                                            _CustomZone.registerBinaryCallback
  package:geo_asist_front/services/background_location_service.dart 221:7               BackgroundLocationService.initialize
  test\unit\expanded_services_test.dart 175:28                                          main.<fn>.<fn>.<fn>
  package:matcher                                                                       expect
  package:flutter_test/src/widget_tester.dart 474:18                                    expect
  test\unit\expanded_services_test.dart 175:7                                           main.<fn>.<fn>
  
00:01 +21 -16: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/integration/map_view_integration_test.dart: MapView Integration Tests Widget Structure Tests should create widget tree successfully
00:01 +22 -16: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/integration/map_view_integration_test.dart: MapView Integration Tests Widget Structure Tests should create widget tree successfully
00:01 +23 -16: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/integration/map_view_integration_test.dart: MapView Integration Tests Widget Structure Tests should create widget tree successfully
00:01 +24 -16: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/integration/map_view_integration_test.dart: MapView Integration Tests Widget Structure Tests should create widget tree successfully
00:01 +25 -16: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/integration/map_view_integration_test.dart: MapView Integration Tests Widget Structure Tests should create widget tree successfully
00:01 +26 -16: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/integration/map_view_integration_test.dart: MapView Integration Tests Widget Structure Tests should create widget tree successfully
00:01 +27 -16: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/integration/map_view_integration_test.dart: MapView Integration Tests Widget Structure Tests should create widget tree successfully
00:01 +28 -16: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/integration/map_view_integration_test.dart: MapView Integration Tests Widget Structure Tests should create widget tree successfully
🧹 Limpiando MapViewScreen...
🎯 MapViewScreen iniciando con restricciones de seguridad FASE C
🔍 Validando argumentos de navegación:
   - isStudentMode: true
   - eventoId: test_event_123
   - permissionsValidated: null
   - preciseLocationGranted: null
   - backgroundPermissionsGranted: null
   - batteryOptimizationDisabled: null
🚨 ACCESO DIRECTO NO PERMITIDO - Redirigiendo a validaciones
🔒 PASO 1: Re-validando permisos críticos...
══╡ EXCEPTION CAUGHT BY SCHEDULER LIBRARY ╞═════════════════════════════════════════════════════════
The following assertion was thrown during a scheduler callback:
Could not find a generator for route RouteSettings("/available-events", null) in the
_WidgetsAppState.
Make sure your root app widget has provided a way to generate
this route.
Generators for routes are searched for in the following order:
 1. For the "/" route, the "home" property, if non-null, is used.
 2. Otherwise, the "routes" table is used, if it has an entry for the route.
 3. Otherwise, onGenerateRoute is called. It should return a non-null value for any valid route not
handled by "home" and "routes".
 4. Finally if all else fails onUnknownRoute is called.
Unfortunately, onUnknownRoute was not set.

When the exception was thrown, this was the stack:
#0      _WidgetsAppState._onUnknownRoute.<anonymous closure> (package:flutter/src/widgets/app.dart:1571:9)
#1      _WidgetsAppState._onUnknownRoute (package:flutter/src/widgets/app.dart:1586:6)
#2      NavigatorState._routeNamed (package:flutter/src/widgets/navigator.dart:4668:37)
#3      NavigatorState.pushReplacementNamed (package:flutter/src/widgets/navigator.dart:4785:7)
#4      Navigator.pushReplacementNamed (package:flutter/src/widgets/navigator.dart:2024:7)
#5      _MapViewScreenState._validateNavigationArguments.<anonymous closure> (package:geo_asist_front/screens/map_view/map_view_screen.dart:145:19)
#6      SchedulerBinding._invokeFrameCallback (package:flutter/src/scheduler/binding.dart:1438:15)
#7      SchedulerBinding.handleDrawFrame (package:flutter/src/scheduler/binding.dart:1365:11)
#8      AutomatedTestWidgetsFlutterBinding.pump.<anonymous closure> (package:flutter_test/src/binding.dart:1340:9)
#11     TestAsyncUtils.guard (package:flutter_test/src/test_async_utils.dart:74:41)
#12     AutomatedTestWidgetsFlutterBinding.pump (package:flutter_test/src/binding.dart:1329:27)
#13     WidgetTester.pumpWidget.<anonymous closure> (package:flutter_test/src/widget_tester.dart:599:22)
#16     TestAsyncUtils.guard (package:flutter_test/src/test_async_utils.dart:74:41)
#17     WidgetTester.pumpWidget (package:flutter_test/src/widget_tester.dart:596:27)
#18     main.<anonymous closure>.<anonymous closure>.<anonymous closure> (file:///D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/integration/map_view_integration_test.dart:145:22)
#19     testWidgets.<anonymous closure>.<anonymous closure> (package:flutter_test/src/widget_tester.dart:193:29)
<asynchronous suspension>
#20     TestWidgetsFlutterBinding._runTestBody (package:flutter_test/src/binding.dart:1064:5)
<asynchronous suspension>
<asynchronous suspension>
(elided 5 frames from dart:async and package:stack_trace)
════════════════════════════════════════════════════════════════════════════════════════════════════
00:01 +28 -17: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/integration/map_view_integration_test.dart: MapView Integration Tests Widget Structure Tests should create widget tree successfully [E]
  Test failed. See exception logs above.
  The test description was: should create widget tree successfully
  
00:01 +28 -17: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/integration/map_view_integration_test.dart: MapView Integration Tests Parameter Handling Tests should handle null event ID gracefully
🧹 Limpiando MapViewScreen...
🎯 MapViewScreen iniciando con restricciones de seguridad FASE C
🔍 Validando argumentos de navegación:
   - isStudentMode: true
   - eventoId: test_event_123
   - permissionsValidated: null
   - preciseLocationGranted: null
   - backgroundPermissionsGranted: null
   - batteryOptimizationDisabled: null
🚨 ACCESO DIRECTO NO PERMITIDO - Redirigiendo a validaciones
🔒 PASO 1: Re-validando permisos críticos...
══╡ EXCEPTION CAUGHT BY SCHEDULER LIBRARY ╞═════════════════════════════════════════════════════════
The following assertion was thrown during a scheduler callback:
Could not find a generator for route RouteSettings("/available-events", null) in the
_WidgetsAppState.
Make sure your root app widget has provided a way to generate
this route.
Generators for routes are searched for in the following order:
 1. For the "/" route, the "home" property, if non-null, is used.
 2. Otherwise, the "routes" table is used, if it has an entry for the route.
 3. Otherwise, onGenerateRoute is called. It should return a non-null value for any valid route not
handled by "home" and "routes".
 4. Finally if all else fails onUnknownRoute is called.
Unfortunately, onUnknownRoute was not set.

When the exception was thrown, this was the stack:
#0      _WidgetsAppState._onUnknownRoute.<anonymous closure> (package:flutter/src/widgets/app.dart:1571:9)
#1      _WidgetsAppState._onUnknownRoute (package:flutter/src/widgets/app.dart:1586:6)
#2      NavigatorState._routeNamed (package:flutter/src/widgets/navigator.dart:4668:37)
#3      NavigatorState.pushReplacementNamed (package:flutter/src/widgets/navigator.dart:4785:7)
#4      Navigator.pushReplacementNamed (package:flutter/src/widgets/navigator.dart:2024:7)
#5      _MapViewScreenState._validateNavigationArguments.<anonymous closure> (package:geo_asist_front/screens/map_view/map_view_screen.dart:145:19)
#6      SchedulerBinding._invokeFrameCallback (package:flutter/src/scheduler/binding.dart:1438:15)
#7      SchedulerBinding.handleDrawFrame (package:flutter/src/scheduler/binding.dart:1365:11)
#8      AutomatedTestWidgetsFlutterBinding.pump.<anonymous closure> (package:flutter_test/src/binding.dart:1340:9)
#11     TestAsyncUtils.guard (package:flutter_test/src/test_async_utils.dart:74:41)
#12     AutomatedTestWidgetsFlutterBinding.pump (package:flutter_test/src/binding.dart:1329:27)
#13     WidgetTester.pumpWidget.<anonymous closure> (package:flutter_test/src/widget_tester.dart:599:22)
#16     TestAsyncUtils.guard (package:flutter_test/src/test_async_utils.dart:74:41)
#17     WidgetTester.pumpWidget (package:flutter_test/src/widget_tester.dart:596:27)
#18     main.<anonymous closure>.<anonymous closure>.<anonymous closure> (file:///D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/integration/map_view_integration_test.dart:158:22)
#19     testWidgets.<anonymous closure>.<anonymous closure> (package:flutter_test/src/widget_tester.dart:193:29)
<asynchronous suspension>
#20     TestWidgetsFlutterBinding._runTestBody (package:flutter_test/src/binding.dart:1064:5)
<asynchronous suspension>
<asynchronous suspension>
(elided 5 frames from dart:async and package:stack_trace)
════════════════════════════════════════════════════════════════════════════════════════════════════
00:01 +28 -18: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/integration/map_view_integration_test.dart: MapView Integration Tests Parameter Handling Tests should handle null event ID gracefully [E]
  Test failed. See exception logs above.
  The test description was: should handle null event ID gracefully
  
00:01 +28 -18: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/integration/map_view_integration_test.dart: MapView Integration Tests Parameter Handling Tests should handle empty event ID gracefully
🧹 Limpiando MapViewScreen...
🎯 MapViewScreen iniciando con restricciones de seguridad FASE C
🔍 Validando argumentos de navegación:
   - isStudentMode: true
   - eventoId: 
   - permissionsValidated: null
   - preciseLocationGranted: null
   - backgroundPermissionsGranted: null
   - batteryOptimizationDisabled: null
🚨 ACCESO DIRECTO NO PERMITIDO - Redirigiendo a validaciones
🔒 PASO 1: Re-validando permisos críticos...
══╡ EXCEPTION CAUGHT BY SCHEDULER LIBRARY ╞═════════════════════════════════════════════════════════
The following assertion was thrown during a scheduler callback:
Could not find a generator for route RouteSettings("/available-events", null) in the
_WidgetsAppState.
Make sure your root app widget has provided a way to generate
this route.
Generators for routes are searched for in the following order:
 1. For the "/" route, the "home" property, if non-null, is used.
 2. Otherwise, the "routes" table is used, if it has an entry for the route.
 3. Otherwise, onGenerateRoute is called. It should return a non-null value for any valid route not
handled by "home" and "routes".
 4. Finally if all else fails onUnknownRoute is called.
Unfortunately, onUnknownRoute was not set.

When the exception was thrown, this was the stack:
#0      _WidgetsAppState._onUnknownRoute.<anonymous closure> (package:flutter/src/widgets/app.dart:1571:9)
#1      _WidgetsAppState._onUnknownRoute (package:flutter/src/widgets/app.dart:1586:6)
#2      NavigatorState._routeNamed (package:flutter/src/widgets/navigator.dart:4668:37)
#3      NavigatorState.pushReplacementNamed (package:flutter/src/widgets/navigator.dart:4785:7)
#4      Navigator.pushReplacementNamed (package:flutter/src/widgets/navigator.dart:2024:7)
#5      _MapViewScreenState._validateNavigationArguments.<anonymous closure> (package:geo_asist_front/screens/map_view/map_view_screen.dart:145:19)
#6      SchedulerBinding._invokeFrameCallback (package:flutter/src/scheduler/binding.dart:1438:15)
#7      SchedulerBinding.handleDrawFrame (package:flutter/src/scheduler/binding.dart:1365:11)
#8      AutomatedTestWidgetsFlutterBinding.pump.<anonymous closure> (package:flutter_test/src/binding.dart:1340:9)
#11     TestAsyncUtils.guard (package:flutter_test/src/test_async_utils.dart:74:41)
#12     AutomatedTestWidgetsFlutterBinding.pump (package:flutter_test/src/binding.dart:1329:27)
#13     WidgetTester.pumpWidget.<anonymous closure> (package:flutter_test/src/widget_tester.dart:599:22)
#16     TestAsyncUtils.guard (package:flutter_test/src/test_async_utils.dart:74:41)
#17     WidgetTester.pumpWidget (package:flutter_test/src/widget_tester.dart:596:27)
#18     main.<anonymous closure>.<anonymous closure>.<anonymous closure> (file:///D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/integration/map_view_integration_test.dart:167:22)
#19     testWidgets.<anonymous closure>.<anonymous closure> (package:flutter_test/src/widget_tester.dart:193:29)
<asynchronous suspension>
#20     TestWidgetsFlutterBinding._runTestBody (package:flutter_test/src/binding.dart:1064:5)
<asynchronous suspension>
<asynchronous suspension>
(elided 5 frames from dart:async and package:stack_trace)
════════════════════════════════════════════════════════════════════════════════════════════════════
00:01 +28 -19: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/integration/map_view_integration_test.dart: MapView Integration Tests Parameter Handling Tests should handle empty event ID gracefully [E]
  Test failed. See exception logs above.
  The test description was: should handle empty event ID gracefully
  
00:01 +28 -19: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/integration/map_view_integration_test.dart: MapView Integration Tests Parameter Handling Tests should handle empty user name gracefully
🧹 Limpiando MapViewScreen...
🎯 MapViewScreen iniciando con restricciones de seguridad FASE C
🔍 Validando argumentos de navegación:
   - isStudentMode: true
   - eventoId: test_event_123
   - permissionsValidated: null
   - preciseLocationGranted: null
   - backgroundPermissionsGranted: null
   - batteryOptimizationDisabled: null
🚨 ACCESO DIRECTO NO PERMITIDO - Redirigiendo a validaciones
🔒 PASO 1: Re-validando permisos críticos...
══╡ EXCEPTION CAUGHT BY SCHEDULER LIBRARY ╞═════════════════════════════════════════════════════════
The following assertion was thrown during a scheduler callback:
Could not find a generator for route RouteSettings("/available-events", null) in the
_WidgetsAppState.
Make sure your root app widget has provided a way to generate
this route.
Generators for routes are searched for in the following order:
 1. For the "/" route, the "home" property, if non-null, is used.
 2. Otherwise, the "routes" table is used, if it has an entry for the route.
 3. Otherwise, onGenerateRoute is called. It should return a non-null value for any valid route not
handled by "home" and "routes".
 4. Finally if all else fails onUnknownRoute is called.
Unfortunately, onUnknownRoute was not set.

When the exception was thrown, this was the stack:
#0      _WidgetsAppState._onUnknownRoute.<anonymous closure> (package:flutter/src/widgets/app.dart:1571:9)
#1      _WidgetsAppState._onUnknownRoute (package:flutter/src/widgets/app.dart:1586:6)
#2      NavigatorState._routeNamed (package:flutter/src/widgets/navigator.dart:4668:37)
#3      NavigatorState.pushReplacementNamed (package:flutter/src/widgets/navigator.dart:4785:7)
#4      Navigator.pushReplacementNamed (package:flutter/src/widgets/navigator.dart:2024:7)
#5      _MapViewScreenState._validateNavigationArguments.<anonymous closure> (package:geo_asist_front/screens/map_view/map_view_screen.dart:145:19)
#6      SchedulerBinding._invokeFrameCallback (package:flutter/src/scheduler/binding.dart:1438:15)
#7      SchedulerBinding.handleDrawFrame (package:flutter/src/scheduler/binding.dart:1365:11)
#8      AutomatedTestWidgetsFlutterBinding.pump.<anonymous closure> (package:flutter_test/src/binding.dart:1340:9)
#11     TestAsyncUtils.guard (package:flutter_test/src/test_async_utils.dart:74:41)
#12     AutomatedTestWidgetsFlutterBinding.pump (package:flutter_test/src/binding.dart:1329:27)
#13     WidgetTester.pumpWidget.<anonymous closure> (package:flutter_test/src/widget_tester.dart:599:22)
#16     TestAsyncUtils.guard (package:flutter_test/src/test_async_utils.dart:74:41)
#17     WidgetTester.pumpWidget (package:flutter_test/src/widget_tester.dart:596:27)
#18     main.<anonymous closure>.<anonymous closure>.<anonymous closure> (file:///D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/integration/map_view_integration_test.dart:185:22)
#19     testWidgets.<anonymous closure>.<anonymous closure> (package:flutter_test/src/widget_tester.dart:193:29)
<asynchronous suspension>
#20     TestWidgetsFlutterBinding._runTestBody (package:flutter_test/src/binding.dart:1064:5)
<asynchronous suspension>
<asynchronous suspension>
(elided 5 frames from dart:async and package:stack_trace)
════════════════════════════════════════════════════════════════════════════════════════════════════
00:01 +28 -20: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/integration/map_view_integration_test.dart: MapView Integration Tests Parameter Handling Tests should handle empty user name gracefully [E]
  Test failed. See exception logs above.
  The test description was: should handle empty user name gracefully
  
00:01 +28 -20: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/integration/map_view_integration_test.dart: MapView Integration Tests Widget Property Tests should handle various userName formats
🧹 Limpiando MapViewScreen...
🎯 MapViewScreen iniciando con restricciones de seguridad FASE C
🔍 Validando argumentos de navegación:
   - isStudentMode: true
   - eventoId: test_event_123
   - permissionsValidated: null
   - preciseLocationGranted: null
   - backgroundPermissionsGranted: null
   - batteryOptimizationDisabled: null
🚨 ACCESO DIRECTO NO PERMITIDO - Redirigiendo a validaciones
🔒 PASO 1: Re-validando permisos críticos...
══╡ EXCEPTION CAUGHT BY SCHEDULER LIBRARY ╞═════════════════════════════════════════════════════════
The following assertion was thrown during a scheduler callback:
Could not find a generator for route RouteSettings("/available-events", null) in the
_WidgetsAppState.
Make sure your root app widget has provided a way to generate
this route.
Generators for routes are searched for in the following order:
 1. For the "/" route, the "home" property, if non-null, is used.
 2. Otherwise, the "routes" table is used, if it has an entry for the route.
 3. Otherwise, onGenerateRoute is called. It should return a non-null value for any valid route not
handled by "home" and "routes".
 4. Finally if all else fails onUnknownRoute is called.
Unfortunately, onUnknownRoute was not set.

When the exception was thrown, this was the stack:
#0      _WidgetsAppState._onUnknownRoute.<anonymous closure> (package:flutter/src/widgets/app.dart:1571:9)
#1      _WidgetsAppState._onUnknownRoute (package:flutter/src/widgets/app.dart:1586:6)
#2      NavigatorState._routeNamed (package:flutter/src/widgets/navigator.dart:4668:37)
#3      NavigatorState.pushReplacementNamed (package:flutter/src/widgets/navigator.dart:4785:7)
#4      Navigator.pushReplacementNamed (package:flutter/src/widgets/navigator.dart:2024:7)
#5      _MapViewScreenState._validateNavigationArguments.<anonymous closure> (package:geo_asist_front/screens/map_view/map_view_screen.dart:145:19)
#6      SchedulerBinding._invokeFrameCallback (package:flutter/src/scheduler/binding.dart:1438:15)
#7      SchedulerBinding.handleDrawFrame (package:flutter/src/scheduler/binding.dart:1365:11)
#8      AutomatedTestWidgetsFlutterBinding.pump.<anonymous closure> (package:flutter_test/src/binding.dart:1340:9)
#11     TestAsyncUtils.guard (package:flutter_test/src/test_async_utils.dart:74:41)
#12     AutomatedTestWidgetsFlutterBinding.pump (package:flutter_test/src/binding.dart:1329:27)
#13     WidgetTester.pumpWidget.<anonymous closure> (package:flutter_test/src/widget_tester.dart:599:22)
#16     TestAsyncUtils.guard (package:flutter_test/src/test_async_utils.dart:74:41)
#17     WidgetTester.pumpWidget (package:flutter_test/src/widget_tester.dart:596:27)
#18     main.<anonymous closure>.<anonymous closure>.<anonymous closure> (file:///D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/integration/map_view_integration_test.dart:212:24)
#19     testWidgets.<anonymous closure>.<anonymous closure> (package:flutter_test/src/widget_tester.dart:193:29)
<asynchronous suspension>
#20     TestWidgetsFlutterBinding._runTestBody (package:flutter_test/src/binding.dart:1064:5)
<asynchronous suspension>
<asynchronous suspension>
(elided 5 frames from dart:async and package:stack_trace)
════════════════════════════════════════════════════════════════════════════════════════════════════
00:01 +28 -21: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/integration/map_view_integration_test.dart: MapView Integration Tests Widget Property Tests should handle various userName formats [E]
  Test failed. See exception logs above.
  The test description was: should handle various userName formats
  
00:01 +28 -21: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/integration/map_view_integration_test.dart: MapView Integration Tests Widget Property Tests should handle various eventId formats
🧹 Limpiando MapViewScreen...
🎯 MapViewScreen iniciando con restricciones de seguridad FASE C
🔍 Validando argumentos de navegación:
   - isStudentMode: true
   - eventoId: event_123
   - permissionsValidated: null
   - preciseLocationGranted: null
   - backgroundPermissionsGranted: null
   - batteryOptimizationDisabled: null
🚨 ACCESO DIRECTO NO PERMITIDO - Redirigiendo a validaciones
🔒 PASO 1: Re-validando permisos críticos...
══╡ EXCEPTION CAUGHT BY SCHEDULER LIBRARY ╞═════════════════════════════════════════════════════════
The following assertion was thrown during a scheduler callback:
Could not find a generator for route RouteSettings("/available-events", null) in the
_WidgetsAppState.
Make sure your root app widget has provided a way to generate
this route.
Generators for routes are searched for in the following order:
 1. For the "/" route, the "home" property, if non-null, is used.
 2. Otherwise, the "routes" table is used, if it has an entry for the route.
 3. Otherwise, onGenerateRoute is called. It should return a non-null value for any valid route not
handled by "home" and "routes".
 4. Finally if all else fails onUnknownRoute is called.
Unfortunately, onUnknownRoute was not set.

When the exception was thrown, this was the stack:
#0      _WidgetsAppState._onUnknownRoute.<anonymous closure> (package:flutter/src/widgets/app.dart:1571:9)
#1      _WidgetsAppState._onUnknownRoute (package:flutter/src/widgets/app.dart:1586:6)
#2      NavigatorState._routeNamed (package:flutter/src/widgets/navigator.dart:4668:37)
#3      NavigatorState.pushReplacementNamed (package:flutter/src/widgets/navigator.dart:4785:7)
#4      Navigator.pushReplacementNamed (package:flutter/src/widgets/navigator.dart:2024:7)
#5      _MapViewScreenState._validateNavigationArguments.<anonymous closure> (package:geo_asist_front/screens/map_view/map_view_screen.dart:145:19)
#6      SchedulerBinding._invokeFrameCallback (package:flutter/src/scheduler/binding.dart:1438:15)
#7      SchedulerBinding.handleDrawFrame (package:flutter/src/scheduler/binding.dart:1365:11)
#8      AutomatedTestWidgetsFlutterBinding.pump.<anonymous closure> (package:flutter_test/src/binding.dart:1340:9)
#11     TestAsyncUtils.guard (package:flutter_test/src/test_async_utils.dart:74:41)
#12     AutomatedTestWidgetsFlutterBinding.pump (package:flutter_test/src/binding.dart:1329:27)
#13     WidgetTester.pumpWidget.<anonymous closure> (package:flutter_test/src/widget_tester.dart:599:22)
#16     TestAsyncUtils.guard (package:flutter_test/src/test_async_utils.dart:74:41)
#17     WidgetTester.pumpWidget (package:flutter_test/src/widget_tester.dart:596:27)
#18     main.<anonymous closure>.<anonymous closure>.<anonymous closure> (file:///D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/integration/map_view_integration_test.dart:233:24)
#19     testWidgets.<anonymous closure>.<anonymous closure> (package:flutter_test/src/widget_tester.dart:193:29)
<asynchronous suspension>
#20     TestWidgetsFlutterBinding._runTestBody (package:flutter_test/src/binding.dart:1064:5)
<asynchronous suspension>
<asynchronous suspension>
(elided 5 frames from dart:async and package:stack_trace)
════════════════════════════════════════════════════════════════════════════════════════════════════
00:01 +28 -22: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/integration/map_view_integration_test.dart: MapView Integration Tests Widget Property Tests should handle various eventId formats [E]
  Test failed. See exception logs above.
  The test description was: should handle various eventId formats
  
00:01 +28 -22: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/integration/map_view_integration_test.dart: MapView Integration Tests Theme Integration Tests should apply theme correctly
🧹 Limpiando MapViewScreen...
🎯 MapViewScreen iniciando con restricciones de seguridad FASE C
🔍 Validando argumentos de navegación:
   - isStudentMode: true
   - eventoId: test_event_123
   - permissionsValidated: null
   - preciseLocationGranted: null
   - backgroundPermissionsGranted: null
   - batteryOptimizationDisabled: null
🚨 ACCESO DIRECTO NO PERMITIDO - Redirigiendo a validaciones
🔒 PASO 1: Re-validando permisos críticos...
══╡ EXCEPTION CAUGHT BY SCHEDULER LIBRARY ╞═════════════════════════════════════════════════════════
The following assertion was thrown during a scheduler callback:
Could not find a generator for route RouteSettings("/available-events", null) in the
_WidgetsAppState.
Make sure your root app widget has provided a way to generate
this route.
Generators for routes are searched for in the following order:
 1. For the "/" route, the "home" property, if non-null, is used.
 2. Otherwise, the "routes" table is used, if it has an entry for the route.
 3. Otherwise, onGenerateRoute is called. It should return a non-null value for any valid route not
handled by "home" and "routes".
 4. Finally if all else fails onUnknownRoute is called.
Unfortunately, onUnknownRoute was not set.

When the exception was thrown, this was the stack:
#0      _WidgetsAppState._onUnknownRoute.<anonymous closure> (package:flutter/src/widgets/app.dart:1571:9)
#1      _WidgetsAppState._onUnknownRoute (package:flutter/src/widgets/app.dart:1586:6)
#2      NavigatorState._routeNamed (package:flutter/src/widgets/navigator.dart:4668:37)
#3      NavigatorState.pushReplacementNamed (package:flutter/src/widgets/navigator.dart:4785:7)
#4      Navigator.pushReplacementNamed (package:flutter/src/widgets/navigator.dart:2024:7)
#5      _MapViewScreenState._validateNavigationArguments.<anonymous closure> (package:geo_asist_front/screens/map_view/map_view_screen.dart:145:19)
#6      SchedulerBinding._invokeFrameCallback (package:flutter/src/scheduler/binding.dart:1438:15)
#7      SchedulerBinding.handleDrawFrame (package:flutter/src/scheduler/binding.dart:1365:11)
#8      AutomatedTestWidgetsFlutterBinding.pump.<anonymous closure> (package:flutter_test/src/binding.dart:1340:9)
#11     TestAsyncUtils.guard (package:flutter_test/src/test_async_utils.dart:74:41)
#12     AutomatedTestWidgetsFlutterBinding.pump (package:flutter_test/src/binding.dart:1329:27)
#13     WidgetTester.pumpWidget.<anonymous closure> (package:flutter_test/src/widget_tester.dart:599:22)
#16     TestAsyncUtils.guard (package:flutter_test/src/test_async_utils.dart:74:41)
#17     WidgetTester.pumpWidget (package:flutter_test/src/widget_tester.dart:596:27)
#18     main.<anonymous closure>.<anonymous closure>.<anonymous closure> (file:///D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/integration/map_view_integration_test.dart:247:22)
#19     testWidgets.<anonymous closure>.<anonymous closure> (package:flutter_test/src/widget_tester.dart:193:29)
<asynchronous suspension>
#20     TestWidgetsFlutterBinding._runTestBody (package:flutter_test/src/binding.dart:1064:5)
<asynchronous suspension>
<asynchronous suspension>
(elided 5 frames from dart:async and package:stack_trace)
════════════════════════════════════════════════════════════════════════════════════════════════════
00:01 +28 -23: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/integration/map_view_integration_test.dart: MapView Integration Tests Theme Integration Tests should apply theme correctly [E]
  Test failed. See exception logs above.
  The test description was: should apply theme correctly
  
00:01 +28 -23: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/integration/map_view_integration_test.dart: MapView Integration Tests Theme Integration Tests should work with dark theme
🧹 Limpiando MapViewScreen...
🎯 MapViewScreen iniciando con restricciones de seguridad FASE C
🔍 Validando argumentos de navegación:
   - isStudentMode: true
   - eventoId: test_event_123
   - permissionsValidated: null
   - preciseLocationGranted: null
   - backgroundPermissionsGranted: null
   - batteryOptimizationDisabled: null
🚨 ACCESO DIRECTO NO PERMITIDO - Redirigiendo a validaciones
🔒 PASO 1: Re-validando permisos críticos...
══╡ EXCEPTION CAUGHT BY SCHEDULER LIBRARY ╞═════════════════════════════════════════════════════════
The following assertion was thrown during a scheduler callback:
Could not find a generator for route RouteSettings("/available-events", null) in the
_WidgetsAppState.
Make sure your root app widget has provided a way to generate
this route.
Generators for routes are searched for in the following order:
 1. For the "/" route, the "home" property, if non-null, is used.
 2. Otherwise, the "routes" table is used, if it has an entry for the route.
 3. Otherwise, onGenerateRoute is called. It should return a non-null value for any valid route not
handled by "home" and "routes".
 4. Finally if all else fails onUnknownRoute is called.
Unfortunately, onUnknownRoute was not set.

When the exception was thrown, this was the stack:
#0      _WidgetsAppState._onUnknownRoute.<anonymous closure> (package:flutter/src/widgets/app.dart:1571:9)
#1      _WidgetsAppState._onUnknownRoute (package:flutter/src/widgets/app.dart:1586:6)
#2      NavigatorState._routeNamed (package:flutter/src/widgets/navigator.dart:4668:37)
#3      NavigatorState.pushReplacementNamed (package:flutter/src/widgets/navigator.dart:4785:7)
#4      Navigator.pushReplacementNamed (package:flutter/src/widgets/navigator.dart:2024:7)
#5      _MapViewScreenState._validateNavigationArguments.<anonymous closure> (package:geo_asist_front/screens/map_view/map_view_screen.dart:145:19)
#6      SchedulerBinding._invokeFrameCallback (package:flutter/src/scheduler/binding.dart:1438:15)
#7      SchedulerBinding.handleDrawFrame (package:flutter/src/scheduler/binding.dart:1365:11)
#8      AutomatedTestWidgetsFlutterBinding.pump.<anonymous closure> (package:flutter_test/src/binding.dart:1340:9)
#11     TestAsyncUtils.guard (package:flutter_test/src/test_async_utils.dart:74:41)
#12     AutomatedTestWidgetsFlutterBinding.pump (package:flutter_test/src/binding.dart:1329:27)
#13     WidgetTester.pumpWidget.<anonymous closure> (package:flutter_test/src/widget_tester.dart:599:22)
#16     TestAsyncUtils.guard (package:flutter_test/src/test_async_utils.dart:74:41)
#17     WidgetTester.pumpWidget (package:flutter_test/src/widget_tester.dart:596:27)
#18     main.<anonymous closure>.<anonymous closure>.<anonymous closure> (file:///D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/integration/map_view_integration_test.dart:269:22)
#19     testWidgets.<anonymous closure>.<anonymous closure> (package:flutter_test/src/widget_tester.dart:193:29)
<asynchronous suspension>
#20     TestWidgetsFlutterBinding._runTestBody (package:flutter_test/src/binding.dart:1064:5)
<asynchronous suspension>
<asynchronous suspension>
(elided 5 frames from dart:async and package:stack_trace)
════════════════════════════════════════════════════════════════════════════════════════════════════
00:01 +28 -24: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/integration/map_view_integration_test.dart: MapView Integration Tests Theme Integration Tests should work with dark theme [E]
  Test failed. See exception logs above.
  The test description was: should work with dark theme
  
00:01 +28 -24: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/integration/map_view_integration_test.dart: MapView Integration Tests Widget Lifecycle Tests should handle widget rebuilds
🧹 Limpiando MapViewScreen...
🎯 MapViewScreen iniciando con restricciones de seguridad FASE C
🔍 Validando argumentos de navegación:
   - isStudentMode: true
   - eventoId: test_event_123
   - permissionsValidated: null
   - preciseLocationGranted: null
   - backgroundPermissionsGranted: null
   - batteryOptimizationDisabled: null
🚨 ACCESO DIRECTO NO PERMITIDO - Redirigiendo a validaciones
🔒 PASO 1: Re-validando permisos críticos...
══╡ EXCEPTION CAUGHT BY SCHEDULER LIBRARY ╞═════════════════════════════════════════════════════════
The following assertion was thrown during a scheduler callback:
Could not find a generator for route RouteSettings("/available-events", null) in the
_WidgetsAppState.
Make sure your root app widget has provided a way to generate
this route.
Generators for routes are searched for in the following order:
 1. For the "/" route, the "home" property, if non-null, is used.
 2. Otherwise, the "routes" table is used, if it has an entry for the route.
 3. Otherwise, onGenerateRoute is called. It should return a non-null value for any valid route not
handled by "home" and "routes".
 4. Finally if all else fails onUnknownRoute is called.
Unfortunately, onUnknownRoute was not set.

When the exception was thrown, this was the stack:
#0      _WidgetsAppState._onUnknownRoute.<anonymous closure> (package:flutter/src/widgets/app.dart:1571:9)
#1      _WidgetsAppState._onUnknownRoute (package:flutter/src/widgets/app.dart:1586:6)
#2      NavigatorState._routeNamed (package:flutter/src/widgets/navigator.dart:4668:37)
#3      NavigatorState.pushReplacementNamed (package:flutter/src/widgets/navigator.dart:4785:7)
#4      Navigator.pushReplacementNamed (package:flutter/src/widgets/navigator.dart:2024:7)
#5      _MapViewScreenState._validateNavigationArguments.<anonymous closure> (package:geo_asist_front/screens/map_view/map_view_screen.dart:145:19)
#6      SchedulerBinding._invokeFrameCallback (package:flutter/src/scheduler/binding.dart:1438:15)
#7      SchedulerBinding.handleDrawFrame (package:flutter/src/scheduler/binding.dart:1365:11)
#8      AutomatedTestWidgetsFlutterBinding.pump.<anonymous closure> (package:flutter_test/src/binding.dart:1340:9)
#11     TestAsyncUtils.guard (package:flutter_test/src/test_async_utils.dart:74:41)
#12     AutomatedTestWidgetsFlutterBinding.pump (package:flutter_test/src/binding.dart:1329:27)
#13     WidgetTester.pumpWidget.<anonymous closure> (package:flutter_test/src/widget_tester.dart:599:22)
#16     TestAsyncUtils.guard (package:flutter_test/src/test_async_utils.dart:74:41)
#17     WidgetTester.pumpWidget (package:flutter_test/src/widget_tester.dart:596:27)
#18     main.<anonymous closure>.<anonymous closure>.<anonymous closure> (file:///D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/integration/map_view_integration_test.dart:280:22)
#19     testWidgets.<anonymous closure>.<anonymous closure> (package:flutter_test/src/widget_tester.dart:193:29)
<asynchronous suspension>
#20     TestWidgetsFlutterBinding._runTestBody (package:flutter_test/src/binding.dart:1064:5)
<asynchronous suspension>
<asynchronous suspension>
(elided 5 frames from dart:async and package:stack_trace)
════════════════════════════════════════════════════════════════════════════════════════════════════
00:01 +28 -25: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/integration/map_view_integration_test.dart: MapView Integration Tests Widget Lifecycle Tests should handle widget rebuilds [E]
  Test failed. See exception logs above.
  The test description was: should handle widget rebuilds
  
00:01 +28 -25: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/integration/map_view_integration_test.dart: MapView Integration Tests Widget Lifecycle Tests should handle multiple parameter changes
🧹 Limpiando MapViewScreen...
🎯 MapViewScreen iniciando con restricciones de seguridad FASE C
🔍 Validando argumentos de navegación:
   - isStudentMode: true
   - eventoId: test_event_123
   - permissionsValidated: null
   - preciseLocationGranted: null
   - backgroundPermissionsGranted: null
   - batteryOptimizationDisabled: null
🚨 ACCESO DIRECTO NO PERMITIDO - Redirigiendo a validaciones
🔒 PASO 1: Re-validando permisos críticos...
══╡ EXCEPTION CAUGHT BY SCHEDULER LIBRARY ╞═════════════════════════════════════════════════════════
The following assertion was thrown during a scheduler callback:
Could not find a generator for route RouteSettings("/available-events", null) in the
_WidgetsAppState.
Make sure your root app widget has provided a way to generate
this route.
Generators for routes are searched for in the following order:
 1. For the "/" route, the "home" property, if non-null, is used.
 2. Otherwise, the "routes" table is used, if it has an entry for the route.
 3. Otherwise, onGenerateRoute is called. It should return a non-null value for any valid route not
handled by "home" and "routes".
 4. Finally if all else fails onUnknownRoute is called.
Unfortunately, onUnknownRoute was not set.

When the exception was thrown, this was the stack:
#0      _WidgetsAppState._onUnknownRoute.<anonymous closure> (package:flutter/src/widgets/app.dart:1571:9)
#1      _WidgetsAppState._onUnknownRoute (package:flutter/src/widgets/app.dart:1586:6)
#2      NavigatorState._routeNamed (package:flutter/src/widgets/navigator.dart:4668:37)
#3      NavigatorState.pushReplacementNamed (package:flutter/src/widgets/navigator.dart:4785:7)
#4      Navigator.pushReplacementNamed (package:flutter/src/widgets/navigator.dart:2024:7)
#5      _MapViewScreenState._validateNavigationArguments.<anonymous closure> (package:geo_asist_front/screens/map_view/map_view_screen.dart:145:19)
#6      SchedulerBinding._invokeFrameCallback (package:flutter/src/scheduler/binding.dart:1438:15)
#7      SchedulerBinding.handleDrawFrame (package:flutter/src/scheduler/binding.dart:1365:11)
#8      AutomatedTestWidgetsFlutterBinding.pump.<anonymous closure> (package:flutter_test/src/binding.dart:1340:9)
#11     TestAsyncUtils.guard (package:flutter_test/src/test_async_utils.dart:74:41)
#12     AutomatedTestWidgetsFlutterBinding.pump (package:flutter_test/src/binding.dart:1329:27)
#13     WidgetTester.pumpWidget.<anonymous closure> (package:flutter_test/src/widget_tester.dart:599:22)
#16     TestAsyncUtils.guard (package:flutter_test/src/test_async_utils.dart:74:41)
#17     WidgetTester.pumpWidget (package:flutter_test/src/widget_tester.dart:596:27)
#18     main.<anonymous closure>.<anonymous closure>.<anonymous closure> (file:///D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/integration/map_view_integration_test.dart:295:22)
#19     testWidgets.<anonymous closure>.<anonymous closure> (package:flutter_test/src/widget_tester.dart:193:29)
<asynchronous suspension>
#20     TestWidgetsFlutterBinding._runTestBody (package:flutter_test/src/binding.dart:1064:5)
<asynchronous suspension>
<asynchronous suspension>
(elided 5 frames from dart:async and package:stack_trace)
════════════════════════════════════════════════════════════════════════════════════════════════════
00:01 +28 -26: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/integration/map_view_integration_test.dart: MapView Integration Tests Widget Lifecycle Tests should handle multiple parameter changes [E]
  Test failed. See exception logs above.
  The test description was: should handle multiple parameter changes
  
00:01 +28 -26: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/integration/map_view_integration_test.dart: MapView Integration Tests Widget Lifecycle Tests should handle widget disposal
🧹 Limpiando MapViewScreen...
🎯 MapViewScreen iniciando con restricciones de seguridad FASE C
🔍 Validando argumentos de navegación:
   - isStudentMode: true
   - eventoId: test_event_123
   - permissionsValidated: null
   - preciseLocationGranted: null
   - backgroundPermissionsGranted: null
   - batteryOptimizationDisabled: null
🚨 ACCESO DIRECTO NO PERMITIDO - Redirigiendo a validaciones
🔒 PASO 1: Re-validando permisos críticos...
🧹 Limpiando MapViewScreen...
🎯 MapViewScreen iniciando con restricciones de seguridad FASE C
🔍 Validando argumentos de navegación:
   - isStudentMode: true
   - eventoId: test_event_123
   - permissionsValidated: null
   - preciseLocationGranted: null
   - backgroundPermissionsGranted: null
   - batteryOptimizationDisabled: null
🚨 ACCESO DIRECTO NO PERMITIDO - Redirigiendo a validaciones
🔒 PASO 1: Re-validando permisos críticos...
══╡ EXCEPTION CAUGHT BY SCHEDULER LIBRARY ╞═════════════════════════════════════════════════════════
The following assertion was thrown during a scheduler callback:
Could not find a generator for route RouteSettings("/available-events", null) in the
_WidgetsAppState.
Make sure your root app widget has provided a way to generate
this route.
Generators for routes are searched for in the following order:
 1. For the "/" route, the "home" property, if non-null, is used.
 2. Otherwise, the "routes" table is used, if it has an entry for the route.
 3. Otherwise, onGenerateRoute is called. It should return a non-null value for any valid route not
handled by "home" and "routes".
 4. Finally if all else fails onUnknownRoute is called.
Unfortunately, onUnknownRoute was not set.

When the exception was thrown, this was the stack:
#0      _WidgetsAppState._onUnknownRoute.<anonymous closure> (package:flutter/src/widgets/app.dart:1571:9)
#1      _WidgetsAppState._onUnknownRoute (package:flutter/src/widgets/app.dart:1586:6)
#2      NavigatorState._routeNamed (package:flutter/src/widgets/navigator.dart:4668:37)
#3      NavigatorState.pushReplacementNamed (package:flutter/src/widgets/navigator.dart:4785:7)
#4      Navigator.pushReplacementNamed (package:flutter/src/widgets/navigator.dart:2024:7)
#5      _MapViewScreenState._validateNavigationArguments.<anonymous closure> (package:geo_asist_front/screens/map_view/map_view_screen.dart:145:19)
#6      SchedulerBinding._invokeFrameCallback (package:flutter/src/scheduler/binding.dart:1438:15)
#7      SchedulerBinding.handleDrawFrame (package:flutter/src/scheduler/binding.dart:1365:11)
#8      AutomatedTestWidgetsFlutterBinding.pump.<anonymous closure> (package:flutter_test/src/binding.dart:1340:9)
#11     TestAsyncUtils.guard (package:flutter_test/src/test_async_utils.dart:74:41)
#12     AutomatedTestWidgetsFlutterBinding.pump (package:flutter_test/src/binding.dart:1329:27)
#13     WidgetTester.pumpWidget.<anonymous closure> (package:flutter_test/src/widget_tester.dart:599:22)
#16     TestAsyncUtils.guard (package:flutter_test/src/test_async_utils.dart:74:41)
#17     WidgetTester.pumpWidget (package:flutter_test/src/widget_tester.dart:596:27)
#18     main.<anonymous closure>.<anonymous closure>.<anonymous closure> (file:///D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/integration/map_view_integration_test.dart:313:22)
#19     testWidgets.<anonymous closure>.<anonymous closure> (package:flutter_test/src/widget_tester.dart:193:29)
<asynchronous suspension>
#20     TestWidgetsFlutterBinding._runTestBody (package:flutter_test/src/binding.dart:1064:5)
<asynchronous suspension>
<asynchronous suspension>
(elided 5 frames from dart:async and package:stack_trace)
════════════════════════════════════════════════════════════════════════════════════════════════════
══╡ EXCEPTION CAUGHT BY SCHEDULER LIBRARY ╞═════════════════════════════════════════════════════════
The following assertion was thrown during a scheduler callback:
Could not find a generator for route RouteSettings("/available-events", null) in the
_WidgetsAppState.
Make sure your root app widget has provided a way to generate
this route.
Generators for routes are searched for in the following order:
 1. For the "/" route, the "home" property, if non-null, is used.
 2. Otherwise, the "routes" table is used, if it has an entry for the route.
 3. Otherwise, onGenerateRoute is called. It should return a non-null value for any valid route not
handled by "home" and "routes".
 4. Finally if all else fails onUnknownRoute is called.
Unfortunately, onUnknownRoute was not set.

When the exception was thrown, this was the stack:
#0      _WidgetsAppState._onUnknownRoute.<anonymous closure> (package:flutter/src/widgets/app.dart:1571:9)
#1      _WidgetsAppState._onUnknownRoute (package:flutter/src/widgets/app.dart:1586:6)
#2      NavigatorState._routeNamed (package:flutter/src/widgets/navigator.dart:4668:37)
#3      NavigatorState.pushReplacementNamed (package:flutter/src/widgets/navigator.dart:4785:7)
#4      Navigator.pushReplacementNamed (package:flutter/src/widgets/navigator.dart:2024:7)
#5      _MapViewScreenState._validateNavigationArguments.<anonymous closure> (package:geo_asist_front/screens/map_view/map_view_screen.dart:145:19)
#6      SchedulerBinding._invokeFrameCallback (package:flutter/src/scheduler/binding.dart:1438:15)
#7      SchedulerBinding.handleDrawFrame (package:flutter/src/scheduler/binding.dart:1365:11)
#8      AutomatedTestWidgetsFlutterBinding.pump.<anonymous closure> (package:flutter_test/src/binding.dart:1340:9)
#11     TestAsyncUtils.guard (package:flutter_test/src/test_async_utils.dart:74:41)
#12     AutomatedTestWidgetsFlutterBinding.pump (package:flutter_test/src/binding.dart:1329:27)
#13     WidgetTester.pumpWidget.<anonymous closure> (package:flutter_test/src/widget_tester.dart:599:22)
#16     TestAsyncUtils.guard (package:flutter_test/src/test_async_utils.dart:74:41)
#17     WidgetTester.pumpWidget (package:flutter_test/src/widget_tester.dart:596:27)
#18     main.<anonymous closure>.<anonymous closure>.<anonymous closure> (file:///D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/integration/map_view_integration_test.dart:326:22)
<asynchronous suspension>
#19     testWidgets.<anonymous closure>.<anonymous closure> (package:flutter_test/src/widget_tester.dart:193:15)
<asynchronous suspension>
#20     TestWidgetsFlutterBinding._runTestBody (package:flutter_test/src/binding.dart:1064:5)
<asynchronous suspension>
<asynchronous suspension>
(elided 5 frames from dart:async and package:stack_trace)
════════════════════════════════════════════════════════════════════════════════════════════════════
══╡ EXCEPTION CAUGHT BY FLUTTER TEST FRAMEWORK ╞════════════════════════════════════════════════════
The following message was thrown:
Multiple exceptions (2) were detected during the running of the current test, and at least one was
unexpected.
════════════════════════════════════════════════════════════════════════════════════════════════════
00:01 +28 -27: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/integration/map_view_integration_test.dart: MapView Integration Tests Widget Lifecycle Tests should handle widget disposal [E]
  Test failed. See exception logs above.
  The test description was: should handle widget disposal
  
00:01 +28 -27: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/integration/map_view_integration_test.dart: MapView Integration Tests Advanced Error Handling Tests should handle extreme edge cases
🧹 Limpiando MapViewScreen...
🎯 MapViewScreen iniciando con restricciones de seguridad FASE C
🔍 Validando argumentos de navegación:
   - isStudentMode: true
   - eventoId: a
   - permissionsValidated: null
   - preciseLocationGranted: null
   - backgroundPermissionsGranted: null
   - batteryOptimizationDisabled: null
🚨 ACCESO DIRECTO NO PERMITIDO - Redirigiendo a validaciones
🔒 PASO 1: Re-validando permisos críticos...
══╡ EXCEPTION CAUGHT BY SCHEDULER LIBRARY ╞═════════════════════════════════════════════════════════
The following assertion was thrown during a scheduler callback:
Could not find a generator for route RouteSettings("/available-events", null) in the
_WidgetsAppState.
Make sure your root app widget has provided a way to generate
this route.
Generators for routes are searched for in the following order:
 1. For the "/" route, the "home" property, if non-null, is used.
 2. Otherwise, the "routes" table is used, if it has an entry for the route.
 3. Otherwise, onGenerateRoute is called. It should return a non-null value for any valid route not
handled by "home" and "routes".
 4. Finally if all else fails onUnknownRoute is called.
Unfortunately, onUnknownRoute was not set.

When the exception was thrown, this was the stack:
#0      _WidgetsAppState._onUnknownRoute.<anonymous closure> (package:flutter/src/widgets/app.dart:1571:9)
#1      _WidgetsAppState._onUnknownRoute (package:flutter/src/widgets/app.dart:1586:6)
#2      NavigatorState._routeNamed (package:flutter/src/widgets/navigator.dart:4668:37)
#3      NavigatorState.pushReplacementNamed (package:flutter/src/widgets/navigator.dart:4785:7)
#4      Navigator.pushReplacementNamed (package:flutter/src/widgets/navigator.dart:2024:7)
#5      _MapViewScreenState._validateNavigationArguments.<anonymous closure> (package:geo_asist_front/screens/map_view/map_view_screen.dart:145:19)
#6      SchedulerBinding._invokeFrameCallback (package:flutter/src/scheduler/binding.dart:1438:15)
#7      SchedulerBinding.handleDrawFrame (package:flutter/src/scheduler/binding.dart:1365:11)
#8      AutomatedTestWidgetsFlutterBinding.pump.<anonymous closure> (package:flutter_test/src/binding.dart:1340:9)
#11     TestAsyncUtils.guard (package:flutter_test/src/test_async_utils.dart:74:41)
#12     AutomatedTestWidgetsFlutterBinding.pump (package:flutter_test/src/binding.dart:1329:27)
#13     WidgetTester.pumpWidget.<anonymous closure> (package:flutter_test/src/widget_tester.dart:599:22)
#16     TestAsyncUtils.guard (package:flutter_test/src/test_async_utils.dart:74:41)
#17     WidgetTester.pumpWidget (package:flutter_test/src/widget_tester.dart:596:27)
#18     main.<anonymous closure>.<anonymous closure>.<anonymous closure> (file:///D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/integration/map_view_integration_test.dart:352:24)
#19     testWidgets.<anonymous closure>.<anonymous closure> (package:flutter_test/src/widget_tester.dart:193:29)
<asynchronous suspension>
#20     TestWidgetsFlutterBinding._runTestBody (package:flutter_test/src/binding.dart:1064:5)
<asynchronous suspension>
<asynchronous suspension>
(elided 5 frames from dart:async and package:stack_trace)
════════════════════════════════════════════════════════════════════════════════════════════════════
00:01 +28 -28: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/integration/map_view_integration_test.dart: MapView Integration Tests Advanced Error Handling Tests should handle extreme edge cases [E]
  Test failed. See exception logs above.
  The test description was: should handle extreme edge cases
  
00:01 +28 -28: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/integration/map_view_integration_test.dart: MapView Integration Tests Advanced Error Handling Tests should handle widget reconstruction
🧹 Limpiando MapViewScreen...
🎯 MapViewScreen iniciando con restricciones de seguridad FASE C
🔍 Validando argumentos de navegación:
   - isStudentMode: true
   - eventoId: test_event_123
   - permissionsValidated: null
   - preciseLocationGranted: null
   - backgroundPermissionsGranted: null
   - batteryOptimizationDisabled: null
🚨 ACCESO DIRECTO NO PERMITIDO - Redirigiendo a validaciones
🔒 PASO 1: Re-validando permisos críticos...
══╡ EXCEPTION CAUGHT BY SCHEDULER LIBRARY ╞═════════════════════════════════════════════════════════
The following assertion was thrown during a scheduler callback:
Could not find a generator for route RouteSettings("/available-events", null) in the
_WidgetsAppState.
Make sure your root app widget has provided a way to generate
this route.
Generators for routes are searched for in the following order:
 1. For the "/" route, the "home" property, if non-null, is used.
 2. Otherwise, the "routes" table is used, if it has an entry for the route.
 3. Otherwise, onGenerateRoute is called. It should return a non-null value for any valid route not
handled by "home" and "routes".
 4. Finally if all else fails onUnknownRoute is called.
Unfortunately, onUnknownRoute was not set.

When the exception was thrown, this was the stack:
#0      _WidgetsAppState._onUnknownRoute.<anonymous closure> (package:flutter/src/widgets/app.dart:1571:9)
#1      _WidgetsAppState._onUnknownRoute (package:flutter/src/widgets/app.dart:1586:6)
#2      NavigatorState._routeNamed (package:flutter/src/widgets/navigator.dart:4668:37)
#3      NavigatorState.pushReplacementNamed (package:flutter/src/widgets/navigator.dart:4785:7)
#4      Navigator.pushReplacementNamed (package:flutter/src/widgets/navigator.dart:2024:7)
#5      _MapViewScreenState._validateNavigationArguments.<anonymous closure> (package:geo_asist_front/screens/map_view/map_view_screen.dart:145:19)
#6      SchedulerBinding._invokeFrameCallback (package:flutter/src/scheduler/binding.dart:1438:15)
#7      SchedulerBinding.handleDrawFrame (package:flutter/src/scheduler/binding.dart:1365:11)
#8      AutomatedTestWidgetsFlutterBinding.pump.<anonymous closure> (package:flutter_test/src/binding.dart:1340:9)
#11     TestAsyncUtils.guard (package:flutter_test/src/test_async_utils.dart:74:41)
#12     AutomatedTestWidgetsFlutterBinding.pump (package:flutter_test/src/binding.dart:1329:27)
#13     WidgetTester.pumpWidget.<anonymous closure> (package:flutter_test/src/widget_tester.dart:599:22)
#16     TestAsyncUtils.guard (package:flutter_test/src/test_async_utils.dart:74:41)
#17     WidgetTester.pumpWidget (package:flutter_test/src/widget_tester.dart:596:27)
#18     main.<anonymous closure>.<anonymous closure>.<anonymous closure> (file:///D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/integration/map_view_integration_test.dart:362:22)
#19     testWidgets.<anonymous closure>.<anonymous closure> (package:flutter_test/src/widget_tester.dart:193:29)
<asynchronous suspension>
#20     TestWidgetsFlutterBinding._runTestBody (package:flutter_test/src/binding.dart:1064:5)
<asynchronous suspension>
<asynchronous suspension>
(elided 5 frames from dart:async and package:stack_trace)
════════════════════════════════════════════════════════════════════════════════════════════════════
00:01 +28 -29: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/integration/map_view_integration_test.dart: MapView Integration Tests Advanced Error Handling Tests should handle widget reconstruction [E]
  Test failed. See exception logs above.
  The test description was: should handle widget reconstruction
  
00:01 +28 -29: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/integration/map_view_integration_test.dart: MapView Integration Tests Integration State Tests should maintain state consistency across rebuilds
🧹 Limpiando MapViewScreen...
🎯 MapViewScreen iniciando con restricciones de seguridad FASE C
🔍 Validando argumentos de navegación:
   - isStudentMode: true
   - eventoId: initial_event
   - permissionsValidated: null
   - preciseLocationGranted: null
   - backgroundPermissionsGranted: null
   - batteryOptimizationDisabled: null
🚨 ACCESO DIRECTO NO PERMITIDO - Redirigiendo a validaciones
🔒 PASO 1: Re-validando permisos críticos...
══╡ EXCEPTION CAUGHT BY SCHEDULER LIBRARY ╞═════════════════════════════════════════════════════════
The following assertion was thrown during a scheduler callback:
Could not find a generator for route RouteSettings("/available-events", null) in the
_WidgetsAppState.
Make sure your root app widget has provided a way to generate
this route.
Generators for routes are searched for in the following order:
 1. For the "/" route, the "home" property, if non-null, is used.
 2. Otherwise, the "routes" table is used, if it has an entry for the route.
 3. Otherwise, onGenerateRoute is called. It should return a non-null value for any valid route not
handled by "home" and "routes".
 4. Finally if all else fails onUnknownRoute is called.
Unfortunately, onUnknownRoute was not set.

When the exception was thrown, this was the stack:
#0      _WidgetsAppState._onUnknownRoute.<anonymous closure> (package:flutter/src/widgets/app.dart:1571:9)
#1      _WidgetsAppState._onUnknownRoute (package:flutter/src/widgets/app.dart:1586:6)
#2      NavigatorState._routeNamed (package:flutter/src/widgets/navigator.dart:4668:37)
#3      NavigatorState.pushReplacementNamed (package:flutter/src/widgets/navigator.dart:4785:7)
#4      Navigator.pushReplacementNamed (package:flutter/src/widgets/navigator.dart:2024:7)
#5      _MapViewScreenState._validateNavigationArguments.<anonymous closure> (package:geo_asist_front/screens/map_view/map_view_screen.dart:145:19)
#6      SchedulerBinding._invokeFrameCallback (package:flutter/src/scheduler/binding.dart:1438:15)
#7      SchedulerBinding.handleDrawFrame (package:flutter/src/scheduler/binding.dart:1365:11)
#8      AutomatedTestWidgetsFlutterBinding.pump.<anonymous closure> (package:flutter_test/src/binding.dart:1340:9)
#11     TestAsyncUtils.guard (package:flutter_test/src/test_async_utils.dart:74:41)
#12     AutomatedTestWidgetsFlutterBinding.pump (package:flutter_test/src/binding.dart:1329:27)
#13     WidgetTester.pumpWidget.<anonymous closure> (package:flutter_test/src/widget_tester.dart:599:22)
#16     TestAsyncUtils.guard (package:flutter_test/src/test_async_utils.dart:74:41)
#17     WidgetTester.pumpWidget (package:flutter_test/src/widget_tester.dart:596:27)
#18     main.<anonymous closure>.<anonymous closure>.<anonymous closure> (file:///D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/integration/map_view_integration_test.dart:394:22)
#19     testWidgets.<anonymous closure>.<anonymous closure> (package:flutter_test/src/widget_tester.dart:193:29)
<asynchronous suspension>
#20     TestWidgetsFlutterBinding._runTestBody (package:flutter_test/src/binding.dart:1064:5)
<asynchronous suspension>
<asynchronous suspension>
(elided 5 frames from dart:async and package:stack_trace)
════════════════════════════════════════════════════════════════════════════════════════════════════
00:01 +28 -30: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/integration/map_view_integration_test.dart: MapView Integration Tests Integration State Tests should maintain state consistency across rebuilds [E]
  Test failed. See exception logs above.
  The test description was: should maintain state consistency across rebuilds
  
00:01 +28 -30: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/integration/map_view_integration_test.dart: MapView Integration Tests Integration State Tests should handle mode switching correctly
🧹 Limpiando MapViewScreen...
🎯 MapViewScreen iniciando con restricciones de seguridad FASE C
🔍 Validando argumentos de navegación:
   - isStudentMode: true
   - eventoId: test_event_123
   - permissionsValidated: null
   - preciseLocationGranted: null
   - backgroundPermissionsGranted: null
   - batteryOptimizationDisabled: null
🚨 ACCESO DIRECTO NO PERMITIDO - Redirigiendo a validaciones
🔒 PASO 1: Re-validando permisos críticos...
══╡ EXCEPTION CAUGHT BY SCHEDULER LIBRARY ╞═════════════════════════════════════════════════════════
The following assertion was thrown during a scheduler callback:
Could not find a generator for route RouteSettings("/available-events", null) in the
_WidgetsAppState.
Make sure your root app widget has provided a way to generate
this route.
Generators for routes are searched for in the following order:
 1. For the "/" route, the "home" property, if non-null, is used.
 2. Otherwise, the "routes" table is used, if it has an entry for the route.
 3. Otherwise, onGenerateRoute is called. It should return a non-null value for any valid route not
handled by "home" and "routes".
 4. Finally if all else fails onUnknownRoute is called.
Unfortunately, onUnknownRoute was not set.

When the exception was thrown, this was the stack:
#0      _WidgetsAppState._onUnknownRoute.<anonymous closure> (package:flutter/src/widgets/app.dart:1571:9)
#1      _WidgetsAppState._onUnknownRoute (package:flutter/src/widgets/app.dart:1586:6)
#2      NavigatorState._routeNamed (package:flutter/src/widgets/navigator.dart:4668:37)
#3      NavigatorState.pushReplacementNamed (package:flutter/src/widgets/navigator.dart:4785:7)
#4      Navigator.pushReplacementNamed (package:flutter/src/widgets/navigator.dart:2024:7)
#5      _MapViewScreenState._validateNavigationArguments.<anonymous closure> (package:geo_asist_front/screens/map_view/map_view_screen.dart:145:19)
#6      SchedulerBinding._invokeFrameCallback (package:flutter/src/scheduler/binding.dart:1438:15)
#7      SchedulerBinding.handleDrawFrame (package:flutter/src/scheduler/binding.dart:1365:11)
#8      AutomatedTestWidgetsFlutterBinding.pump.<anonymous closure> (package:flutter_test/src/binding.dart:1340:9)
#11     TestAsyncUtils.guard (package:flutter_test/src/test_async_utils.dart:74:41)
#12     AutomatedTestWidgetsFlutterBinding.pump (package:flutter_test/src/binding.dart:1329:27)
#13     WidgetTester.pumpWidget.<anonymous closure> (package:flutter_test/src/widget_tester.dart:599:22)
#16     TestAsyncUtils.guard (package:flutter_test/src/test_async_utils.dart:74:41)
#17     WidgetTester.pumpWidget (package:flutter_test/src/widget_tester.dart:596:27)
#18     main.<anonymous closure>.<anonymous closure>.<anonymous closure> (file:///D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/integration/map_view_integration_test.dart:410:22)
#19     testWidgets.<anonymous closure>.<anonymous closure> (package:flutter_test/src/widget_tester.dart:193:29)
<asynchronous suspension>
#20     TestWidgetsFlutterBinding._runTestBody (package:flutter_test/src/binding.dart:1064:5)
<asynchronous suspension>
<asynchronous suspension>
(elided 5 frames from dart:async and package:stack_trace)
════════════════════════════════════════════════════════════════════════════════════════════════════
00:01 +28 -31: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/unit/location_service_test.dart: (setUpAll)
00:01 +28 -31: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/integration/map_view_integration_test.dart: MapView Integration Tests Integration State Tests should handle mode switching correctly [E]
  Test failed. See exception logs above.
  The test description was: should handle mode switching correctly
  
00:01 +28 -31: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/integration/map_view_integration_test.dart: MapView Integration Tests Error Resilience Tests should be resilient to rapid changes
00:01 +28 -31: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/unit/location_service_test.dart: LocationService Tests Position Retrieval Tests should get current position successfully
🧹 Disposing LocationService resources
✅ LocationService disposed
00:01 +29 -31: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/integration/map_view_integration_test.dart: MapView Integration Tests Error Resilience Tests should be resilient to rapid changes
00:01 +29 -31: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/unit/location_service_test.dart: LocationService Tests Position Retrieval Tests should handle location permission denied
🧹 Disposing LocationService resources
✅ LocationService disposed
00:01 +30 -31: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/integration/map_view_integration_test.dart: MapView Integration Tests Error Resilience Tests should be resilient to rapid changes
00:02 +30 -31: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/unit/location_service_test.dart: LocationService Tests Position Retrieval Tests should handle GPS disabled
🧹 Disposing LocationService resources
✅ LocationService disposed
00:02 +31 -31: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/integration/map_view_integration_test.dart: MapView Integration Tests Error Resilience Tests should be resilient to rapid changes
00:02 +31 -31: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/unit/location_service_test.dart: LocationService Tests Position Retrieval Tests should cache position data appropriately
🧹 Disposing LocationService resources
✅ LocationService disposed
00:02 +32 -31: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/integration/map_view_integration_test.dart: MapView Integration Tests Error Resilience Tests should be resilient to rapid changes
00:02 +32 -31: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/unit/location_service_test.dart: LocationService Tests Backend Integration Tests should update user location with backend successfully
📍 Optimized location update to backend
   - User: user_123
   - Coordinates: (37.7749, -122.4194)
00:02 +32 -31: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/integration/map_view_integration_test.dart: MapView Integration Tests Error Resilience Tests should be resilient to rapid changes
🧹 Limpiando MapViewScreen...
00:02 +32 -31: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/unit/location_service_test.dart: LocationService Tests Backend Integration Tests should update user location with backend successfully
   - Event: event_123
   - Background: false
   - Force: false
00:02 +32 -31: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/integration/map_view_integration_test.dart: MapView Integration Tests Error Resilience Tests should be resilient to rapid changes
🎯 MapViewScreen iniciando con restricciones de seguridad FASE C
🔍 Validando argumentos de navegación:
   - isStudentMode: true
00:02 +32 -31: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/unit/location_service_test.dart: LocationService Tests Backend Integration Tests should update user location with backend successfully
📤 Location update attempt 1 of 3
00:02 +32 -31: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/integration/map_view_integration_test.dart: MapView Integration Tests Error Resilience Tests should be resilient to rapid changes
   - eventoId: rapid_0
00:02 +32 -31: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/unit/location_service_test.dart: LocationService Tests Backend Integration Tests should update user location with backend successfully
✅ Location update successful on attempt 1
00:02 +32 -31: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/integration/map_view_integration_test.dart: MapView Integration Tests Error Resilience Tests should be resilient to rapid changes
   - permissionsValidated: null
00:02 +32 -31: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/unit/location_service_test.dart: LocationService Tests Backend Integration Tests should update user location with backend successfully
✅ Backend response processed successfully:
00:02 +32 -31: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/integration/map_view_integration_test.dart: MapView Integration Tests Error Resilience Tests should be resilient to rapid changes
   - preciseLocationGranted: null
00:02 +32 -31: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/unit/location_service_test.dart: LocationService Tests Backend Integration Tests should update user location with backend successfully
   - Inside geofence: true
00:02 +32 -31: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/integration/map_view_integration_test.dart: MapView Integration Tests Error Resilience Tests should be resilient to rapid changes
   - backgroundPermissionsGranted: null
00:02 +32 -31: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/unit/location_service_test.dart: LocationService Tests Backend Integration Tests should update user location with backend successfully
   - Distance: 50.0m
00:02 +32 -31: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/integration/map_view_integration_test.dart: MapView Integration Tests Error Resilience Tests should be resilient to rapid changes
   - batteryOptimizationDisabled: null
00:02 +32 -31: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/unit/location_service_test.dart: LocationService Tests Backend Integration Tests should update user location with backend successfully
   - Event active: true
   - Can register: true
00:02 +32 -31: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/integration/map_view_integration_test.dart: MapView Integration Tests Error Resilience Tests should be resilient to rapid changes
🚨 ACCESO DIRECTO NO PERMITIDO - Redirigiendo a validaciones
🔒 PASO 1: Re-validando permisos críticos...
══╡ EXCEPTION CAUGHT BY SCHEDULER LIBRARY ╞═════════════════════════════════════════════════════════
The following assertion was thrown during a scheduler callback:
Could not find a generator for route RouteSettings("/available-events", null) in the
_WidgetsAppState.
Make sure your root app widget has provided a way to generate
this route.
Generators for routes are searched for in the following order:
 1. For the "/" route, the "home" property, if non-null, is used.
 2. Otherwise, the "routes" table is used, if it has an entry for the route.
 3. Otherwise, onGenerateRoute is called. It should return a non-null value for any valid route not
handled by "home" and "routes".
 4. Finally if all else fails onUnknownRoute is called.
Unfortunately, onUnknownRoute was not set.

When the exception was thrown, this was the stack:
#0      _WidgetsAppState._onUnknownRoute.<anonymous closure> (package:flutter/src/widgets/app.dart:1571:9)
#1      _WidgetsAppState._onUnknownRoute (package:flutter/src/widgets/app.dart:1586:6)
#2      NavigatorState._routeNamed (package:flutter/src/widgets/navigator.dart:4668:37)
#3      NavigatorState.pushReplacementNamed (package:flutter/src/widgets/navigator.dart:4785:7)
#4      Navigator.pushReplacementNamed (package:flutter/src/widgets/navigator.dart:2024:7)
#5      _MapViewScreenState._validateNavigationArguments.<anonymous closure> (package:geo_asist_front/screens/map_view/map_view_screen.dart:145:19)
#6      SchedulerBinding._invokeFrameCallback (package:flutter/src/scheduler/binding.dart:1438:15)
#7      SchedulerBinding.handleDrawFrame (package:flutter/src/scheduler/binding.dart:1365:11)
#8      AutomatedTestWidgetsFlutterBinding.pump.<anonymous closure> (package:flutter_test/src/binding.dart:1340:9)
#11     TestAsyncUtils.guard (package:flutter_test/src/test_async_utils.dart:74:41)
#12     AutomatedTestWidgetsFlutterBinding.pump (package:flutter_test/src/binding.dart:1329:27)
#13     WidgetTester.pumpWidget.<anonymous closure> (package:flutter_test/src/widget_tester.dart:599:22)
#16     TestAsyncUtils.guard (package:flutter_test/src/test_async_utils.dart:74:41)
#17     WidgetTester.pumpWidget (package:flutter_test/src/widget_tester.dart:596:27)
#18     main.<anonymous closure>.<anonymous closure>.<anonymous closure> (file:///D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/integration/map_view_integration_test.dart:436:24)
#19     testWidgets.<anonymous closure>.<anonymous closure> (package:flutter_test/src/widget_tester.dart:193:29)
<asynchronous suspension>
#20     TestWidgetsFlutterBinding._runTestBody (package:flutter_test/src/binding.dart:1064:5)
<asynchronous suspension>
<asynchronous suspension>
(elided 5 frames from dart:async and package:stack_trace)
════════════════════════════════════════════════════════════════════════════════════════════════════
00:02 +32 -31: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/unit/location_service_test.dart: LocationService Tests Backend Integration Tests should update user location with backend successfully
📊 Performance: update_success = 8ms (success)
🧹 Disposing LocationService resources
00:02 +32 -32: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/unit/location_service_test.dart: LocationService Tests Backend Integration Tests should update user location with backend successfully
00:02 +32 -32: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/integration/map_view_integration_test.dart: MapView Integration Tests Error Resilience Tests should be resilient to rapid changes [E]
  Test failed. See exception logs above.
  The test description was: should be resilient to rapid changes
  
00:02 +32 -32: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/unit/location_service_test.dart: LocationService Tests Backend Integration Tests should update user location with backend successfully
✅ LocationService disposed
00:02 +33 -32: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/unit/location_service_test.dart: LocationService Tests Backend Integration Tests should handle backend API errors gracefully
📍 Optimized location update to backend
   - User: user_123
   - Coordinates: (37.7749, -122.4194)
   - Event: event_123
   - Background: false
   - Force: false
📤 Location update attempt 1 of 3
❌ Location update attempt 1 failed: Exception: Network error
🔄 Retrying location update in 2s...
00:02 +33 -32: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/integration/map_view_integration_test.dart: MapView Integration Tests Error Resilience Tests should handle stress test of widget creation
🧹 Limpiando MapViewScreen...
🎯 MapViewScreen iniciando con restricciones de seguridad FASE C
🔍 Validando argumentos de navegación:
   - isStudentMode: true
   - eventoId: test_event_123
   - permissionsValidated: null
   - preciseLocationGranted: null
   - backgroundPermissionsGranted: null
   - batteryOptimizationDisabled: null
🚨 ACCESO DIRECTO NO PERMITIDO - Redirigiendo a validaciones
🔒 PASO 1: Re-validando permisos críticos...
🧹 Limpiando MapViewScreen...
🎯 MapViewScreen iniciando con restricciones de seguridad FASE C
🔍 Validando argumentos de navegación:
   - isStudentMode: true
   - eventoId: test_event_123
   - permissionsValidated: null
   - preciseLocationGranted: null
   - backgroundPermissionsGranted: null
   - batteryOptimizationDisabled: null
🚨 ACCESO DIRECTO NO PERMITIDO - Redirigiendo a validaciones
🔒 PASO 1: Re-validando permisos críticos...
══╡ EXCEPTION CAUGHT BY SCHEDULER LIBRARY ╞═════════════════════════════════════════════════════════
The following assertion was thrown during a scheduler callback:
Could not find a generator for route RouteSettings("/available-events", null) in the
_WidgetsAppState.
Make sure your root app widget has provided a way to generate
this route.
Generators for routes are searched for in the following order:
 1. For the "/" route, the "home" property, if non-null, is used.
 2. Otherwise, the "routes" table is used, if it has an entry for the route.
 3. Otherwise, onGenerateRoute is called. It should return a non-null value for any valid route not
handled by "home" and "routes".
 4. Finally if all else fails onUnknownRoute is called.
Unfortunately, onUnknownRoute was not set.

When the exception was thrown, this was the stack:
#0      _WidgetsAppState._onUnknownRoute.<anonymous closure> (package:flutter/src/widgets/app.dart:1571:9)
#1      _WidgetsAppState._onUnknownRoute (package:flutter/src/widgets/app.dart:1586:6)
#2      NavigatorState._routeNamed (package:flutter/src/widgets/navigator.dart:4668:37)
#3      NavigatorState.pushReplacementNamed (package:flutter/src/widgets/navigator.dart:4785:7)
#4      Navigator.pushReplacementNamed (package:flutter/src/widgets/navigator.dart:2024:7)
#5      _MapViewScreenState._validateNavigationArguments.<anonymous closure> (package:geo_asist_front/screens/map_view/map_view_screen.dart:145:19)
#6      SchedulerBinding._invokeFrameCallback (package:flutter/src/scheduler/binding.dart:1438:15)
#7      SchedulerBinding.handleDrawFrame (package:flutter/src/scheduler/binding.dart:1365:11)
#8      AutomatedTestWidgetsFlutterBinding.pump.<anonymous closure> (package:flutter_test/src/binding.dart:1340:9)
#11     TestAsyncUtils.guard (package:flutter_test/src/test_async_utils.dart:74:41)
#12     AutomatedTestWidgetsFlutterBinding.pump (package:flutter_test/src/binding.dart:1329:27)
#13     WidgetTester.pumpWidget.<anonymous closure> (package:flutter_test/src/widget_tester.dart:599:22)
#16     TestAsyncUtils.guard (package:flutter_test/src/test_async_utils.dart:74:41)
#17     WidgetTester.pumpWidget (package:flutter_test/src/widget_tester.dart:596:27)
#18     main.<anonymous closure>.<anonymous closure>.<anonymous closure> (file:///D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/integration/map_view_integration_test.dart:452:24)
#19     testWidgets.<anonymous closure>.<anonymous closure> (package:flutter_test/src/widget_tester.dart:193:29)
<asynchronous suspension>
#20     TestWidgetsFlutterBinding._runTestBody (package:flutter_test/src/binding.dart:1064:5)
<asynchronous suspension>
<asynchronous suspension>
(elided 5 frames from dart:async and package:stack_trace)
════════════════════════════════════════════════════════════════════════════════════════════════════
══╡ EXCEPTION CAUGHT BY SCHEDULER LIBRARY ╞═════════════════════════════════════════════════════════
The following assertion was thrown during a scheduler callback:
Could not find a generator for route RouteSettings("/available-events", null) in the
_WidgetsAppState.
Make sure your root app widget has provided a way to generate
this route.
Generators for routes are searched for in the following order:
 1. For the "/" route, the "home" property, if non-null, is used.
 2. Otherwise, the "routes" table is used, if it has an entry for the route.
 3. Otherwise, onGenerateRoute is called. It should return a non-null value for any valid route not
handled by "home" and "routes".
 4. Finally if all else fails onUnknownRoute is called.
Unfortunately, onUnknownRoute was not set.

When the exception was thrown, this was the stack:
#0      _WidgetsAppState._onUnknownRoute.<anonymous closure> (package:flutter/src/widgets/app.dart:1571:9)
#1      _WidgetsAppState._onUnknownRoute (package:flutter/src/widgets/app.dart:1586:6)
#2      NavigatorState._routeNamed (package:flutter/src/widgets/navigator.dart:4668:37)
#3      NavigatorState.pushReplacementNamed (package:flutter/src/widgets/navigator.dart:4785:7)
#4      Navigator.pushReplacementNamed (package:flutter/src/widgets/navigator.dart:2024:7)
#5      _MapViewScreenState._validateNavigationArguments.<anonymous closure> (package:geo_asist_front/screens/map_view/map_view_screen.dart:145:19)
#6      SchedulerBinding._invokeFrameCallback (package:flutter/src/scheduler/binding.dart:1438:15)
#7      SchedulerBinding.handleDrawFrame (package:flutter/src/scheduler/binding.dart:1365:11)
#8      AutomatedTestWidgetsFlutterBinding.pump.<anonymous closure> (package:flutter_test/src/binding.dart:1340:9)
#11     TestAsyncUtils.guard (package:flutter_test/src/test_async_utils.dart:74:41)
#12     AutomatedTestWidgetsFlutterBinding.pump (package:flutter_test/src/binding.dart:1329:27)
#13     WidgetTester.pumpWidget.<anonymous closure> (package:flutter_test/src/widget_tester.dart:599:22)
#16     TestAsyncUtils.guard (package:flutter_test/src/test_async_utils.dart:74:41)
#17     WidgetTester.pumpWidget (package:flutter_test/src/widget_tester.dart:596:27)
#18     main.<anonymous closure>.<anonymous closure>.<anonymous closure> (file:///D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/integration/map_view_integration_test.dart:452:24)
<asynchronous suspension>
#19     testWidgets.<anonymous closure>.<anonymous closure> (package:flutter_test/src/widget_tester.dart:193:15)
<asynchronous suspension>
#20     TestWidgetsFlutterBinding._runTestBody (package:flutter_test/src/binding.dart:1064:5)
<asynchronous suspension>
<asynchronous suspension>
(elided 5 frames from dart:async and package:stack_trace)
════════════════════════════════════════════════════════════════════════════════════════════════════
🧹 Limpiando MapViewScreen...
🎯 MapViewScreen iniciando con restricciones de seguridad FASE C
🔍 Validando argumentos de navegación:
   - isStudentMode: true
   - eventoId: test_event_123
   - permissionsValidated: null
   - preciseLocationGranted: null
   - backgroundPermissionsGranted: null
   - batteryOptimizationDisabled: null
🚨 ACCESO DIRECTO NO PERMITIDO - Redirigiendo a validaciones
🔒 PASO 1: Re-validando permisos críticos...
══╡ EXCEPTION CAUGHT BY SCHEDULER LIBRARY ╞═════════════════════════════════════════════════════════
The following assertion was thrown during a scheduler callback:
Could not find a generator for route RouteSettings("/available-events", null) in the
_WidgetsAppState.
Make sure your root app widget has provided a way to generate
this route.
Generators for routes are searched for in the following order:
 1. For the "/" route, the "home" property, if non-null, is used.
 2. Otherwise, the "routes" table is used, if it has an entry for the route.
 3. Otherwise, onGenerateRoute is called. It should return a non-null value for any valid route not
handled by "home" and "routes".
 4. Finally if all else fails onUnknownRoute is called.
Unfortunately, onUnknownRoute was not set.

When the exception was thrown, this was the stack:
#0      _WidgetsAppState._onUnknownRoute.<anonymous closure> (package:flutter/src/widgets/app.dart:1571:9)
#1      _WidgetsAppState._onUnknownRoute (package:flutter/src/widgets/app.dart:1586:6)
#2      NavigatorState._routeNamed (package:flutter/src/widgets/navigator.dart:4668:37)
#3      NavigatorState.pushReplacementNamed (package:flutter/src/widgets/navigator.dart:4785:7)
#4      Navigator.pushReplacementNamed (package:flutter/src/widgets/navigator.dart:2024:7)
#5      _MapViewScreenState._validateNavigationArguments.<anonymous closure> (package:geo_asist_front/screens/map_view/map_view_screen.dart:145:19)
#6      SchedulerBinding._invokeFrameCallback (package:flutter/src/scheduler/binding.dart:1438:15)
#7      SchedulerBinding.handleDrawFrame (package:flutter/src/scheduler/binding.dart:1365:11)
#8      AutomatedTestWidgetsFlutterBinding.pump.<anonymous closure> (package:flutter_test/src/binding.dart:1340:9)
#11     TestAsyncUtils.guard (package:flutter_test/src/test_async_utils.dart:74:41)
#12     AutomatedTestWidgetsFlutterBinding.pump (package:flutter_test/src/binding.dart:1329:27)
#13     WidgetTester.pumpWidget.<anonymous closure> (package:flutter_test/src/widget_tester.dart:599:22)
#16     TestAsyncUtils.guard (package:flutter_test/src/test_async_utils.dart:74:41)
#17     WidgetTester.pumpWidget (package:flutter_test/src/widget_tester.dart:596:27)
#18     main.<anonymous closure>.<anonymous closure>.<anonymous closure> (file:///D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/integration/map_view_integration_test.dart:452:24)
<asynchronous suspension>
#19     testWidgets.<anonymous closure>.<anonymous closure> (package:flutter_test/src/widget_tester.dart:193:15)
<asynchronous suspension>
#20     TestWidgetsFlutterBinding._runTestBody (package:flutter_test/src/binding.dart:1064:5)
<asynchronous suspension>
<asynchronous suspension>
(elided 5 frames from dart:async and package:stack_trace)
════════════════════════════════════════════════════════════════════════════════════════════════════
🧹 Limpiando MapViewScreen...
🎯 MapViewScreen iniciando con restricciones de seguridad FASE C
🔍 Validando argumentos de navegación:
   - isStudentMode: true
   - eventoId: test_event_123
   - permissionsValidated: null
   - preciseLocationGranted: null
   - backgroundPermissionsGranted: null
   - batteryOptimizationDisabled: null
🚨 ACCESO DIRECTO NO PERMITIDO - Redirigiendo a validaciones
🔒 PASO 1: Re-validando permisos críticos...
══╡ EXCEPTION CAUGHT BY SCHEDULER LIBRARY ╞═════════════════════════════════════════════════════════
The following assertion was thrown during a scheduler callback:
Could not find a generator for route RouteSettings("/available-events", null) in the
_WidgetsAppState.
Make sure your root app widget has provided a way to generate
this route.
Generators for routes are searched for in the following order:
 1. For the "/" route, the "home" property, if non-null, is used.
 2. Otherwise, the "routes" table is used, if it has an entry for the route.
 3. Otherwise, onGenerateRoute is called. It should return a non-null value for any valid route not
handled by "home" and "routes".
 4. Finally if all else fails onUnknownRoute is called.
Unfortunately, onUnknownRoute was not set.

When the exception was thrown, this was the stack:
#0      _WidgetsAppState._onUnknownRoute.<anonymous closure> (package:flutter/src/widgets/app.dart:1571:9)
#1      _WidgetsAppState._onUnknownRoute (package:flutter/src/widgets/app.dart:1586:6)
#2      NavigatorState._routeNamed (package:flutter/src/widgets/navigator.dart:4668:37)
#3      NavigatorState.pushReplacementNamed (package:flutter/src/widgets/navigator.dart:4785:7)
#4      Navigator.pushReplacementNamed (package:flutter/src/widgets/navigator.dart:2024:7)
#5      _MapViewScreenState._validateNavigationArguments.<anonymous closure> (package:geo_asist_front/screens/map_view/map_view_screen.dart:145:19)
#6      SchedulerBinding._invokeFrameCallback (package:flutter/src/scheduler/binding.dart:1438:15)
#7      SchedulerBinding.handleDrawFrame (package:flutter/src/scheduler/binding.dart:1365:11)
#8      AutomatedTestWidgetsFlutterBinding.pump.<anonymous closure> (package:flutter_test/src/binding.dart:1340:9)
#11     TestAsyncUtils.guard (package:flutter_test/src/test_async_utils.dart:74:41)
#12     AutomatedTestWidgetsFlutterBinding.pump (package:flutter_test/src/binding.dart:1329:27)
#13     WidgetTester.pumpWidget.<anonymous closure> (package:flutter_test/src/widget_tester.dart:599:22)
#16     TestAsyncUtils.guard (package:flutter_test/src/test_async_utils.dart:74:41)
#17     WidgetTester.pumpWidget (package:flutter_test/src/widget_tester.dart:596:27)
#18     main.<anonymous closure>.<anonymous closure>.<anonymous closure> (file:///D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/integration/map_view_integration_test.dart:452:24)
<asynchronous suspension>
#19     testWidgets.<anonymous closure>.<anonymous closure> (package:flutter_test/src/widget_tester.dart:193:15)
<asynchronous suspension>
#20     TestWidgetsFlutterBinding._runTestBody (package:flutter_test/src/binding.dart:1064:5)
<asynchronous suspension>
<asynchronous suspension>
(elided 5 frames from dart:async and package:stack_trace)
════════════════════════════════════════════════════════════════════════════════════════════════════
🧹 Limpiando MapViewScreen...
🎯 MapViewScreen iniciando con restricciones de seguridad FASE C
🔍 Validando argumentos de navegación:
   - isStudentMode: true
   - eventoId: test_event_123
   - permissionsValidated: null
   - preciseLocationGranted: null
   - backgroundPermissionsGranted: null
   - batteryOptimizationDisabled: null
🚨 ACCESO DIRECTO NO PERMITIDO - Redirigiendo a validaciones
🔒 PASO 1: Re-validando permisos críticos...
══╡ EXCEPTION CAUGHT BY SCHEDULER LIBRARY ╞═════════════════════════════════════════════════════════
The following assertion was thrown during a scheduler callback:
Could not find a generator for route RouteSettings("/available-events", null) in the
_WidgetsAppState.
Make sure your root app widget has provided a way to generate
this route.
Generators for routes are searched for in the following order:
 1. For the "/" route, the "home" property, if non-null, is used.
 2. Otherwise, the "routes" table is used, if it has an entry for the route.
 3. Otherwise, onGenerateRoute is called. It should return a non-null value for any valid route not
handled by "home" and "routes".
 4. Finally if all else fails onUnknownRoute is called.
Unfortunately, onUnknownRoute was not set.

When the exception was thrown, this was the stack:
#0      _WidgetsAppState._onUnknownRoute.<anonymous closure> (package:flutter/src/widgets/app.dart:1571:9)
#1      _WidgetsAppState._onUnknownRoute (package:flutter/src/widgets/app.dart:1586:6)
#2      NavigatorState._routeNamed (package:flutter/src/widgets/navigator.dart:4668:37)
#3      NavigatorState.pushReplacementNamed (package:flutter/src/widgets/navigator.dart:4785:7)
#4      Navigator.pushReplacementNamed (package:flutter/src/widgets/navigator.dart:2024:7)
#5      _MapViewScreenState._validateNavigationArguments.<anonymous closure> (package:geo_asist_front/screens/map_view/map_view_screen.dart:145:19)
#6      SchedulerBinding._invokeFrameCallback (package:flutter/src/scheduler/binding.dart:1438:15)
#7      SchedulerBinding.handleDrawFrame (package:flutter/src/scheduler/binding.dart:1365:11)
#8      AutomatedTestWidgetsFlutterBinding.pump.<anonymous closure> (package:flutter_test/src/binding.dart:1340:9)
#11     TestAsyncUtils.guard (package:flutter_test/src/test_async_utils.dart:74:41)
#12     AutomatedTestWidgetsFlutterBinding.pump (package:flutter_test/src/binding.dart:1329:27)
#13     WidgetTester.pumpWidget.<anonymous closure> (package:flutter_test/src/widget_tester.dart:599:22)
#16     TestAsyncUtils.guard (package:flutter_test/src/test_async_utils.dart:74:41)
#17     WidgetTester.pumpWidget (package:flutter_test/src/widget_tester.dart:596:27)
#18     main.<anonymous closure>.<anonymous closure>.<anonymous closure> (file:///D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/integration/map_view_integration_test.dart:452:24)
<asynchronous suspension>
#19     testWidgets.<anonymous closure>.<anonymous closure> (package:flutter_test/src/widget_tester.dart:193:15)
<asynchronous suspension>
#20     TestWidgetsFlutterBinding._runTestBody (package:flutter_test/src/binding.dart:1064:5)
<asynchronous suspension>
<asynchronous suspension>
(elided 5 frames from dart:async and package:stack_trace)
════════════════════════════════════════════════════════════════════════════════════════════════════
🧹 Limpiando MapViewScreen...
🎯 MapViewScreen iniciando con restricciones de seguridad FASE C
🔍 Validando argumentos de navegación:
   - isStudentMode: true
   - eventoId: test_event_123
   - permissionsValidated: null
   - preciseLocationGranted: null
   - backgroundPermissionsGranted: null
   - batteryOptimizationDisabled: null
🚨 ACCESO DIRECTO NO PERMITIDO - Redirigiendo a validaciones
🔒 PASO 1: Re-validando permisos críticos...
══╡ EXCEPTION CAUGHT BY SCHEDULER LIBRARY ╞═════════════════════════════════════════════════════════
The following assertion was thrown during a scheduler callback:
Could not find a generator for route RouteSettings("/available-events", null) in the
_WidgetsAppState.
Make sure your root app widget has provided a way to generate
this route.
Generators for routes are searched for in the following order:
 1. For the "/" route, the "home" property, if non-null, is used.
 2. Otherwise, the "routes" table is used, if it has an entry for the route.
 3. Otherwise, onGenerateRoute is called. It should return a non-null value for any valid route not
handled by "home" and "routes".
 4. Finally if all else fails onUnknownRoute is called.
Unfortunately, onUnknownRoute was not set.

When the exception was thrown, this was the stack:
#0      _WidgetsAppState._onUnknownRoute.<anonymous closure> (package:flutter/src/widgets/app.dart:1571:9)
#1      _WidgetsAppState._onUnknownRoute (package:flutter/src/widgets/app.dart:1586:6)
#2      NavigatorState._routeNamed (package:flutter/src/widgets/navigator.dart:4668:37)
#3      NavigatorState.pushReplacementNamed (package:flutter/src/widgets/navigator.dart:4785:7)
#4      Navigator.pushReplacementNamed (package:flutter/src/widgets/navigator.dart:2024:7)
#5      _MapViewScreenState._validateNavigationArguments.<anonymous closure> (package:geo_asist_front/screens/map_view/map_view_screen.dart:145:19)
#6      SchedulerBinding._invokeFrameCallback (package:flutter/src/scheduler/binding.dart:1438:15)
#7      SchedulerBinding.handleDrawFrame (package:flutter/src/scheduler/binding.dart:1365:11)
#8      AutomatedTestWidgetsFlutterBinding.pump.<anonymous closure> (package:flutter_test/src/binding.dart:1340:9)
#11     TestAsyncUtils.guard (package:flutter_test/src/test_async_utils.dart:74:41)
#12     AutomatedTestWidgetsFlutterBinding.pump (package:flutter_test/src/binding.dart:1329:27)
#13     WidgetTester.pumpWidget.<anonymous closure> (package:flutter_test/src/widget_tester.dart:599:22)
#16     TestAsyncUtils.guard (package:flutter_test/src/test_async_utils.dart:74:41)
#17     WidgetTester.pumpWidget (package:flutter_test/src/widget_tester.dart:596:27)
#18     main.<anonymous closure>.<anonymous closure>.<anonymous closure> (file:///D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/integration/map_view_integration_test.dart:452:24)
<asynchronous suspension>
#19     testWidgets.<anonymous closure>.<anonymous closure> (package:flutter_test/src/widget_tester.dart:193:15)
<asynchronous suspension>
#20     TestWidgetsFlutterBinding._runTestBody (package:flutter_test/src/binding.dart:1064:5)
<asynchronous suspension>
<asynchronous suspension>
(elided 5 frames from dart:async and package:stack_trace)
════════════════════════════════════════════════════════════════════════════════════════════════════
🧹 Limpiando MapViewScreen...
🎯 MapViewScreen iniciando con restricciones de seguridad FASE C
🔍 Validando argumentos de navegación:
   - isStudentMode: true
   - eventoId: test_event_123
   - permissionsValidated: null
   - preciseLocationGranted: null
   - backgroundPermissionsGranted: null
   - batteryOptimizationDisabled: null
🚨 ACCESO DIRECTO NO PERMITIDO - Redirigiendo a validaciones
🔒 PASO 1: Re-validando permisos críticos...
══╡ EXCEPTION CAUGHT BY SCHEDULER LIBRARY ╞═════════════════════════════════════════════════════════
The following assertion was thrown during a scheduler callback:
Could not find a generator for route RouteSettings("/available-events", null) in the
_WidgetsAppState.
Make sure your root app widget has provided a way to generate
this route.
Generators for routes are searched for in the following order:
 1. For the "/" route, the "home" property, if non-null, is used.
 2. Otherwise, the "routes" table is used, if it has an entry for the route.
 3. Otherwise, onGenerateRoute is called. It should return a non-null value for any valid route not
handled by "home" and "routes".
 4. Finally if all else fails onUnknownRoute is called.
Unfortunately, onUnknownRoute was not set.

When the exception was thrown, this was the stack:
#0      _WidgetsAppState._onUnknownRoute.<anonymous closure> (package:flutter/src/widgets/app.dart:1571:9)
#1      _WidgetsAppState._onUnknownRoute (package:flutter/src/widgets/app.dart:1586:6)
#2      NavigatorState._routeNamed (package:flutter/src/widgets/navigator.dart:4668:37)
#3      NavigatorState.pushReplacementNamed (package:flutter/src/widgets/navigator.dart:4785:7)
#4      Navigator.pushReplacementNamed (package:flutter/src/widgets/navigator.dart:2024:7)
#5      _MapViewScreenState._validateNavigationArguments.<anonymous closure> (package:geo_asist_front/screens/map_view/map_view_screen.dart:145:19)
#6      SchedulerBinding._invokeFrameCallback (package:flutter/src/scheduler/binding.dart:1438:15)
#7      SchedulerBinding.handleDrawFrame (package:flutter/src/scheduler/binding.dart:1365:11)
#8      AutomatedTestWidgetsFlutterBinding.pump.<anonymous closure> (package:flutter_test/src/binding.dart:1340:9)
#11     TestAsyncUtils.guard (package:flutter_test/src/test_async_utils.dart:74:41)
#12     AutomatedTestWidgetsFlutterBinding.pump (package:flutter_test/src/binding.dart:1329:27)
#13     WidgetTester.pumpWidget.<anonymous closure> (package:flutter_test/src/widget_tester.dart:599:22)
#16     TestAsyncUtils.guard (package:flutter_test/src/test_async_utils.dart:74:41)
#17     WidgetTester.pumpWidget (package:flutter_test/src/widget_tester.dart:596:27)
#18     main.<anonymous closure>.<anonymous closure>.<anonymous closure> (file:///D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/integration/map_view_integration_test.dart:452:24)
<asynchronous suspension>
#19     testWidgets.<anonymous closure>.<anonymous closure> (package:flutter_test/src/widget_tester.dart:193:15)
<asynchronous suspension>
#20     TestWidgetsFlutterBinding._runTestBody (package:flutter_test/src/binding.dart:1064:5)
<asynchronous suspension>
<asynchronous suspension>
(elided 5 frames from dart:async and package:stack_trace)
════════════════════════════════════════════════════════════════════════════════════════════════════
🧹 Limpiando MapViewScreen...
🎯 MapViewScreen iniciando con restricciones de seguridad FASE C
🔍 Validando argumentos de navegación:
   - isStudentMode: true
   - eventoId: test_event_123
   - permissionsValidated: null
   - preciseLocationGranted: null
   - backgroundPermissionsGranted: null
   - batteryOptimizationDisabled: null
🚨 ACCESO DIRECTO NO PERMITIDO - Redirigiendo a validaciones
🔒 PASO 1: Re-validando permisos críticos...
══╡ EXCEPTION CAUGHT BY SCHEDULER LIBRARY ╞═════════════════════════════════════════════════════════
The following assertion was thrown during a scheduler callback:
Could not find a generator for route RouteSettings("/available-events", null) in the
_WidgetsAppState.
Make sure your root app widget has provided a way to generate
this route.
Generators for routes are searched for in the following order:
 1. For the "/" route, the "home" property, if non-null, is used.
 2. Otherwise, the "routes" table is used, if it has an entry for the route.
 3. Otherwise, onGenerateRoute is called. It should return a non-null value for any valid route not
handled by "home" and "routes".
 4. Finally if all else fails onUnknownRoute is called.
Unfortunately, onUnknownRoute was not set.

When the exception was thrown, this was the stack:
#0      _WidgetsAppState._onUnknownRoute.<anonymous closure> (package:flutter/src/widgets/app.dart:1571:9)
#1      _WidgetsAppState._onUnknownRoute (package:flutter/src/widgets/app.dart:1586:6)
#2      NavigatorState._routeNamed (package:flutter/src/widgets/navigator.dart:4668:37)
#3      NavigatorState.pushReplacementNamed (package:flutter/src/widgets/navigator.dart:4785:7)
#4      Navigator.pushReplacementNamed (package:flutter/src/widgets/navigator.dart:2024:7)
#5      _MapViewScreenState._validateNavigationArguments.<anonymous closure> (package:geo_asist_front/screens/map_view/map_view_screen.dart:145:19)
#6      SchedulerBinding._invokeFrameCallback (package:flutter/src/scheduler/binding.dart:1438:15)
#7      SchedulerBinding.handleDrawFrame (package:flutter/src/scheduler/binding.dart:1365:11)
#8      AutomatedTestWidgetsFlutterBinding.pump.<anonymous closure> (package:flutter_test/src/binding.dart:1340:9)
#11     TestAsyncUtils.guard (package:flutter_test/src/test_async_utils.dart:74:41)
#12     AutomatedTestWidgetsFlutterBinding.pump (package:flutter_test/src/binding.dart:1329:27)
#13     WidgetTester.pumpWidget.<anonymous closure> (package:flutter_test/src/widget_tester.dart:599:22)
#16     TestAsyncUtils.guard (package:flutter_test/src/test_async_utils.dart:74:41)
#17     WidgetTester.pumpWidget (package:flutter_test/src/widget_tester.dart:596:27)
#18     main.<anonymous closure>.<anonymous closure>.<anonymous closure> (file:///D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/integration/map_view_integration_test.dart:452:24)
<asynchronous suspension>
#19     testWidgets.<anonymous closure>.<anonymous closure> (package:flutter_test/src/widget_tester.dart:193:15)
<asynchronous suspension>
#20     TestWidgetsFlutterBinding._runTestBody (package:flutter_test/src/binding.dart:1064:5)
<asynchronous suspension>
<asynchronous suspension>
(elided 5 frames from dart:async and package:stack_trace)
════════════════════════════════════════════════════════════════════════════════════════════════════
🧹 Limpiando MapViewScreen...
🎯 MapViewScreen iniciando con restricciones de seguridad FASE C
🔍 Validando argumentos de navegación:
   - isStudentMode: true
   - eventoId: test_event_123
   - permissionsValidated: null
   - preciseLocationGranted: null
   - backgroundPermissionsGranted: null
   - batteryOptimizationDisabled: null
🚨 ACCESO DIRECTO NO PERMITIDO - Redirigiendo a validaciones
🔒 PASO 1: Re-validando permisos críticos...
══╡ EXCEPTION CAUGHT BY SCHEDULER LIBRARY ╞═════════════════════════════════════════════════════════
The following assertion was thrown during a scheduler callback:
Could not find a generator for route RouteSettings("/available-events", null) in the
_WidgetsAppState.
Make sure your root app widget has provided a way to generate
this route.
Generators for routes are searched for in the following order:
 1. For the "/" route, the "home" property, if non-null, is used.
 2. Otherwise, the "routes" table is used, if it has an entry for the route.
 3. Otherwise, onGenerateRoute is called. It should return a non-null value for any valid route not
handled by "home" and "routes".
 4. Finally if all else fails onUnknownRoute is called.
Unfortunately, onUnknownRoute was not set.

When the exception was thrown, this was the stack:
#0      _WidgetsAppState._onUnknownRoute.<anonymous closure> (package:flutter/src/widgets/app.dart:1571:9)
#1      _WidgetsAppState._onUnknownRoute (package:flutter/src/widgets/app.dart:1586:6)
#2      NavigatorState._routeNamed (package:flutter/src/widgets/navigator.dart:4668:37)
#3      NavigatorState.pushReplacementNamed (package:flutter/src/widgets/navigator.dart:4785:7)
#4      Navigator.pushReplacementNamed (package:flutter/src/widgets/navigator.dart:2024:7)
#5      _MapViewScreenState._validateNavigationArguments.<anonymous closure> (package:geo_asist_front/screens/map_view/map_view_screen.dart:145:19)
#6      SchedulerBinding._invokeFrameCallback (package:flutter/src/scheduler/binding.dart:1438:15)
#7      SchedulerBinding.handleDrawFrame (package:flutter/src/scheduler/binding.dart:1365:11)
#8      AutomatedTestWidgetsFlutterBinding.pump.<anonymous closure> (package:flutter_test/src/binding.dart:1340:9)
#11     TestAsyncUtils.guard (package:flutter_test/src/test_async_utils.dart:74:41)
#12     AutomatedTestWidgetsFlutterBinding.pump (package:flutter_test/src/binding.dart:1329:27)
#13     WidgetTester.pumpWidget.<anonymous closure> (package:flutter_test/src/widget_tester.dart:599:22)
#16     TestAsyncUtils.guard (package:flutter_test/src/test_async_utils.dart:74:41)
#17     WidgetTester.pumpWidget (package:flutter_test/src/widget_tester.dart:596:27)
#18     main.<anonymous closure>.<anonymous closure>.<anonymous closure> (file:///D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/integration/map_view_integration_test.dart:452:24)
<asynchronous suspension>
#19     testWidgets.<anonymous closure>.<anonymous closure> (package:flutter_test/src/widget_tester.dart:193:15)
<asynchronous suspension>
#20     TestWidgetsFlutterBinding._runTestBody (package:flutter_test/src/binding.dart:1064:5)
<asynchronous suspension>
<asynchronous suspension>
(elided 5 frames from dart:async and package:stack_trace)
════════════════════════════════════════════════════════════════════════════════════════════════════
🧹 Limpiando MapViewScreen...
🎯 MapViewScreen iniciando con restricciones de seguridad FASE C
🔍 Validando argumentos de navegación:
   - isStudentMode: true
   - eventoId: test_event_123
   - permissionsValidated: null
   - preciseLocationGranted: null
   - backgroundPermissionsGranted: null
   - batteryOptimizationDisabled: null
🚨 ACCESO DIRECTO NO PERMITIDO - Redirigiendo a validaciones
🔒 PASO 1: Re-validando permisos críticos...
══╡ EXCEPTION CAUGHT BY SCHEDULER LIBRARY ╞═════════════════════════════════════════════════════════
The following assertion was thrown during a scheduler callback:
Could not find a generator for route RouteSettings("/available-events", null) in the
_WidgetsAppState.
Make sure your root app widget has provided a way to generate
this route.
Generators for routes are searched for in the following order:
 1. For the "/" route, the "home" property, if non-null, is used.
 2. Otherwise, the "routes" table is used, if it has an entry for the route.
 3. Otherwise, onGenerateRoute is called. It should return a non-null value for any valid route not
handled by "home" and "routes".
 4. Finally if all else fails onUnknownRoute is called.
Unfortunately, onUnknownRoute was not set.

When the exception was thrown, this was the stack:
#0      _WidgetsAppState._onUnknownRoute.<anonymous closure> (package:flutter/src/widgets/app.dart:1571:9)
#1      _WidgetsAppState._onUnknownRoute (package:flutter/src/widgets/app.dart:1586:6)
#2      NavigatorState._routeNamed (package:flutter/src/widgets/navigator.dart:4668:37)
#3      NavigatorState.pushReplacementNamed (package:flutter/src/widgets/navigator.dart:4785:7)
#4      Navigator.pushReplacementNamed (package:flutter/src/widgets/navigator.dart:2024:7)
#5      _MapViewScreenState._validateNavigationArguments.<anonymous closure> (package:geo_asist_front/screens/map_view/map_view_screen.dart:145:19)
#6      SchedulerBinding._invokeFrameCallback (package:flutter/src/scheduler/binding.dart:1438:15)
#7      SchedulerBinding.handleDrawFrame (package:flutter/src/scheduler/binding.dart:1365:11)
#8      AutomatedTestWidgetsFlutterBinding.pump.<anonymous closure> (package:flutter_test/src/binding.dart:1340:9)
#11     TestAsyncUtils.guard (package:flutter_test/src/test_async_utils.dart:74:41)
#12     AutomatedTestWidgetsFlutterBinding.pump (package:flutter_test/src/binding.dart:1329:27)
#13     WidgetTester.pumpWidget.<anonymous closure> (package:flutter_test/src/widget_tester.dart:599:22)
#16     TestAsyncUtils.guard (package:flutter_test/src/test_async_utils.dart:74:41)
#17     WidgetTester.pumpWidget (package:flutter_test/src/widget_tester.dart:596:27)
#18     main.<anonymous closure>.<anonymous closure>.<anonymous closure> (file:///D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/integration/map_view_integration_test.dart:452:24)
<asynchronous suspension>
#19     testWidgets.<anonymous closure>.<anonymous closure> (package:flutter_test/src/widget_tester.dart:193:15)
<asynchronous suspension>
#20     TestWidgetsFlutterBinding._runTestBody (package:flutter_test/src/binding.dart:1064:5)
<asynchronous suspension>
<asynchronous suspension>
(elided 5 frames from dart:async and package:stack_trace)
════════════════════════════════════════════════════════════════════════════════════════════════════
🧹 Limpiando MapViewScreen...
══╡ EXCEPTION CAUGHT BY FLUTTER TEST FRAMEWORK ╞════════════════════════════════════════════════════
The following message was thrown:
Multiple exceptions (10) were detected during the running of the current test, and at least one was
unexpected.
════════════════════════════════════════════════════════════════════════════════════════════════════
00:02 +33 -33: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/unit/location_service_test.dart: LocationService Tests Backend Integration Tests should handle backend API errors gracefully
00:02 +33 -33: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/integration/map_view_integration_test.dart: MapView Integration Tests Error Resilience Tests should handle stress test of widget creation [E]
  Test failed. See exception logs above.
  The test description was: should handle stress test of widget creation
  
00:02 +33 -33: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/integration/map_view_integration_test.dart: MapView Integration Tests Basic Accessibility Tests should have accessible widget structure
🎯 MapViewScreen iniciando con restricciones de seguridad FASE C
🔍 Validando argumentos de navegación:
   - isStudentMode: true
   - eventoId: test_event_123
   - permissionsValidated: null
   - preciseLocationGranted: null
   - backgroundPermissionsGranted: null
   - batteryOptimizationDisabled: null
🚨 ACCESO DIRECTO NO PERMITIDO - Redirigiendo a validaciones
🔒 PASO 1: Re-validando permisos críticos...
══╡ EXCEPTION CAUGHT BY SCHEDULER LIBRARY ╞═════════════════════════════════════════════════════════
The following assertion was thrown during a scheduler callback:
Could not find a generator for route RouteSettings("/available-events", null) in the
_WidgetsAppState.
Make sure your root app widget has provided a way to generate
this route.
Generators for routes are searched for in the following order:
 1. For the "/" route, the "home" property, if non-null, is used.
 2. Otherwise, the "routes" table is used, if it has an entry for the route.
 3. Otherwise, onGenerateRoute is called. It should return a non-null value for any valid route not
handled by "home" and "routes".
 4. Finally if all else fails onUnknownRoute is called.
Unfortunately, onUnknownRoute was not set.

When the exception was thrown, this was the stack:
#0      _WidgetsAppState._onUnknownRoute.<anonymous closure> (package:flutter/src/widgets/app.dart:1571:9)
#1      _WidgetsAppState._onUnknownRoute (package:flutter/src/widgets/app.dart:1586:6)
#2      NavigatorState._routeNamed (package:flutter/src/widgets/navigator.dart:4668:37)
#3      NavigatorState.pushReplacementNamed (package:flutter/src/widgets/navigator.dart:4785:7)
#4      Navigator.pushReplacementNamed (package:flutter/src/widgets/navigator.dart:2024:7)
#5      _MapViewScreenState._validateNavigationArguments.<anonymous closure> (package:geo_asist_front/screens/map_view/map_view_screen.dart:145:19)
#6      SchedulerBinding._invokeFrameCallback (package:flutter/src/scheduler/binding.dart:1438:15)
#7      SchedulerBinding.handleDrawFrame (package:flutter/src/scheduler/binding.dart:1365:11)
#8      AutomatedTestWidgetsFlutterBinding.pump.<anonymous closure> (package:flutter_test/src/binding.dart:1340:9)
#11     TestAsyncUtils.guard (package:flutter_test/src/test_async_utils.dart:74:41)
#12     AutomatedTestWidgetsFlutterBinding.pump (package:flutter_test/src/binding.dart:1329:27)
#13     WidgetTester.pumpWidget.<anonymous closure> (package:flutter_test/src/widget_tester.dart:599:22)
#16     TestAsyncUtils.guard (package:flutter_test/src/test_async_utils.dart:74:41)
#17     WidgetTester.pumpWidget (package:flutter_test/src/widget_tester.dart:596:27)
#18     main.<anonymous closure>.<anonymous closure>.<anonymous closure> (file:///D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/integration/map_view_integration_test.dart:470:22)
#19     testWidgets.<anonymous closure>.<anonymous closure> (package:flutter_test/src/widget_tester.dart:193:29)
<asynchronous suspension>
#20     TestWidgetsFlutterBinding._runTestBody (package:flutter_test/src/binding.dart:1064:5)
<asynchronous suspension>
<asynchronous suspension>
(elided 5 frames from dart:async and package:stack_trace)
════════════════════════════════════════════════════════════════════════════════════════════════════
00:02 +33 -34: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/unit/location_service_test.dart: LocationService Tests Backend Integration Tests should handle backend API errors gracefully
00:02 +33 -34: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/integration/map_view_integration_test.dart: MapView Integration Tests Basic Accessibility Tests should have accessible widget structure [E]
  Test failed. See exception logs above.
  The test description was: should have accessible widget structure
  
00:02 +33 -34: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/integration/map_view_integration_test.dart: MapView Integration Tests Basic Accessibility Tests should work with semantic labels
🧹 Limpiando MapViewScreen...
🎯 MapViewScreen iniciando con restricciones de seguridad FASE C
🔍 Validando argumentos de navegación:
   - isStudentMode: true
   - eventoId: test_event_123
   - permissionsValidated: null
   - preciseLocationGranted: null
   - backgroundPermissionsGranted: null
   - batteryOptimizationDisabled: null
🚨 ACCESO DIRECTO NO PERMITIDO - Redirigiendo a validaciones
🔒 PASO 1: Re-validando permisos críticos...
══╡ EXCEPTION CAUGHT BY SCHEDULER LIBRARY ╞═════════════════════════════════════════════════════════
The following assertion was thrown during a scheduler callback:
Could not find a generator for route RouteSettings("/available-events", null) in the
_WidgetsAppState.
Make sure your root app widget has provided a way to generate
this route.
Generators for routes are searched for in the following order:
 1. For the "/" route, the "home" property, if non-null, is used.
 2. Otherwise, the "routes" table is used, if it has an entry for the route.
 3. Otherwise, onGenerateRoute is called. It should return a non-null value for any valid route not
handled by "home" and "routes".
 4. Finally if all else fails onUnknownRoute is called.
Unfortunately, onUnknownRoute was not set.

When the exception was thrown, this was the stack:
#0      _WidgetsAppState._onUnknownRoute.<anonymous closure> (package:flutter/src/widgets/app.dart:1571:9)
#1      _WidgetsAppState._onUnknownRoute (package:flutter/src/widgets/app.dart:1586:6)
#2      NavigatorState._routeNamed (package:flutter/src/widgets/navigator.dart:4668:37)
#3      NavigatorState.pushReplacementNamed (package:flutter/src/widgets/navigator.dart:4785:7)
#4      Navigator.pushReplacementNamed (package:flutter/src/widgets/navigator.dart:2024:7)
#5      _MapViewScreenState._validateNavigationArguments.<anonymous closure> (package:geo_asist_front/screens/map_view/map_view_screen.dart:145:19)
#6      SchedulerBinding._invokeFrameCallback (package:flutter/src/scheduler/binding.dart:1438:15)
#7      SchedulerBinding.handleDrawFrame (package:flutter/src/scheduler/binding.dart:1365:11)
#8      AutomatedTestWidgetsFlutterBinding.pump.<anonymous closure> (package:flutter_test/src/binding.dart:1340:9)
#11     TestAsyncUtils.guard (package:flutter_test/src/test_async_utils.dart:74:41)
#12     AutomatedTestWidgetsFlutterBinding.pump (package:flutter_test/src/binding.dart:1329:27)
#13     WidgetTester.pumpWidget.<anonymous closure> (package:flutter_test/src/widget_tester.dart:599:22)
#16     TestAsyncUtils.guard (package:flutter_test/src/test_async_utils.dart:74:41)
#17     WidgetTester.pumpWidget (package:flutter_test/src/widget_tester.dart:596:27)
#18     main.<anonymous closure>.<anonymous closure>.<anonymous closure> (file:///D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/integration/map_view_integration_test.dart:483:22)
#19     testWidgets.<anonymous closure>.<anonymous closure> (package:flutter_test/src/widget_tester.dart:193:29)
<asynchronous suspension>
#20     TestWidgetsFlutterBinding._runTestBody (package:flutter_test/src/binding.dart:1064:5)
<asynchronous suspension>
<asynchronous suspension>
(elided 5 frames from dart:async and package:stack_trace)
════════════════════════════════════════════════════════════════════════════════════════════════════
00:02 +33 -35: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/unit/location_service_test.dart: LocationService Tests Backend Integration Tests should handle backend API errors gracefully
00:02 +33 -35: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/integration/map_view_integration_test.dart: MapView Integration Tests Basic Accessibility Tests should work with semantic labels [E]
  Test failed. See exception logs above.
  The test description was: should work with semantic labels
  
00:02 +33 -35: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/integration/map_view_integration_test.dart: MapView Integration Tests Performance Tests should create widgets quickly
🧹 Limpiando MapViewScreen...
🎯 MapViewScreen iniciando con restricciones de seguridad FASE C
🔍 Validando argumentos de navegación:
   - isStudentMode: true
   - eventoId: test_event_123
   - permissionsValidated: null
   - preciseLocationGranted: null
   - backgroundPermissionsGranted: null
   - batteryOptimizationDisabled: null
🚨 ACCESO DIRECTO NO PERMITIDO - Redirigiendo a validaciones
🔒 PASO 1: Re-validando permisos críticos...
══╡ EXCEPTION CAUGHT BY SCHEDULER LIBRARY ╞═════════════════════════════════════════════════════════
The following assertion was thrown during a scheduler callback:
Could not find a generator for route RouteSettings("/available-events", null) in the
_WidgetsAppState.
Make sure your root app widget has provided a way to generate
this route.
Generators for routes are searched for in the following order:
 1. For the "/" route, the "home" property, if non-null, is used.
 2. Otherwise, the "routes" table is used, if it has an entry for the route.
 3. Otherwise, onGenerateRoute is called. It should return a non-null value for any valid route not
handled by "home" and "routes".
 4. Finally if all else fails onUnknownRoute is called.
Unfortunately, onUnknownRoute was not set.

When the exception was thrown, this was the stack:
#0      _WidgetsAppState._onUnknownRoute.<anonymous closure> (package:flutter/src/widgets/app.dart:1571:9)
#1      _WidgetsAppState._onUnknownRoute (package:flutter/src/widgets/app.dart:1586:6)
#2      NavigatorState._routeNamed (package:flutter/src/widgets/navigator.dart:4668:37)
#3      NavigatorState.pushReplacementNamed (package:flutter/src/widgets/navigator.dart:4785:7)
#4      Navigator.pushReplacementNamed (package:flutter/src/widgets/navigator.dart:2024:7)
#5      _MapViewScreenState._validateNavigationArguments.<anonymous closure> (package:geo_asist_front/screens/map_view/map_view_screen.dart:145:19)
#6      SchedulerBinding._invokeFrameCallback (package:flutter/src/scheduler/binding.dart:1438:15)
#7      SchedulerBinding.handleDrawFrame (package:flutter/src/scheduler/binding.dart:1365:11)
#8      AutomatedTestWidgetsFlutterBinding.pump.<anonymous closure> (package:flutter_test/src/binding.dart:1340:9)
#11     TestAsyncUtils.guard (package:flutter_test/src/test_async_utils.dart:74:41)
#12     AutomatedTestWidgetsFlutterBinding.pump (package:flutter_test/src/binding.dart:1329:27)
#13     WidgetTester.pumpWidget.<anonymous closure> (package:flutter_test/src/widget_tester.dart:599:22)
#16     TestAsyncUtils.guard (package:flutter_test/src/test_async_utils.dart:74:41)
#17     WidgetTester.pumpWidget (package:flutter_test/src/widget_tester.dart:596:27)
#18     main.<anonymous closure>.<anonymous closure>.<anonymous closure> (file:///D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/integration/map_view_integration_test.dart:499:22)
#19     testWidgets.<anonymous closure>.<anonymous closure> (package:flutter_test/src/widget_tester.dart:193:29)
<asynchronous suspension>
#20     TestWidgetsFlutterBinding._runTestBody (package:flutter_test/src/binding.dart:1064:5)
<asynchronous suspension>
<asynchronous suspension>
(elided 5 frames from dart:async and package:stack_trace)
════════════════════════════════════════════════════════════════════════════════════════════════════
00:02 +33 -36: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/unit/location_service_test.dart: LocationService Tests Backend Integration Tests should handle backend API errors gracefully
00:02 +33 -36: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/integration/map_view_integration_test.dart: MapView Integration Tests Performance Tests should create widgets quickly [E]
  Test failed. See exception logs above.
  The test description was: should create widgets quickly
  
00:02 +33 -36: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/integration/map_view_integration_test.dart: MapView Integration Tests Performance Tests should handle orientation simulation
🧹 Limpiando MapViewScreen...
🎯 MapViewScreen iniciando con restricciones de seguridad FASE C
🔍 Validando argumentos de navegación:
   - isStudentMode: true
   - eventoId: test_event_123
   - permissionsValidated: null
   - preciseLocationGranted: null
   - backgroundPermissionsGranted: null
   - batteryOptimizationDisabled: null
🚨 ACCESO DIRECTO NO PERMITIDO - Redirigiendo a validaciones
🔒 PASO 1: Re-validando permisos críticos...
══╡ EXCEPTION CAUGHT BY SCHEDULER LIBRARY ╞═════════════════════════════════════════════════════════
The following assertion was thrown during a scheduler callback:
Could not find a generator for route RouteSettings("/available-events", null) in the
_WidgetsAppState.
Make sure your root app widget has provided a way to generate
this route.
Generators for routes are searched for in the following order:
 1. For the "/" route, the "home" property, if non-null, is used.
 2. Otherwise, the "routes" table is used, if it has an entry for the route.
 3. Otherwise, onGenerateRoute is called. It should return a non-null value for any valid route not
handled by "home" and "routes".
 4. Finally if all else fails onUnknownRoute is called.
Unfortunately, onUnknownRoute was not set.

When the exception was thrown, this was the stack:
#0      _WidgetsAppState._onUnknownRoute.<anonymous closure> (package:flutter/src/widgets/app.dart:1571:9)
#1      _WidgetsAppState._onUnknownRoute (package:flutter/src/widgets/app.dart:1586:6)
#2      NavigatorState._routeNamed (package:flutter/src/widgets/navigator.dart:4668:37)
#3      NavigatorState.pushReplacementNamed (package:flutter/src/widgets/navigator.dart:4785:7)
#4      Navigator.pushReplacementNamed (package:flutter/src/widgets/navigator.dart:2024:7)
#5      _MapViewScreenState._validateNavigationArguments.<anonymous closure> (package:geo_asist_front/screens/map_view/map_view_screen.dart:145:19)
#6      SchedulerBinding._invokeFrameCallback (package:flutter/src/scheduler/binding.dart:1438:15)
#7      SchedulerBinding.handleDrawFrame (package:flutter/src/scheduler/binding.dart:1365:11)
#8      AutomatedTestWidgetsFlutterBinding.pump.<anonymous closure> (package:flutter_test/src/binding.dart:1340:9)
#11     TestAsyncUtils.guard (package:flutter_test/src/test_async_utils.dart:74:41)
#12     AutomatedTestWidgetsFlutterBinding.pump (package:flutter_test/src/binding.dart:1329:27)
#13     WidgetTester.pumpWidget.<anonymous closure> (package:flutter_test/src/widget_tester.dart:599:22)
#16     TestAsyncUtils.guard (package:flutter_test/src/test_async_utils.dart:74:41)
#17     WidgetTester.pumpWidget (package:flutter_test/src/widget_tester.dart:596:27)
#18     main.<anonymous closure>.<anonymous closure>.<anonymous closure> (file:///D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/integration/map_view_integration_test.dart:511:22)
#19     testWidgets.<anonymous closure>.<anonymous closure> (package:flutter_test/src/widget_tester.dart:193:29)
<asynchronous suspension>
#20     TestWidgetsFlutterBinding._runTestBody (package:flutter_test/src/binding.dart:1064:5)
<asynchronous suspension>
<asynchronous suspension>
(elided 5 frames from dart:async and package:stack_trace)
════════════════════════════════════════════════════════════════════════════════════════════════════
00:02 +33 -37: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/unit/location_service_test.dart: LocationService Tests Backend Integration Tests should handle backend API errors gracefully
00:02 +33 -37: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/integration/map_view_integration_test.dart: MapView Integration Tests Performance Tests should handle orientation simulation [E]
  Test failed. See exception logs above.
  The test description was: should handle orientation simulation
  
00:02 +33 -37: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/unit/location_service_test.dart: LocationService Tests Backend Integration Tests should handle backend API errors gracefully
00:02 +33 -37: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/unit/notification_manager_test.dart: NotificationManager Tests Initialization Tests should initialize notification plugin successfully
🔔 Inicializando NotificationManager
❌ Error inicializando NotificationManager: LateInitializationError: Field '_instance@1176271368' has not been initialized.
00:02 +33 -38: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/unit/location_service_test.dart: LocationService Tests Backend Integration Tests should handle backend API errors gracefully
00:02 +33 -38: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/unit/notification_manager_test.dart: NotificationManager Tests Initialization Tests should initialize notification plugin successfully [E]
  LateInitializationError: Field '_instance@1176271368' has not been initialized.
  package:flutter_local_notifications_platform_interface/flutter_local_notifications_platform_interface.dart        FlutterLocalNotificationsPlatform._instance
  package:flutter_local_notifications_platform_interface/flutter_local_notifications_platform_interface.dart 20:60  FlutterLocalNotificationsPlatform.instance
  package:flutter_local_notifications/src/flutter_local_notifications_plugin.dart 54:43                             FlutterLocalNotificationsPlugin.resolvePlatformSpecificImplementation
  package:flutter_local_notifications/src/flutter_local_notifications_plugin.dart 129:14                            FlutterLocalNotificationsPlugin.initialize
  package:geo_asist_front/services/notifications/notification_manager.dart 76:26                                    NotificationManager._configureNotificationChannels
  package:geo_asist_front/services/notifications/notification_manager.dart 48:13                                    NotificationManager.initialize
  test\unit\notification_manager_test.dart 58:35                                                                    main.<fn>.<fn>.<fn>
  
00:02 +33 -38: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/unit/notification_manager_test.dart: NotificationManager Tests Initialization Tests should handle initialization failure gracefully
🔔 Inicializando NotificationManager
❌ Error inicializando NotificationManager: LateInitializationError: Field '_instance@1176271368' has not been initialized.
00:02 +33 -39: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/unit/location_service_test.dart: LocationService Tests Backend Integration Tests should handle backend API errors gracefully
00:02 +33 -39: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/unit/notification_manager_test.dart: NotificationManager Tests Initialization Tests should handle initialization failure gracefully [E]
  LateInitializationError: Field '_instance@1176271368' has not been initialized.
  package:flutter_local_notifications_platform_interface/flutter_local_notifications_platform_interface.dart        FlutterLocalNotificationsPlatform._instance
  package:flutter_local_notifications_platform_interface/flutter_local_notifications_platform_interface.dart 20:60  FlutterLocalNotificationsPlatform.instance
  package:flutter_local_notifications/src/flutter_local_notifications_plugin.dart 54:43                             FlutterLocalNotificationsPlugin.resolvePlatformSpecificImplementation
  package:flutter_local_notifications/src/flutter_local_notifications_plugin.dart 129:14                            FlutterLocalNotificationsPlugin.initialize
  package:geo_asist_front/services/notifications/notification_manager.dart 76:26                                    NotificationManager._configureNotificationChannels
  package:geo_asist_front/services/notifications/notification_manager.dart 48:13                                    NotificationManager.initialize
  test\unit\notification_manager_test.dart 75:42                                                                    main.<fn>.<fn>.<fn>.<fn>
  package:matcher                                                                                                   expect
  package:flutter_test/src/widget_tester.dart 474:18                                                                expect
  test\unit\notification_manager_test.dart 75:9                                                                     main.<fn>.<fn>.<fn>
  ===== asynchronous gap ===========================
  dart:async                                                                                                        _CustomZone.registerBinaryCallback
  package:geo_asist_front/services/notifications/notification_manager.dart 48:7                                     NotificationManager.initialize
  test\unit\notification_manager_test.dart 75:42                                                                    main.<fn>.<fn>.<fn>.<fn>
  package:matcher                                                                                                   expect
  package:flutter_test/src/widget_tester.dart 474:18                                                                expect
  test\unit\notification_manager_test.dart 75:9                                                                     main.<fn>.<fn>.<fn>
  
00:02 +33 -39: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/unit/notification_manager_test.dart: NotificationManager Tests Event Notification Tests should show event started notification
🎯 Mostrando notificación - Evento iniciado
❌ Error mostrando alerta (info): LateInitializationError: Field '_instance@1176271368' has not been initialized.
00:02 +33 -40: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/unit/location_service_test.dart: LocationService Tests Backend Integration Tests should handle backend API errors gracefully
00:02 +33 -40: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/unit/notification_manager_test.dart: NotificationManager Tests Event Notification Tests should show event started notification [E]
  No matching calls (actually, no calls at all).
  (If you called `verify(...).called(0);`, please instead use `verifyNever(...);`.)
  package:matcher                                 fail
  package:mocktail/src/mocktail.dart 728:7        _VerifyCall._checkWith
  package:mocktail/src/mocktail.dart 519:18       _makeVerify.<fn>
  test\unit\notification_manager_test.dart 96:15  main.<fn>.<fn>.<fn>
  
00:02 +33 -40: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/unit/notification_manager_test.dart: NotificationManager Tests Event Notification Tests should show tracking active notification
📱 Mostrando notificación de tracking activo
❌ Error mostrando notificación de tracking: LateInitializationError: Field '_instance@1176271368' has not been initialized.
00:02 +33 -41: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/unit/location_service_test.dart: LocationService Tests Backend Integration Tests should handle backend API errors gracefully
00:02 +33 -41: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/unit/notification_manager_test.dart: NotificationManager Tests Event Notification Tests should show tracking active notification [E]
  No matching calls (actually, no calls at all).
  (If you called `verify(...).called(0);`, please instead use `verifyNever(...);`.)
  package:matcher                                  fail
  package:mocktail/src/mocktail.dart 728:7         _VerifyCall._checkWith
  package:mocktail/src/mocktail.dart 519:18        _makeVerify.<fn>
  test\unit\notification_manager_test.dart 119:15  main.<fn>.<fn>.<fn>
  
00:02 +33 -41: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/unit/notification_manager_test.dart: NotificationManager Tests Geofence Notification Tests should show geofence entered notification
✅ Mostrando notificación - Entraste al área
❌ Error mostrando alerta (success): LateInitializationError: Field '_instance@1176271368' has not been initialized.
00:02 +33 -42: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/unit/location_service_test.dart: LocationService Tests Backend Integration Tests should handle backend API errors gracefully
00:02 +33 -42: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/unit/notification_manager_test.dart: NotificationManager Tests Geofence Notification Tests should show geofence entered notification [E]
  No matching calls (actually, no calls at all).
  (If you called `verify(...).called(0);`, please instead use `verifyNever(...);`.)
  package:matcher                                  fail
  package:mocktail/src/mocktail.dart 728:7         _VerifyCall._checkWith
  package:mocktail/src/mocktail.dart 519:18        _makeVerify.<fn>
  test\unit\notification_manager_test.dart 146:15  main.<fn>.<fn>.<fn>
  
00:02 +33 -42: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/unit/notification_manager_test.dart: NotificationManager Tests Geofence Notification Tests should show geofence exited notification
⚠️ Mostrando notificación - Saliste del área
❌ Error mostrando alerta (warning): LateInitializationError: Field '_instance@1176271368' has not been initialized.
00:02 +33 -43: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/unit/location_service_test.dart: LocationService Tests Backend Integration Tests should handle backend API errors gracefully
00:02 +33 -43: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/unit/notification_manager_test.dart: NotificationManager Tests Geofence Notification Tests should show geofence exited notification [E]
  No matching calls (actually, no calls at all).
  (If you called `verify(...).called(0);`, please instead use `verifyNever(...);`.)
  package:matcher                                  fail
  package:mocktail/src/mocktail.dart 728:7         _VerifyCall._checkWith
  package:mocktail/src/mocktail.dart 519:18        _makeVerify.<fn>
  test\unit\notification_manager_test.dart 171:15  main.<fn>.<fn>.<fn>
  
00:02 +33 -43: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/unit/notification_manager_test.dart: NotificationManager Tests Grace Period Notification Tests should show grace period started notification
⏰ Mostrando notificación - Período de gracia iniciado: 30s
❌ Error mostrando alerta (warning): LateInitializationError: Field '_instance@1176271368' has not been initialized.
00:02 +33 -44: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/unit/location_service_test.dart: LocationService Tests Backend Integration Tests should handle backend API errors gracefully
00:02 +33 -44: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/unit/notification_manager_test.dart: NotificationManager Tests Grace Period Notification Tests should show grace period started notification [E]
  No matching calls (actually, no calls at all).
  (If you called `verify(...).called(0);`, please instead use `verifyNever(...);`.)
  package:matcher                                  fail
  package:mocktail/src/mocktail.dart 728:7         _VerifyCall._checkWith
  package:mocktail/src/mocktail.dart 519:18        _makeVerify.<fn>
  test\unit\notification_manager_test.dart 200:15  main.<fn>.<fn>.<fn>
  
00:02 +33 -44: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/unit/notification_manager_test.dart: NotificationManager Tests Grace Period Notification Tests should show grace period expired notification
🚨 Mostrando notificación - Período de gracia expirado
❌ Error mostrando alerta (error): LateInitializationError: Field '_instance@1176271368' has not been initialized.
00:03 +33 -44: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/unit/location_service_test.dart: LocationService Tests Backend Integration Tests should handle backend API errors gracefully
00:03 +33 -44: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/unit/stream_lifecycle_test.dart: 🔄 Stream Controller Lifecycle Tests StudentAttendanceManager Stream Lifecycle should handle multiple fresh instances without stream conflicts
🧹 Limpiando StudentAttendanceManager con recursos críticos
🛑 Deteniendo tracking con limpieza completa
🧹 Limpiando todas las notificaciones
❌ Error limpiando notificaciones: LateInitializationError: Field '_notifications@35044139' has not been initialized.
🎯 Estado actualizado: Tracking no activo
✅ Tracking detenido con limpieza completa
✅ Location service cleanup completed
🧹 Limpiando todas las notificaciones
❌ Error limpiando notificaciones: LateInitializationError: Field '_notifications@35044139' has not been initialized.
✅ StudentAttendanceManager disposed completamente - No memory leaks
🧹 Limpiando StudentAttendanceManager con recursos críticos
🛑 Deteniendo tracking con limpieza completa
🧹 Limpiando todas las notificaciones
❌ Error limpiando notificaciones: LateInitializationError: Field '_notifications@35044139' has not been initialized.
🎯 Estado actualizado: Tracking no activo
✅ Tracking detenido con limpieza completa
✅ Location service cleanup completed
🧹 Limpiando todas las notificaciones
❌ Error limpiando notificaciones: LateInitializationError: Field '_notifications@35044139' has not been initialized.
✅ StudentAttendanceManager disposed completamente - No memory leaks
00:03 +34 -44: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/unit/location_service_test.dart: LocationService Tests Backend Integration Tests should handle backend API errors gracefully
00:03 +34 -44: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/unit/stream_lifecycle_test.dart: 🔄 Stream Controller Lifecycle Tests StudentAttendanceManager Stream Lifecycle should handle stream subscriptions safely
🧹 Limpiando StudentAttendanceManager con recursos críticos
🛑 Deteniendo tracking con limpieza completa
🧹 Limpiando todas las notificaciones
❌ Error limpiando notificaciones: LateInitializationError: Field '_notifications@35044139' has not been initialized.
🎯 Estado actualizado: Tracking no activo
✅ Tracking detenido con limpieza completa
✅ Location service cleanup completed
🧹 Limpiando todas las notificaciones
❌ Error limpiando notificaciones: LateInitializationError: Field '_notifications@35044139' has not been initialized.
✅ StudentAttendanceManager disposed completamente - No memory leaks
00:03 +35 -44: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/unit/location_service_test.dart: LocationService Tests Backend Integration Tests should handle backend API errors gracefully
00:03 +35 -44: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/unit/stream_lifecycle_test.dart: 🔄 Stream Controller Lifecycle Tests StudentAttendanceManager Stream Lifecycle should handle rapid creation and disposal
🧹 Limpiando StudentAttendanceManager con recursos críticos
🛑 Deteniendo tracking con limpieza completa
🧹 Limpiando todas las notificaciones
❌ Error limpiando notificaciones: LateInitializationError: Field '_notifications@35044139' has not been initialized.
🎯 Estado actualizado: Tracking no activo
✅ Tracking detenido con limpieza completa
✅ Location service cleanup completed
🧹 Limpiando todas las notificaciones
❌ Error limpiando notificaciones: LateInitializationError: Field '_notifications@35044139' has not been initialized.
✅ StudentAttendanceManager disposed completamente - No memory leaks
🧹 Limpiando StudentAttendanceManager con recursos críticos
🛑 Deteniendo tracking con limpieza completa
🧹 Limpiando todas las notificaciones
❌ Error limpiando notificaciones: LateInitializationError: Field '_notifications@35044139' has not been initialized.
🎯 Estado actualizado: Tracking no activo
✅ Tracking detenido con limpieza completa
✅ Location service cleanup completed
🧹 Limpiando todas las notificaciones
❌ Error limpiando notificaciones: LateInitializationError: Field '_notifications@35044139' has not been initialized.
✅ StudentAttendanceManager disposed completamente - No memory leaks
🧹 Limpiando StudentAttendanceManager con recursos críticos
🛑 Deteniendo tracking con limpieza completa
🧹 Limpiando todas las notificaciones
❌ Error limpiando notificaciones: LateInitializationError: Field '_notifications@35044139' has not been initialized.
🎯 Estado actualizado: Tracking no activo
✅ Tracking detenido con limpieza completa
✅ Location service cleanup completed
🧹 Limpiando todas las notificaciones
❌ Error limpiando notificaciones: LateInitializationError: Field '_notifications@35044139' has not been initialized.
✅ StudentAttendanceManager disposed completamente - No memory leaks
🧹 Limpiando StudentAttendanceManager con recursos críticos
🛑 Deteniendo tracking con limpieza completa
🧹 Limpiando todas las notificaciones
❌ Error limpiando notificaciones: LateInitializationError: Field '_notifications@35044139' has not been initialized.
🎯 Estado actualizado: Tracking no activo
✅ Tracking detenido con limpieza completa
✅ Location service cleanup completed
🧹 Limpiando todas las notificaciones
❌ Error limpiando notificaciones: LateInitializationError: Field '_notifications@35044139' has not been initialized.
✅ StudentAttendanceManager disposed completamente - No memory leaks
🧹 Limpiando StudentAttendanceManager con recursos críticos
🛑 Deteniendo tracking con limpieza completa
🧹 Limpiando todas las notificaciones
❌ Error limpiando notificaciones: LateInitializationError: Field '_notifications@35044139' has not been initialized.
🎯 Estado actualizado: Tracking no activo
✅ Tracking detenido con limpieza completa
✅ Location service cleanup completed
🧹 Limpiando todas las notificaciones
❌ Error limpiando notificaciones: LateInitializationError: Field '_notifications@35044139' has not been initialized.
✅ StudentAttendanceManager disposed completamente - No memory leaks
00:03 +36 -44: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/unit/location_service_test.dart: LocationService Tests Backend Integration Tests should handle backend API errors gracefully
00:03 +36 -44: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/unit/stream_lifecycle_test.dart: 🔄 Stream Controller Lifecycle Tests EventoService Stream Lifecycle should handle fresh instances without stream conflicts
🧹 Disposing EventoService resources
🧹 Cleared all loading states
✅ EventoService disposed successfully
🧹 Disposing EventoService resources
🧹 Cleared all loading states
✅ EventoService disposed successfully
00:03 +37 -44: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/unit/location_service_test.dart: LocationService Tests Backend Integration Tests should handle backend API errors gracefully
00:03 +37 -44: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/unit/stream_lifecycle_test.dart: 🔄 Stream Controller Lifecycle Tests EventoService Stream Lifecycle should handle loading state management
🧹 Cleared all loading states
🧹 Disposing EventoService resources
🧹 Cleared all loading states
✅ EventoService disposed successfully
00:03 +38 -44: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/unit/location_service_test.dart: LocationService Tests Backend Integration Tests should handle backend API errors gracefully
00:03 +38 -44: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/unit/stream_lifecycle_test.dart: 🔄 Stream Controller Lifecycle Tests LocationService Stream Lifecycle should handle fresh instances without performance conflicts
🧹 Disposing LocationService resources
✅ LocationService disposed
🧹 Disposing LocationService resources
✅ LocationService disposed
00:03 +39 -44: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/unit/location_service_test.dart: LocationService Tests Backend Integration Tests should handle backend API errors gracefully
00:03 +40 -44: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/unit/location_service_test.dart: LocationService Tests Backend Integration Tests should handle backend API errors gracefully
00:03 +40 -44: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/unit/stream_lifecycle_test.dart: 🔄 Stream Controller Lifecycle Tests Cross-Service Integration Tests should handle multiple services simultaneously
🧹 Limpiando StudentAttendanceManager con recursos críticos
🛑 Deteniendo tracking con limpieza completa
🧹 Limpiando todas las notificaciones
❌ Error limpiando notificaciones: LateInitializationError: Field '_notifications@35044139' has not been initialized.
🎯 Estado actualizado: Tracking no activo
✅ Tracking detenido con limpieza completa
✅ Location service cleanup completed
🧹 Limpiando todas las notificaciones
❌ Error limpiando notificaciones: LateInitializationError: Field '_notifications@35044139' has not been initialized.
✅ StudentAttendanceManager disposed completamente - No memory leaks
🧹 Disposing EventoService resources
🧹 Cleared all loading states
✅ EventoService disposed successfully
🧹 Disposing LocationService resources
✅ LocationService disposed
🧹 Limpiando StudentAttendanceManager con recursos críticos
🛑 Deteniendo tracking con limpieza completa
🧹 Limpiando todas las notificaciones
❌ Error limpiando notificaciones: LateInitializationError: Field '_notifications@35044139' has not been initialized.
🎯 Estado actualizado: Tracking no activo
✅ Tracking detenido con limpieza completa
✅ Location service cleanup completed
🧹 Limpiando todas las notificaciones
❌ Error limpiando notificaciones: LateInitializationError: Field '_notifications@35044139' has not been initialized.
✅ StudentAttendanceManager disposed completamente - No memory leaks
00:03 +41 -44: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/unit/location_service_test.dart: LocationService Tests Backend Integration Tests should handle backend API errors gracefully
00:03 +41 -44: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/unit/stream_lifecycle_test.dart: 🔄 Stream Controller Lifecycle Tests Cross-Service Integration Tests should prevent stream controller conflicts between tests
🧹 Limpiando StudentAttendanceManager con recursos críticos
🛑 Deteniendo tracking con limpieza completa
🧹 Limpiando todas las notificaciones
❌ Error limpiando notificaciones: LateInitializationError: Field '_notifications@35044139' has not been initialized.
🎯 Estado actualizado: Tracking no activo
✅ Tracking detenido con limpieza completa
✅ Location service cleanup completed
🧹 Limpiando todas las notificaciones
❌ Error limpiando notificaciones: LateInitializationError: Field '_notifications@35044139' has not been initialized.
✅ StudentAttendanceManager disposed completamente - No memory leaks
🧹 Limpiando StudentAttendanceManager con recursos críticos
🛑 Deteniendo tracking con limpieza completa
🧹 Limpiando todas las notificaciones
❌ Error limpiando notificaciones: LateInitializationError: Field '_notifications@35044139' has not been initialized.
🎯 Estado actualizado: Tracking no activo
✅ Tracking detenido con limpieza completa
✅ Location service cleanup completed
🧹 Limpiando todas las notificaciones
❌ Error limpiando notificaciones: LateInitializationError: Field '_notifications@35044139' has not been initialized.
✅ StudentAttendanceManager disposed completamente - No memory leaks
00:03 +42 -44: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/unit/location_service_test.dart: LocationService Tests Backend Integration Tests should handle backend API errors gracefully
00:03 +42 -44: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/unit/stream_lifecycle_test.dart: 🔄 Stream Controller Lifecycle Tests Factory State Management should track disposed services correctly
🧹 Limpiando StudentAttendanceManager con recursos críticos
🛑 Deteniendo tracking con limpieza completa
🧹 Limpiando todas las notificaciones
❌ Error limpiando notificaciones: LateInitializationError: Field '_notifications@35044139' has not been initialized.
🎯 Estado actualizado: Tracking no activo
✅ Tracking detenido con limpieza completa
✅ Location service cleanup completed
🧹 Limpiando todas las notificaciones
❌ Error limpiando notificaciones: LateInitializationError: Field '_notifications@35044139' has not been initialized.
✅ StudentAttendanceManager disposed completamente - No memory leaks
00:03 +43 -44: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/unit/location_service_test.dart: LocationService Tests Backend Integration Tests should handle backend API errors gracefully
00:03 +44 -44: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/unit/location_service_test.dart: LocationService Tests Backend Integration Tests should handle backend API errors gracefully
00:03 +44 -45: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/unit/location_service_test.dart: LocationService Tests Backend Integration Tests should handle backend API errors gracefully
00:03 +44 -45: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/unit/notification_manager_test.dart: NotificationManager Tests Grace Period Notification Tests should show grace period expired notification [E]
  No matching calls (actually, no calls at all).
  (If you called `verify(...).called(0);`, please instead use `verifyNever(...);`.)
  package:matcher                                  fail
  package:mocktail/src/mocktail.dart 728:7         _VerifyCall._checkWith
  package:mocktail/src/mocktail.dart 519:18        _makeVerify.<fn>
  test\unit\notification_manager_test.dart 223:15  main.<fn>.<fn>.<fn>
  
00:03 +44 -45: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/unit/notification_manager_test.dart: NotificationManager Tests Grace Period Notification Tests should update grace period countdown
⏰ Mostrando notificación - Período de gracia iniciado: 30s
❌ Error mostrando alerta (warning): LateInitializationError: Field '_instance@1176271368' has not been initialized.
00:03 +44 -46: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/unit/location_service_test.dart: LocationService Tests Backend Integration Tests should handle backend API errors gracefully
00:03 +44 -46: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/unit/notification_manager_test.dart: NotificationManager Tests Grace Period Notification Tests should update grace period countdown [E]
  No matching calls (actually, no calls at all).
  (If you called `verify(...).called(0);`, please instead use `verifyNever(...);`.)
  package:matcher                                  fail
  package:mocktail/src/mocktail.dart 728:7         _VerifyCall._checkWith
  package:mocktail/src/mocktail.dart 519:18        _makeVerify.<fn>
  test\unit\notification_manager_test.dart 250:17  main.<fn>.<fn>.<fn>.<fn>
  package:fake_async/fake_async.dart 182:47        FakeAsync.run.<fn>.<fn>
  dart:async                                       runZoned
  package:clock/src/default.dart 52:10             withClock
  package:fake_async/fake_async.dart 182:15        FakeAsync.run.<fn>
  dart:async                                       runZoned
  package:fake_async/fake_async.dart 181:52        FakeAsync.run
  package:fake_async/fake_async.dart 41:41         fakeAsync
  test\unit\notification_manager_test.dart 233:9   main.<fn>.<fn>.<fn>
  
00:03 +44 -46: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/unit/notification_manager_test.dart: NotificationManager Tests Attendance Notification Tests should show attendance registered notification
✅ Mostrando notificación - Asistencia registrada
❌ Error mostrando alerta (success): LateInitializationError: Field '_instance@1176271368' has not been initialized.
00:03 +44 -47: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/unit/location_service_test.dart: LocationService Tests Backend Integration Tests should handle backend API errors gracefully
00:03 +44 -47: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/unit/notification_manager_test.dart: NotificationManager Tests Attendance Notification Tests should show attendance registered notification [E]
  No matching calls (actually, no calls at all).
  (If you called `verify(...).called(0);`, please instead use `verifyNever(...);`.)
  package:matcher                                  fail
  package:mocktail/src/mocktail.dart 728:7         _VerifyCall._checkWith
  package:mocktail/src/mocktail.dart 519:18        _makeVerify.<fn>
  test\unit\notification_manager_test.dart 276:15  main.<fn>.<fn>.<fn>
  
00:03 +44 -47: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/unit/notification_manager_test.dart: NotificationManager Tests App Lifecycle Notification Tests should show app closed warning notification
🚨 Mostrando advertencia crítica - App cerrada (30 s)
❌ Error notificación app cerrada: LateInitializationError: Field '_instance@1176271368' has not been initialized.
00:03 +44 -48: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/unit/location_service_test.dart: LocationService Tests Backend Integration Tests should handle backend API errors gracefully
00:03 +44 -48: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/unit/notification_manager_test.dart: NotificationManager Tests App Lifecycle Notification Tests should show app closed warning notification [E]
  No matching calls (actually, no calls at all).
  (If you called `verify(...).called(0);`, please instead use `verifyNever(...);`.)
  package:matcher                                  fail
  package:mocktail/src/mocktail.dart 728:7         _VerifyCall._checkWith
  package:mocktail/src/mocktail.dart 519:18        _makeVerify.<fn>
  test\unit\notification_manager_test.dart 303:15  main.<fn>.<fn>.<fn>
  
00:03 +44 -48: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/unit/notification_manager_test.dart: NotificationManager Tests App Lifecycle Notification Tests should show critical app lifecycle warning
🚨 Mostrando advertencia crítica de lifecycle
❌ Error mostrando alerta (critical): LateInitializationError: Field '_instance@1176271368' has not been initialized.
00:03 +44 -49: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/unit/location_service_test.dart: LocationService Tests Backend Integration Tests should handle backend API errors gracefully
00:03 +44 -49: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/unit/notification_manager_test.dart: NotificationManager Tests App Lifecycle Notification Tests should show critical app lifecycle warning [E]
  No matching calls (actually, no calls at all).
  (If you called `verify(...).called(0);`, please instead use `verifyNever(...);`.)
  package:matcher                                  fail
  package:mocktail/src/mocktail.dart 728:7         _VerifyCall._checkWith
  package:mocktail/src/mocktail.dart 519:18        _makeVerify.<fn>
  test\unit\notification_manager_test.dart 326:15  main.<fn>.<fn>.<fn>
  
00:03 +44 -49: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/unit/notification_manager_test.dart: NotificationManager Tests App Lifecycle Notification Tests should show background tracking notification
📱 Mostrando notificación - Background tracking normal
❌ Error mostrando alerta (info): LateInitializationError: Field '_instance@1176271368' has not been initialized.
00:03 +44 -50: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/unit/location_service_test.dart: LocationService Tests Backend Integration Tests should handle backend API errors gracefully
00:03 +44 -50: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/unit/notification_manager_test.dart: NotificationManager Tests App Lifecycle Notification Tests should show background tracking notification [E]
  No matching calls (actually, no calls at all).
  (If you called `verify(...).called(0);`, please instead use `verifyNever(...);`.)
  package:matcher                                  fail
  package:mocktail/src/mocktail.dart 728:7         _VerifyCall._checkWith
  package:mocktail/src/mocktail.dart 519:18        _makeVerify.<fn>
  test\unit\notification_manager_test.dart 349:15  main.<fn>.<fn>.<fn>
  
00:03 +44 -50: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/unit/notification_manager_test.dart: NotificationManager Tests Break Management Notification Tests should show break started notification
📢 Mostrando notificación: Receso Iniciado
❌ Error mostrando notificación receso iniciado: LateInitializationError: Field '_instance@1176271368' has not been initialized.
00:03 +44 -51: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/unit/location_service_test.dart: LocationService Tests Backend Integration Tests should handle backend API errors gracefully
00:03 +44 -51: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/unit/notification_manager_test.dart: NotificationManager Tests Break Management Notification Tests should show break started notification [E]
  No matching calls (actually, no calls at all).
  (If you called `verify(...).called(0);`, please instead use `verifyNever(...);`.)
  package:matcher                                  fail
  package:mocktail/src/mocktail.dart 728:7         _VerifyCall._checkWith
  package:mocktail/src/mocktail.dart 519:18        _makeVerify.<fn>
  test\unit\notification_manager_test.dart 374:15  main.<fn>.<fn>.<fn>
  
00:03 +44 -51: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/unit/notification_manager_test.dart: NotificationManager Tests Break Management Notification Tests should show break ended notification
📢 Mostrando notificación: Receso Terminado
❌ Error mostrando notificación receso terminado: LateInitializationError: Field '_instance@1176271368' has not been initialized.
00:03 +44 -52: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/unit/location_service_test.dart: LocationService Tests Backend Integration Tests should handle backend API errors gracefully
00:03 +44 -52: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/unit/notification_manager_test.dart: NotificationManager Tests Break Management Notification Tests should show break ended notification [E]
  No matching calls (actually, no calls at all).
  (If you called `verify(...).called(0);`, please instead use `verifyNever(...);`.)
  package:matcher                                  fail
  package:mocktail/src/mocktail.dart 728:7         _VerifyCall._checkWith
  package:mocktail/src/mocktail.dart 519:18        _makeVerify.<fn>
  test\unit\notification_manager_test.dart 397:15  main.<fn>.<fn>.<fn>
  
00:03 +44 -52: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/unit/notification_manager_test.dart: NotificationManager Tests Break Management Notification Tests should show tracking resumed notification
✅ Mostrando notificación - Tracking reanudado
❌ Error mostrando alerta (success): LateInitializationError: Field '_instance@1176271368' has not been initialized.
00:03 +44 -53: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/unit/location_service_test.dart: LocationService Tests Backend Integration Tests should handle backend API errors gracefully
00:03 +44 -53: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/unit/notification_manager_test.dart: NotificationManager Tests Break Management Notification Tests should show tracking resumed notification [E]
  No matching calls (actually, no calls at all).
  (If you called `verify(...).called(0);`, please instead use `verifyNever(...);`.)
  package:matcher                                  fail
  package:mocktail/src/mocktail.dart 728:7         _VerifyCall._checkWith
  package:mocktail/src/mocktail.dart 519:18        _makeVerify.<fn>
  test\unit\notification_manager_test.dart 420:15  main.<fn>.<fn>.<fn>
  
00:03 +44 -53: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/unit/notification_manager_test.dart: NotificationManager Tests Notification Management Tests should clear all notifications
🧹 Limpiando todas las notificaciones
❌ Error limpiando notificaciones: LateInitializationError: Field '_instance@1176271368' has not been initialized.
00:03 +44 -54: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/unit/location_service_test.dart: LocationService Tests Backend Integration Tests should handle backend API errors gracefully
00:03 +44 -54: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/unit/notification_manager_test.dart: NotificationManager Tests Notification Management Tests should clear all notifications [E]
  No matching calls (actually, no calls at all).
  (If you called `verify(...).called(0);`, please instead use `verifyNever(...);`.)
  package:matcher                                  fail
  package:mocktail/src/mocktail.dart 728:7         _VerifyCall._checkWith
  package:mocktail/src/mocktail.dart 519:18        _makeVerify.<fn>
  test\unit\notification_manager_test.dart 440:15  main.<fn>.<fn>.<fn>
  
00:03 +44 -54: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/unit/notification_manager_test.dart: NotificationManager Tests Notification Management Tests should cancel specific notification
🧹 Limpiando todas las notificaciones
❌ Error limpiando notificaciones: LateInitializationError: Field '_instance@1176271368' has not been initialized.
00:03 +44 -55: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/unit/location_service_test.dart: LocationService Tests Backend Integration Tests should handle backend API errors gracefully
00:03 +44 -55: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/unit/notification_manager_test.dart: NotificationManager Tests Notification Management Tests should cancel specific notification [E]
  No matching calls (actually, no calls at all).
  (If you called `verify(...).called(0);`, please instead use `verifyNever(...);`.)
  package:matcher                                  fail
  package:mocktail/src/mocktail.dart 728:7         _VerifyCall._checkWith
  package:mocktail/src/mocktail.dart 519:18        _makeVerify.<fn>
  test\unit\notification_manager_test.dart 452:15  main.<fn>.<fn>.<fn>
  
00:03 +44 -55: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/unit/notification_manager_test.dart: NotificationManager Tests Permission Tests should handle notification permission denied
🔔 Inicializando NotificationManager
❌ Error inicializando NotificationManager: LateInitializationError: Field '_instance@1176271368' has not been initialized.
00:03 +44 -56: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/unit/location_service_test.dart: LocationService Tests Backend Integration Tests should handle backend API errors gracefully
00:03 +44 -56: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/unit/notification_manager_test.dart: NotificationManager Tests Permission Tests should handle notification permission denied [E]
  LateInitializationError: Field '_instance@1176271368' has not been initialized.
  package:flutter_local_notifications_platform_interface/flutter_local_notifications_platform_interface.dart        FlutterLocalNotificationsPlatform._instance
  package:flutter_local_notifications_platform_interface/flutter_local_notifications_platform_interface.dart 20:60  FlutterLocalNotificationsPlatform.instance
  package:flutter_local_notifications/src/flutter_local_notifications_plugin.dart 54:43                             FlutterLocalNotificationsPlugin.resolvePlatformSpecificImplementation
  package:flutter_local_notifications/src/flutter_local_notifications_plugin.dart 129:14                            FlutterLocalNotificationsPlugin.initialize
  package:geo_asist_front/services/notifications/notification_manager.dart 76:26                                    NotificationManager._configureNotificationChannels
  package:geo_asist_front/services/notifications/notification_manager.dart 48:13                                    NotificationManager.initialize
  test\unit\notification_manager_test.dart 465:42                                                                   main.<fn>.<fn>.<fn>.<fn>
  package:matcher                                                                                                   expect
  package:flutter_test/src/widget_tester.dart 474:18                                                                expect
  test\unit\notification_manager_test.dart 465:9                                                                    main.<fn>.<fn>.<fn>
  ===== asynchronous gap ===========================
  dart:async                                                                                                        _CustomZone.registerBinaryCallback
  package:geo_asist_front/services/notifications/notification_manager.dart 48:7                                     NotificationManager.initialize
  test\unit\notification_manager_test.dart 465:42                                                                   main.<fn>.<fn>.<fn>.<fn>
  package:matcher                                                                                                   expect
  package:flutter_test/src/widget_tester.dart 474:18                                                                expect
  test\unit\notification_manager_test.dart 465:9                                                                    main.<fn>.<fn>.<fn>
  
00:03 +45 -56: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/unit/location_service_test.dart: LocationService Tests Backend Integration Tests should handle backend API errors gracefully
00:03 +46 -56: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/unit/location_service_test.dart: LocationService Tests Backend Integration Tests should handle backend API errors gracefully
00:03 +47 -56: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/unit/location_service_test.dart: LocationService Tests Backend Integration Tests should handle backend API errors gracefully
00:03 +47 -56: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/unit/notification_manager_test.dart: NotificationManager Tests Error Handling Tests should handle notification display errors gracefully
🎯 Mostrando notificación - Evento iniciado
❌ Error mostrando alerta (info): LateInitializationError: Field '_instance@1176271368' has not been initialized.
00:03 +48 -56: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/unit/location_service_test.dart: LocationService Tests Backend Integration Tests should handle backend API errors gracefully
00:03 +48 -56: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/unit/notification_manager_test.dart: NotificationManager Tests Error Handling Tests should handle plugin initialization errors
🔔 Inicializando NotificationManager
❌ Error inicializando NotificationManager: LateInitializationError: Field '_instance@1176271368' has not been initialized.
00:03 +48 -57: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/unit/location_service_test.dart: LocationService Tests Backend Integration Tests should handle backend API errors gracefully
00:03 +48 -57: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/unit/notification_manager_test.dart: NotificationManager Tests Error Handling Tests should handle plugin initialization errors [E]
  LateInitializationError: Field '_instance@1176271368' has not been initialized.
  package:flutter_local_notifications_platform_interface/flutter_local_notifications_platform_interface.dart        FlutterLocalNotificationsPlatform._instance
  package:flutter_local_notifications_platform_interface/flutter_local_notifications_platform_interface.dart 20:60  FlutterLocalNotificationsPlatform.instance
  package:flutter_local_notifications/src/flutter_local_notifications_plugin.dart 54:43                             FlutterLocalNotificationsPlugin.resolvePlatformSpecificImplementation
  package:flutter_local_notifications/src/flutter_local_notifications_plugin.dart 129:14                            FlutterLocalNotificationsPlugin.initialize
  package:geo_asist_front/services/notifications/notification_manager.dart 76:26                                    NotificationManager._configureNotificationChannels
  package:geo_asist_front/services/notifications/notification_manager.dart 48:13                                    NotificationManager.initialize
  test\unit\notification_manager_test.dart 512:42                                                                   main.<fn>.<fn>.<fn>.<fn>
  package:matcher                                                                                                   expect
  package:flutter_test/src/widget_tester.dart 474:18                                                                expect
  test\unit\notification_manager_test.dart 512:9                                                                    main.<fn>.<fn>.<fn>
  ===== asynchronous gap ===========================
  dart:async                                                                                                        _CustomZone.registerBinaryCallback
  package:geo_asist_front/services/notifications/notification_manager.dart 48:7                                     NotificationManager.initialize
  test\unit\notification_manager_test.dart 512:42                                                                   main.<fn>.<fn>.<fn>.<fn>
  package:matcher                                                                                                   expect
  package:flutter_test/src/widget_tester.dart 474:18                                                                expect
  test\unit\notification_manager_test.dart 512:9                                                                    main.<fn>.<fn>.<fn>
  
00:03 +49 -57: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/unit/location_service_test.dart: LocationService Tests Backend Integration Tests should handle backend API errors gracefully
00:03 +50 -57: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/unit/location_service_test.dart: LocationService Tests Backend Integration Tests should handle backend API errors gracefully
00:03 +51 -57: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/unit/location_service_test.dart: LocationService Tests Backend Integration Tests should handle backend API errors gracefully
00:03 +52 -57: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/unit/location_service_test.dart: LocationService Tests Backend Integration Tests should handle backend API errors gracefully
00:03 +53 -57: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/unit/location_service_test.dart: LocationService Tests Backend Integration Tests should handle backend API errors gracefully
00:03 +54 -57: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/unit/location_service_test.dart: LocationService Tests Backend Integration Tests should handle backend API errors gracefully
00:03 +55 -57: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/unit/location_service_test.dart: LocationService Tests Backend Integration Tests should handle backend API errors gracefully
00:03 +56 -57: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/unit/location_service_test.dart: LocationService Tests Backend Integration Tests should handle backend API errors gracefully
00:03 +57 -57: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/unit/location_service_test.dart: LocationService Tests Backend Integration Tests should handle backend API errors gracefully
00:03 +57 -57: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/unit/student_attendance_manager_comprehensive_test.dart: StudentAttendanceManager Comprehensive Tests Initialization Tests should initialize successfully with valid permissions
🎯 Inicializando StudentAttendanceManager (autoStart: false)
🔔 Inicializando NotificationManager
❌ Error inicializando NotificationManager: LateInitializationError: Field '_instance@1171271368' has not been initialized.
❌ Error crítico inicializando: LateInitializationError: Field '_instance@1171271368' has not been initialized.
🚨 Mostrando advertencia crítica de lifecycle
❌ Error mostrando alerta (critical): LateInitializationError: Field '_instance@1171271368' has not been initialized.
00:03 +57 -58: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/unit/location_service_test.dart: LocationService Tests Backend Integration Tests should handle backend API errors gracefully
00:03 +57 -58: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/unit/student_attendance_manager_comprehensive_test.dart: StudentAttendanceManager Comprehensive Tests Initialization Tests should initialize successfully with valid permissions [E]
  LateInitializationError: Field '_instance@1171271368' has not been initialized.
  package:flutter_local_notifications_platform_interface/flutter_local_notifications_platform_interface.dart        FlutterLocalNotificationsPlatform._instance
  package:flutter_local_notifications_platform_interface/flutter_local_notifications_platform_interface.dart 20:60  FlutterLocalNotificationsPlatform.instance
  package:flutter_local_notifications/src/flutter_local_notifications_plugin.dart 54:43                             FlutterLocalNotificationsPlugin.resolvePlatformSpecificImplementation
  package:flutter_local_notifications/src/flutter_local_notifications_plugin.dart 129:14                            FlutterLocalNotificationsPlugin.initialize
  package:geo_asist_front/services/notifications/notification_manager.dart 76:26                                    NotificationManager._configureNotificationChannels
  package:geo_asist_front/services/notifications/notification_manager.dart 48:13                                    NotificationManager.initialize
  package:geo_asist_front/services/student_attendance_manager.dart 140:34                                           StudentAttendanceManager.initialize
  test\unit\student_attendance_manager_comprehensive_test.dart 71:33                                                main.<fn>.<fn>.<fn>
  
Warning: At least one test in this suite creates an HttpClient. When running a test suite that uses
TestWidgetsFlutterBinding, all HTTP requests will return status code 400, and no network request
will actually be made. Any test expecting a real network connection and status code will fail.
To test code that needs an HttpClient, provide your own HttpClient implementation to the code under
test, so that your test can consistently provide a testable response to the code under test.
🧹 Limpiando StudentAttendanceManager con recursos críticos
🛑 Deteniendo tracking con limpieza completa
🧹 Limpiando todas las notificaciones
❌ Error limpiando notificaciones: LateInitializationError: Field '_instance@1171271368' has not been initialized.
🎯 Estado actualizado: Tracking no activo
✅ Tracking detenido con limpieza completa
✅ Location service cleanup completed
🧹 Limpiando todas las notificaciones
❌ Error limpiando notificaciones: LateInitializationError: Field '_instance@1171271368' has not been initialized.
✅ StudentAttendanceManager disposed completamente - No memory leaks
00:03 +57 -58: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/unit/student_attendance_manager_comprehensive_test.dart: StudentAttendanceManager Comprehensive Tests Initialization Tests should throw exception when permissions are not granted
🎯 Inicializando StudentAttendanceManager (autoStart: false)
🔔 Inicializando NotificationManager
❌ Error inicializando NotificationManager: LateInitializationError: Field '_instance@1171271368' has not been initialized.
❌ Error crítico inicializando: LateInitializationError: Field '_instance@1171271368' has not been initialized.
🚨 Mostrando advertencia crítica de lifecycle
❌ Error mostrando alerta (critical): LateInitializationError: Field '_instance@1171271368' has not been initialized.
00:03 +57 -59: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/unit/location_service_test.dart: LocationService Tests Backend Integration Tests should handle backend API errors gracefully
00:03 +57 -59: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/unit/student_attendance_manager_comprehensive_test.dart: StudentAttendanceManager Comprehensive Tests Initialization Tests should throw exception when permissions are not granted [E]
  Expected: throws <Instance of 'Exception'>
    Actual: <Closure: () => Future<void>>
     Which: threw LateError:<LateInitializationError: Field '_instance@1171271368' has not been initialized.>
            stack package:flutter_local_notifications_platform_interface/flutter_local_notifications_platform_interface.dart        FlutterLocalNotificationsPlatform._instance
                  package:flutter_local_notifications_platform_interface/flutter_local_notifications_platform_interface.dart 20:60  FlutterLocalNotificationsPlatform.instance
                  package:flutter_local_notifications/src/flutter_local_notifications_plugin.dart 54:43                             FlutterLocalNotificationsPlugin.resolvePlatformSpecificImplementation
                  package:flutter_local_notifications/src/flutter_local_notifications_plugin.dart 129:14                            FlutterLocalNotificationsPlugin.initialize
                  package:geo_asist_front/services/notifications/notification_manager.dart 76:26                                    NotificationManager._configureNotificationChannels
                  package:geo_asist_front/services/notifications/notification_manager.dart 48:13                                    NotificationManager.initialize
                  package:geo_asist_front/services/student_attendance_manager.dart 140:34                                           StudentAttendanceManager.initialize
                  test\unit\student_attendance_manager_comprehensive_test.dart 88:35                                                main.<fn>.<fn>.<fn>.<fn>
                  package:matcher                                                                                                   expect
                  package:flutter_test/src/widget_tester.dart 474:18                                                                expect
                  test\unit\student_attendance_manager_comprehensive_test.dart 87:9                                                 main.<fn>.<fn>.<fn>
                  ===== asynchronous gap ===========================
                  package:matcher                                                                                                   expect
                  package:flutter_test/src/widget_tester.dart 474:18                                                                expect
                  test\unit\student_attendance_manager_comprehensive_test.dart 87:9                                                 main.<fn>.<fn>.<fn>
                  
            which is not an instance of 'Exception'
  
  package:matcher                                                    expect
  package:flutter_test/src/widget_tester.dart 474:18                 expect
  test\unit\student_attendance_manager_comprehensive_test.dart 87:9  main.<fn>.<fn>.<fn>
  
🧹 Limpiando StudentAttendanceManager con recursos críticos
🛑 Deteniendo tracking con limpieza completa
🧹 Limpiando todas las notificaciones
❌ Error limpiando notificaciones: LateInitializationError: Field '_instance@1171271368' has not been initialized.
00:03 +57 -59: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/unit/location_service_test.dart: LocationService Tests Backend Integration Tests should handle backend API errors gracefully
00:03 +57 -59: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/unit/student_attendance_manager_comprehensive_test.dart: StudentAttendanceManager Comprehensive Tests Initialization Tests should throw exception when permissions are not granted [E]
  Bad state: Cannot add new events after calling close
  dart:async                                                               _BroadcastStreamController.add
  package:geo_asist_front/services/student_attendance_manager.dart 622:22  StudentAttendanceManager._updateState
  package:geo_asist_front/services/student_attendance_manager.dart 525:5   StudentAttendanceManager.stopTracking
  ===== asynchronous gap ===========================
  dart:async                                                               _CustomZone.registerBinaryCallback
  test\unit\student_attendance_manager_comprehensive_test.dart 56:7        main.<fn>.<fn>
  
00:03 +57 -59: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/unit/student_attendance_manager_comprehensive_test.dart: StudentAttendanceManager Comprehensive Tests Initialization Tests should auto-start tracking when autoStart is true and eventId provided
🎯 Inicializando StudentAttendanceManager (autoStart: true)
🔔 Inicializando NotificationManager
❌ Error inicializando NotificationManager: LateInitializationError: Field '_instance@1171271368' has not been initialized.
❌ Error crítico inicializando: LateInitializationError: Field '_instance@1171271368' has not been initialized.
🚨 Mostrando advertencia crítica de lifecycle
❌ Error mostrando alerta (critical): LateInitializationError: Field '_instance@1171271368' has not been initialized.
00:03 +57 -60: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/unit/location_service_test.dart: LocationService Tests Backend Integration Tests should handle backend API errors gracefully
00:03 +57 -60: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/unit/student_attendance_manager_comprehensive_test.dart: StudentAttendanceManager Comprehensive Tests Initialization Tests should auto-start tracking when autoStart is true and eventId provided [E]
  LateInitializationError: Field '_instance@1171271368' has not been initialized.
  package:flutter_local_notifications_platform_interface/flutter_local_notifications_platform_interface.dart        FlutterLocalNotificationsPlatform._instance
  package:flutter_local_notifications_platform_interface/flutter_local_notifications_platform_interface.dart 20:60  FlutterLocalNotificationsPlatform.instance
  package:flutter_local_notifications/src/flutter_local_notifications_plugin.dart 54:43                             FlutterLocalNotificationsPlugin.resolvePlatformSpecificImplementation
  package:flutter_local_notifications/src/flutter_local_notifications_plugin.dart 129:14                            FlutterLocalNotificationsPlugin.initialize
  package:geo_asist_front/services/notifications/notification_manager.dart 76:26                                    NotificationManager._configureNotificationChannels
  package:geo_asist_front/services/notifications/notification_manager.dart 48:13                                    NotificationManager.initialize
  package:geo_asist_front/services/student_attendance_manager.dart 140:34                                           StudentAttendanceManager.initialize
  test\unit\student_attendance_manager_comprehensive_test.dart 112:33                                               main.<fn>.<fn>.<fn>
  
🧹 Limpiando StudentAttendanceManager con recursos críticos
🛑 Deteniendo tracking con limpieza completa
🧹 Limpiando todas las notificaciones
❌ Error limpiando notificaciones: LateInitializationError: Field '_instance@1171271368' has not been initialized.
  Bad state: Cannot add new events after calling close
  dart:async                                                               _BroadcastStreamController.add
  package:geo_asist_front/services/student_attendance_manager.dart 622:22  StudentAttendanceManager._updateState
  package:geo_asist_front/services/student_attendance_manager.dart 525:5   StudentAttendanceManager.stopTracking
  ===== asynchronous gap ===========================
  dart:async                                                               _CustomZone.registerBinaryCallback
  test\unit\student_attendance_manager_comprehensive_test.dart 56:7        main.<fn>.<fn>
  
00:03 +57 -60: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/unit/student_attendance_manager_comprehensive_test.dart: StudentAttendanceManager Comprehensive Tests Event Tracking Tests should start event tracking successfully
🎯 Iniciando tracking para evento: Test Event
❌ Error iniciando tracking: Bad state: Cannot add new events after calling close
00:03 +57 -61: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/unit/location_service_test.dart: LocationService Tests Backend Integration Tests should handle backend API errors gracefully
00:03 +57 -61: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/unit/student_attendance_manager_comprehensive_test.dart: StudentAttendanceManager Comprehensive Tests Event Tracking Tests should start event tracking successfully [E]
  Bad state: Cannot add new events after calling close
  dart:async                                                               _BroadcastStreamController.add
  package:geo_asist_front/services/student_attendance_manager.dart 622:22  StudentAttendanceManager._updateState
  package:geo_asist_front/services/student_attendance_manager.dart 235:7   StudentAttendanceManager.startEventTracking
  test\unit\student_attendance_manager_comprehensive_test.dart 146:33      main.<fn>.<fn>.<fn>
  
🧹 Limpiando StudentAttendanceManager con recursos críticos
🛑 Deteniendo tracking con limpieza completa
🧹 Limpiando todas las notificaciones
❌ Error limpiando notificaciones: LateInitializationError: Field '_instance@1171271368' has not been initialized.
  Bad state: Cannot add new events after calling close
  dart:async                                                               _BroadcastStreamController.add
  package:geo_asist_front/services/student_attendance_manager.dart 622:22  StudentAttendanceManager._updateState
  package:geo_asist_front/services/student_attendance_manager.dart 525:5   StudentAttendanceManager.stopTracking
  ===== asynchronous gap ===========================
  dart:async                                                               _CustomZone.registerBinaryCallback
  test\unit\student_attendance_manager_comprehensive_test.dart 56:7        main.<fn>.<fn>
  
00:03 +57 -61: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/unit/student_attendance_manager_comprehensive_test.dart: StudentAttendanceManager Comprehensive Tests Event Tracking Tests should handle location updates and process backend response
🎯 Iniciando tracking para evento: Test Event
❌ Error iniciando tracking: Bad state: Cannot add new events after calling close
00:03 +57 -62: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/unit/location_service_test.dart: LocationService Tests Backend Integration Tests should handle backend API errors gracefully
00:03 +57 -62: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/unit/student_attendance_manager_comprehensive_test.dart: StudentAttendanceManager Comprehensive Tests Event Tracking Tests should handle location updates and process backend response [E]
  Bad state: Cannot add new events after calling close
  dart:async                                                               _BroadcastStreamController.add
  package:geo_asist_front/services/student_attendance_manager.dart 622:22  StudentAttendanceManager._updateState
  package:geo_asist_front/services/student_attendance_manager.dart 235:7   StudentAttendanceManager.startEventTracking
  test\unit\student_attendance_manager_comprehensive_test.dart 183:33      main.<fn>.<fn>.<fn>
  
🧹 Limpiando StudentAttendanceManager con recursos críticos
🛑 Deteniendo tracking con limpieza completa
🧹 Limpiando todas las notificaciones
❌ Error limpiando notificaciones: LateInitializationError: Field '_instance@1171271368' has not been initialized.
  Bad state: Cannot add new events after calling close
  dart:async                                                               _BroadcastStreamController.add
  package:geo_asist_front/services/student_attendance_manager.dart 622:22  StudentAttendanceManager._updateState
  package:geo_asist_front/services/student_attendance_manager.dart 525:5   StudentAttendanceManager.stopTracking
  ===== asynchronous gap ===========================
  dart:async                                                               _CustomZone.registerBinaryCallback
  test\unit\student_attendance_manager_comprehensive_test.dart 56:7        main.<fn>.<fn>
  
00:03 +57 -62: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/unit/student_attendance_manager_comprehensive_test.dart: StudentAttendanceManager Comprehensive Tests Geofence Management Tests should handle geofence entry correctly
🎯 Iniciando tracking para evento: Test Event
❌ Error iniciando tracking: Bad state: Cannot add new events after calling close
00:03 +57 -63: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/unit/location_service_test.dart: LocationService Tests Backend Integration Tests should handle backend API errors gracefully
00:03 +57 -63: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/unit/student_attendance_manager_comprehensive_test.dart: StudentAttendanceManager Comprehensive Tests Geofence Management Tests should handle geofence entry correctly [E]
  Bad state: Cannot add new events after calling close
  dart:async                                                               _BroadcastStreamController.add
  package:geo_asist_front/services/student_attendance_manager.dart 622:22  StudentAttendanceManager._updateState
  package:geo_asist_front/services/student_attendance_manager.dart 235:7   StudentAttendanceManager.startEventTracking
  test\unit\student_attendance_manager_comprehensive_test.dart 220:33      main.<fn>.<fn>.<fn>
  
🧹 Limpiando StudentAttendanceManager con recursos críticos
🛑 Deteniendo tracking con limpieza completa
🧹 Limpiando todas las notificaciones
❌ Error limpiando notificaciones: LateInitializationError: Field '_instance@1171271368' has not been initialized.
  Bad state: Cannot add new events after calling close
  dart:async                                                               _BroadcastStreamController.add
  package:geo_asist_front/services/student_attendance_manager.dart 622:22  StudentAttendanceManager._updateState
  package:geo_asist_front/services/student_attendance_manager.dart 525:5   StudentAttendanceManager.stopTracking
  ===== asynchronous gap ===========================
  dart:async                                                               _CustomZone.registerBinaryCallback
  test\unit\student_attendance_manager_comprehensive_test.dart 56:7        main.<fn>.<fn>
  
00:03 +57 -63: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/unit/student_attendance_manager_comprehensive_test.dart: StudentAttendanceManager Comprehensive Tests Geofence Management Tests should handle geofence exit and start grace period
🎯 Iniciando tracking para evento: Test Event
❌ Error iniciando tracking: Bad state: Cannot add new events after calling close
00:03 +57 -64: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/unit/location_service_test.dart: LocationService Tests Backend Integration Tests should handle backend API errors gracefully
00:03 +57 -64: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/unit/student_attendance_manager_comprehensive_test.dart: StudentAttendanceManager Comprehensive Tests Geofence Management Tests should handle geofence exit and start grace period [E]
  Bad state: Cannot add new events after calling close
  dart:async                                                               _BroadcastStreamController.add
  package:geo_asist_front/services/student_attendance_manager.dart 622:22  StudentAttendanceManager._updateState
  package:geo_asist_front/services/student_attendance_manager.dart 235:7   StudentAttendanceManager.startEventTracking
  test\unit\student_attendance_manager_comprehensive_test.dart 271:33      main.<fn>.<fn>.<fn>
  
🧹 Limpiando StudentAttendanceManager con recursos críticos
🛑 Deteniendo tracking con limpieza completa
🧹 Limpiando todas las notificaciones
❌ Error limpiando notificaciones: LateInitializationError: Field '_instance@1171271368' has not been initialized.
  Bad state: Cannot add new events after calling close
  dart:async                                                               _BroadcastStreamController.add
  package:geo_asist_front/services/student_attendance_manager.dart 622:22  StudentAttendanceManager._updateState
  package:geo_asist_front/services/student_attendance_manager.dart 525:5   StudentAttendanceManager.stopTracking
  ===== asynchronous gap ===========================
  dart:async                                                               _CustomZone.registerBinaryCallback
  test\unit\student_attendance_manager_comprehensive_test.dart 56:7        main.<fn>.<fn>
  
00:04 +57 -64: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/unit/student_attendance_manager_comprehensive_test.dart: StudentAttendanceManager Comprehensive Tests Grace Period Tests should handle grace period countdown
🧹 Limpiando StudentAttendanceManager con recursos críticos
🛑 Deteniendo tracking con limpieza completa
🧹 Limpiando todas las notificaciones
❌ Error limpiando notificaciones: LateInitializationError: Field '_instance@1171271368' has not been initialized.
00:04 +57 -65: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/unit/location_service_test.dart: LocationService Tests Backend Integration Tests should handle backend API errors gracefully
00:04 +57 -65: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/unit/student_attendance_manager_comprehensive_test.dart: StudentAttendanceManager Comprehensive Tests Grace Period Tests should handle grace period countdown [E]
  Bad state: Cannot add new events after calling close
  dart:async                                                               _BroadcastStreamController.add
  package:geo_asist_front/services/student_attendance_manager.dart 622:22  StudentAttendanceManager._updateState
  package:geo_asist_front/services/student_attendance_manager.dart 525:5   StudentAttendanceManager.stopTracking
  ===== asynchronous gap ===========================
  dart:async                                                               _CustomZone.registerBinaryCallback
  test\unit\student_attendance_manager_comprehensive_test.dart 56:7        main.<fn>.<fn>
  
00:04 +57 -65: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/unit/student_attendance_manager_comprehensive_test.dart: StudentAttendanceManager Comprehensive Tests Grace Period Tests should cancel grace period when user returns to geofence
🎯 Iniciando tracking para evento: Test Event
❌ Error iniciando tracking: Bad state: Cannot add new events after calling close
00:04 +57 -66: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/unit/location_service_test.dart: LocationService Tests Backend Integration Tests should handle backend API errors gracefully
00:04 +57 -66: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/unit/student_attendance_manager_comprehensive_test.dart: StudentAttendanceManager Comprehensive Tests Grace Period Tests should cancel grace period when user returns to geofence [E]
  Bad state: Cannot add new events after calling close
  dart:async                                                               _BroadcastStreamController.add
  package:geo_asist_front/services/student_attendance_manager.dart 622:22  StudentAttendanceManager._updateState
  package:geo_asist_front/services/student_attendance_manager.dart 235:7   StudentAttendanceManager.startEventTracking
  test\unit\student_attendance_manager_comprehensive_test.dart 335:33      main.<fn>.<fn>.<fn>
  
🧹 Limpiando StudentAttendanceManager con recursos críticos
🛑 Deteniendo tracking con limpieza completa
🧹 Limpiando todas las notificaciones
❌ Error limpiando notificaciones: LateInitializationError: Field '_instance@1171271368' has not been initialized.
  Bad state: Cannot add new events after calling close
  dart:async                                                               _BroadcastStreamController.add
  package:geo_asist_front/services/student_attendance_manager.dart 622:22  StudentAttendanceManager._updateState
  package:geo_asist_front/services/student_attendance_manager.dart 525:5   StudentAttendanceManager.stopTracking
  ===== asynchronous gap ===========================
  dart:async                                                               _CustomZone.registerBinaryCallback
  test\unit\student_attendance_manager_comprehensive_test.dart 56:7        main.<fn>.<fn>
  
00:04 +57 -66: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/unit/student_attendance_manager_comprehensive_test.dart: StudentAttendanceManager Comprehensive Tests Attendance Registration Tests should register attendance successfully when conditions are met
⚠️ No se puede registrar asistencia en este momento
00:04 +57 -67: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/unit/location_service_test.dart: LocationService Tests Backend Integration Tests should handle backend API errors gracefully
00:04 +57 -67: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/unit/student_attendance_manager_comprehensive_test.dart: StudentAttendanceManager Comprehensive Tests Attendance Registration Tests should register attendance successfully when conditions are met [E]
  Expected: true
    Actual: <false>
  
  package:matcher                                                     expect
  package:flutter_test/src/widget_tester.dart 474:18                  expect
  test\unit\student_attendance_manager_comprehensive_test.dart 379:9  main.<fn>.<fn>.<fn>
  
🧹 Limpiando StudentAttendanceManager con recursos críticos
🛑 Deteniendo tracking con limpieza completa
🧹 Limpiando todas las notificaciones
❌ Error limpiando notificaciones: LateInitializationError: Field '_instance@1171271368' has not been initialized.
00:04 +57 -67: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/unit/location_service_test.dart: LocationService Tests Backend Integration Tests should handle backend API errors gracefully
00:04 +57 -67: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/unit/student_attendance_manager_comprehensive_test.dart: StudentAttendanceManager Comprehensive Tests Attendance Registration Tests should register attendance successfully when conditions are met [E]
  Bad state: Cannot add new events after calling close
  dart:async                                                               _BroadcastStreamController.add
  package:geo_asist_front/services/student_attendance_manager.dart 622:22  StudentAttendanceManager._updateState
  package:geo_asist_front/services/student_attendance_manager.dart 525:5   StudentAttendanceManager.stopTracking
  ===== asynchronous gap ===========================
  dart:async                                                               _CustomZone.registerBinaryCallback
  test\unit\student_attendance_manager_comprehensive_test.dart 56:7        main.<fn>.<fn>
  
00:04 +57 -67: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/unit/student_attendance_manager_comprehensive_test.dart: StudentAttendanceManager Comprehensive Tests Attendance Registration Tests should fail to register attendance when conditions not met
⚠️ No se puede registrar asistencia en este momento
🧹 Limpiando StudentAttendanceManager con recursos críticos
🛑 Deteniendo tracking con limpieza completa
🧹 Limpiando todas las notificaciones
❌ Error limpiando notificaciones: LateInitializationError: Field '_instance@1171271368' has not been initialized.
00:04 +57 -68: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/unit/location_service_test.dart: LocationService Tests Backend Integration Tests should handle backend API errors gracefully
00:04 +57 -68: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/unit/student_attendance_manager_comprehensive_test.dart: StudentAttendanceManager Comprehensive Tests Attendance Registration Tests should fail to register attendance when conditions not met [E]
  Bad state: Cannot add new events after calling close
  dart:async                                                               _BroadcastStreamController.add
  package:geo_asist_front/services/student_attendance_manager.dart 622:22  StudentAttendanceManager._updateState
  package:geo_asist_front/services/student_attendance_manager.dart 525:5   StudentAttendanceManager.stopTracking
  ===== asynchronous gap ===========================
  dart:async                                                               _CustomZone.registerBinaryCallback
  test\unit\student_attendance_manager_comprehensive_test.dart 56:7        main.<fn>.<fn>
  
00:04 +57 -68: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/unit/student_attendance_manager_comprehensive_test.dart: StudentAttendanceManager Comprehensive Tests App Lifecycle Tests should handle app resumed correctly
📱 App lifecycle cambió a: AppLifecycleState.resumed
✅ App en foreground - tracking normal
00:04 +57 -69: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/unit/location_service_test.dart: LocationService Tests Backend Integration Tests should handle backend API errors gracefully
00:04 +57 -69: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/unit/student_attendance_manager_comprehensive_test.dart: StudentAttendanceManager Comprehensive Tests App Lifecycle Tests should handle app resumed correctly [E]
  No matching calls (actually, no calls at all).
  (If you called `verify(...).called(0);`, please instead use `verifyNever(...);`.)
  package:matcher                                                      fail
  package:mocktail/src/mocktail.dart 728:7                             _VerifyCall._checkWith
  package:mocktail/src/mocktail.dart 519:18                            _makeVerify.<fn>
  test\unit\student_attendance_manager_comprehensive_test.dart 435:15  main.<fn>.<fn>.<fn>
  
🧹 Limpiando StudentAttendanceManager con recursos críticos
🛑 Deteniendo tracking con limpieza completa
🧹 Limpiando todas las notificaciones
❌ Error limpiando notificaciones: LateInitializationError: Field '_instance@1171271368' has not been initialized.
00:04 +57 -69: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/unit/location_service_test.dart: LocationService Tests Backend Integration Tests should handle backend API errors gracefully
00:04 +57 -69: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/unit/student_attendance_manager_comprehensive_test.dart: StudentAttendanceManager Comprehensive Tests App Lifecycle Tests should handle app resumed correctly [E]
  Bad state: Cannot add new events after calling close
  dart:async                                                               _BroadcastStreamController.add
  package:geo_asist_front/services/student_attendance_manager.dart 622:22  StudentAttendanceManager._updateState
  package:geo_asist_front/services/student_attendance_manager.dart 525:5   StudentAttendanceManager.stopTracking
  ===== asynchronous gap ===========================
  dart:async                                                               _CustomZone.registerBinaryCallback
  test\unit\student_attendance_manager_comprehensive_test.dart 56:7        main.<fn>.<fn>
  
00:04 +57 -69: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/unit/location_service_test.dart: LocationService Tests Backend Integration Tests should handle backend API errors gracefully
📤 Location update attempt 2 of 3
❌ Location update attempt 2 failed: Exception: Network error
🔄 Retrying location update in 2s...
00:04 +57 -69: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/unit/student_attendance_manager_comprehensive_test.dart: StudentAttendanceManager Comprehensive Tests App Lifecycle Tests should handle app paused without triggering grace period
📱 App lifecycle cambió a: AppLifecycleState.paused
📱 App en background - tracking continúa normalmente
00:04 +57 -70: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/unit/location_service_test.dart: LocationService Tests Backend Integration Tests should handle backend API errors gracefully
00:04 +57 -70: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/unit/student_attendance_manager_comprehensive_test.dart: StudentAttendanceManager Comprehensive Tests App Lifecycle Tests should handle app paused without triggering grace period [E]
  No matching calls (actually, no calls at all).
  (If you called `verify(...).called(0);`, please instead use `verifyNever(...);`.)
  package:matcher                                                      fail
  package:mocktail/src/mocktail.dart 728:7                             _VerifyCall._checkWith
  package:mocktail/src/mocktail.dart 519:18                            _makeVerify.<fn>
  test\unit\student_attendance_manager_comprehensive_test.dart 447:15  main.<fn>.<fn>.<fn>
  
🧹 Limpiando StudentAttendanceManager con recursos críticos
🛑 Deteniendo tracking con limpieza completa
🧹 Limpiando todas las notificaciones
❌ Error limpiando notificaciones: LateInitializationError: Field '_instance@1171271368' has not been initialized.
00:04 +57 -70: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/unit/location_service_test.dart: LocationService Tests Backend Integration Tests should handle backend API errors gracefully
00:04 +57 -70: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/unit/student_attendance_manager_comprehensive_test.dart: StudentAttendanceManager Comprehensive Tests App Lifecycle Tests should handle app paused without triggering grace period [E]
  Bad state: Cannot add new events after calling close
  dart:async                                                               _BroadcastStreamController.add
  package:geo_asist_front/services/student_attendance_manager.dart 622:22  StudentAttendanceManager._updateState
  package:geo_asist_front/services/student_attendance_manager.dart 525:5   StudentAttendanceManager.stopTracking
  ===== asynchronous gap ===========================
  dart:async                                                               _CustomZone.registerBinaryCallback
  test\unit\student_attendance_manager_comprehensive_test.dart 56:7        main.<fn>.<fn>
  
00:04 +57 -70: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/unit/student_attendance_manager_comprehensive_test.dart: StudentAttendanceManager Comprehensive Tests App Lifecycle Tests should trigger grace period when app is detached
📱 App lifecycle cambió a: AppLifecycleState.detached
🚨 App CERRADA COMPLETAMENTE - Iniciando grace period 30s
🚨 Grace period iniciado - 30 segundos
🚨 Mostrando advertencia crítica - App cerrada (30 s)
00:04 +57 -71: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/unit/location_service_test.dart: LocationService Tests Backend Integration Tests should handle backend API errors gracefully
00:04 +57 -71: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/unit/student_attendance_manager_comprehensive_test.dart: StudentAttendanceManager Comprehensive Tests App Lifecycle Tests should trigger grace period when app is detached [E]
  No matching calls (actually, no calls at all).
  (If you called `verify(...).called(0);`, please instead use `verifyNever(...);`.)
  package:matcher                                                      fail
  package:mocktail/src/mocktail.dart 728:7                             _VerifyCall._checkWith
  package:mocktail/src/mocktail.dart 519:18                            _makeVerify.<fn>
  test\unit\student_attendance_manager_comprehensive_test.dart 460:15  main.<fn>.<fn>.<fn>
  
❌ Error notificación app cerrada: LateInitializationError: Field '_instance@1171271368' has not been initialized.
🧹 Limpiando StudentAttendanceManager con recursos críticos
🛑 Deteniendo tracking con limpieza completa
🧹 Limpiando todas las notificaciones
❌ Error limpiando notificaciones: LateInitializationError: Field '_instance@1171271368' has not been initialized.
00:04 +57 -71: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/unit/location_service_test.dart: LocationService Tests Backend Integration Tests should handle backend API errors gracefully
00:04 +57 -71: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/unit/student_attendance_manager_comprehensive_test.dart: StudentAttendanceManager Comprehensive Tests App Lifecycle Tests should trigger grace period when app is detached [E]
  Bad state: Cannot add new events after calling close
  dart:async                                                               _BroadcastStreamController.add
  package:geo_asist_front/services/student_attendance_manager.dart 622:22  StudentAttendanceManager._updateState
  package:geo_asist_front/services/student_attendance_manager.dart 525:5   StudentAttendanceManager.stopTracking
  ===== asynchronous gap ===========================
  dart:async                                                               _CustomZone.registerBinaryCallback
  test\unit\student_attendance_manager_comprehensive_test.dart 56:7        main.<fn>.<fn>
  
00:04 +57 -72: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/unit/location_service_test.dart: LocationService Tests Backend Integration Tests should handle backend API errors gracefully
00:04 +57 -72: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/unit/student_attendance_manager_comprehensive_test.dart: StudentAttendanceManager Comprehensive Tests Heartbeat Tests should send heartbeat successfully [E]
  No matching calls (actually, no calls at all).
  (If you called `verify(...).called(0);`, please instead use `verifyNever(...);`.)
  package:matcher                                                      fail
  package:mocktail/src/mocktail.dart 728:7                             _VerifyCall._checkWith
  package:mocktail/src/mocktail.dart 519:18                            _makeVerify.<fn>
  test\unit\student_attendance_manager_comprehensive_test.dart 490:15  main.<fn>.<fn>.<fn>
  
🧹 Limpiando StudentAttendanceManager con recursos críticos
🛑 Deteniendo tracking con limpieza completa
🧹 Limpiando todas las notificaciones
❌ Error limpiando notificaciones: LateInitializationError: Field '_instance@1171271368' has not been initialized.
00:04 +57 -72: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/unit/location_service_test.dart: LocationService Tests Backend Integration Tests should handle backend API errors gracefully
00:04 +57 -72: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/unit/student_attendance_manager_comprehensive_test.dart: StudentAttendanceManager Comprehensive Tests Heartbeat Tests should send heartbeat successfully [E]
  Bad state: Cannot add new events after calling close
  dart:async                                                               _BroadcastStreamController.add
  package:geo_asist_front/services/student_attendance_manager.dart 622:22  StudentAttendanceManager._updateState
  package:geo_asist_front/services/student_attendance_manager.dart 525:5   StudentAttendanceManager.stopTracking
  ===== asynchronous gap ===========================
  dart:async                                                               _CustomZone.registerBinaryCallback
  test\unit\student_attendance_manager_comprehensive_test.dart 56:7        main.<fn>.<fn>
  
00:04 +57 -73: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/unit/location_service_test.dart: LocationService Tests Backend Integration Tests should handle backend API errors gracefully
00:04 +57 -73: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/unit/student_attendance_manager_comprehensive_test.dart: StudentAttendanceManager Comprehensive Tests Heartbeat Tests should handle heartbeat failure [E]
  No matching calls (actually, no calls at all).
  (If you called `verify(...).called(0);`, please instead use `verifyNever(...);`.)
  package:matcher                                                      fail
  package:mocktail/src/mocktail.dart 728:7                             _VerifyCall._checkWith
  package:mocktail/src/mocktail.dart 519:18                            _makeVerify.<fn>
  test\unit\student_attendance_manager_comprehensive_test.dart 526:15  main.<fn>.<fn>.<fn>
  
🧹 Limpiando StudentAttendanceManager con recursos críticos
🛑 Deteniendo tracking con limpieza completa
🧹 Limpiando todas las notificaciones
❌ Error limpiando notificaciones: LateInitializationError: Field '_instance@1171271368' has not been initialized.
00:04 +57 -73: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/unit/location_service_test.dart: LocationService Tests Backend Integration Tests should handle backend API errors gracefully
00:04 +57 -73: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/unit/student_attendance_manager_comprehensive_test.dart: StudentAttendanceManager Comprehensive Tests Heartbeat Tests should handle heartbeat failure [E]
  Bad state: Cannot add new events after calling close
  dart:async                                                               _BroadcastStreamController.add
  package:geo_asist_front/services/student_attendance_manager.dart 622:22  StudentAttendanceManager._updateState
  package:geo_asist_front/services/student_attendance_manager.dart 525:5   StudentAttendanceManager.stopTracking
  ===== asynchronous gap ===========================
  dart:async                                                               _CustomZone.registerBinaryCallback
  test\unit\student_attendance_manager_comprehensive_test.dart 56:7        main.<fn>.<fn>
  
00:04 +57 -73: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/unit/student_attendance_manager_comprehensive_test.dart: StudentAttendanceManager Comprehensive Tests Memory Management Tests should dispose resources properly without memory leaks
🎯 Iniciando tracking para evento: Test Event
❌ Error iniciando tracking: Bad state: Cannot add new events after calling close
00:04 +57 -74: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/unit/location_service_test.dart: LocationService Tests Backend Integration Tests should handle backend API errors gracefully
00:04 +57 -74: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/unit/student_attendance_manager_comprehensive_test.dart: StudentAttendanceManager Comprehensive Tests Memory Management Tests should dispose resources properly without memory leaks [E]
  Bad state: Cannot add new events after calling close
  dart:async                                                               _BroadcastStreamController.add
  package:geo_asist_front/services/student_attendance_manager.dart 622:22  StudentAttendanceManager._updateState
  package:geo_asist_front/services/student_attendance_manager.dart 235:7   StudentAttendanceManager.startEventTracking
  test\unit\student_attendance_manager_comprehensive_test.dart 539:33      main.<fn>.<fn>.<fn>
  
🧹 Limpiando StudentAttendanceManager con recursos críticos
🛑 Deteniendo tracking con limpieza completa
🧹 Limpiando todas las notificaciones
❌ Error limpiando notificaciones: LateInitializationError: Field '_instance@1171271368' has not been initialized.
  Bad state: Cannot add new events after calling close
  dart:async                                                               _BroadcastStreamController.add
  package:geo_asist_front/services/student_attendance_manager.dart 622:22  StudentAttendanceManager._updateState
  package:geo_asist_front/services/student_attendance_manager.dart 525:5   StudentAttendanceManager.stopTracking
  ===== asynchronous gap ===========================
  dart:async                                                               _CustomZone.registerBinaryCallback
  test\unit\student_attendance_manager_comprehensive_test.dart 56:7        main.<fn>.<fn>
  
00:04 +57 -74: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/unit/student_attendance_manager_comprehensive_test.dart: StudentAttendanceManager Comprehensive Tests Memory Management Tests should handle stream subscriptions properly
🧹 Limpiando StudentAttendanceManager con recursos críticos
🛑 Deteniendo tracking con limpieza completa
🧹 Limpiando todas las notificaciones
❌ Error limpiando notificaciones: LateInitializationError: Field '_instance@1171271368' has not been initialized.
00:04 +57 -75: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/unit/location_service_test.dart: LocationService Tests Backend Integration Tests should handle backend API errors gracefully
00:04 +57 -75: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/unit/student_attendance_manager_comprehensive_test.dart: StudentAttendanceManager Comprehensive Tests Memory Management Tests should handle stream subscriptions properly [E]
  Bad state: Cannot add new events after calling close
  dart:async                                                               _BroadcastStreamController.add
  package:geo_asist_front/services/student_attendance_manager.dart 622:22  StudentAttendanceManager._updateState
  package:geo_asist_front/services/student_attendance_manager.dart 525:5   StudentAttendanceManager.stopTracking
  
🧹 Limpiando StudentAttendanceManager con recursos críticos
🛑 Deteniendo tracking con limpieza completa
🧹 Limpiando todas las notificaciones
❌ Error limpiando notificaciones: LateInitializationError: Field '_instance@1171271368' has not been initialized.
  Bad state: Cannot add new events after calling close
  dart:async                                                               _BroadcastStreamController.add
  package:geo_asist_front/services/student_attendance_manager.dart 622:22  StudentAttendanceManager._updateState
  package:geo_asist_front/services/student_attendance_manager.dart 525:5   StudentAttendanceManager.stopTracking
  ===== asynchronous gap ===========================
  dart:async                                                               _CustomZone.registerBinaryCallback
  test\unit\student_attendance_manager_comprehensive_test.dart 56:7        main.<fn>.<fn>
  
00:04 +57 -75: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/unit/student_attendance_manager_comprehensive_test.dart: StudentAttendanceManager Comprehensive Tests Permission Validation Tests should validate permissions before tracking
🔍 Validando permisos antes de iniciar tracking
🔒 Validando todos los permisos para tracking
🔍 Validando permisos de ubicación precisa
❌ Error validando ubicación precisa: MissingPluginException(No implementation found for method checkPermission on channel flutter.baseflow.com/geolocator)
📊 Permisos - Ubicación: false, Background: true, Notificaciones: true
❌ Faltan permisos críticos
❌ Permisos insuficientes para tracking
🚨 Mostrando advertencia crítica de lifecycle
❌ Error mostrando alerta (critical): LateInitializationError: Field '_instance@1171271368' has not been initialized.
00:04 +57 -76: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/unit/location_service_test.dart: LocationService Tests Backend Integration Tests should handle backend API errors gracefully
00:04 +57 -76: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/unit/student_attendance_manager_comprehensive_test.dart: StudentAttendanceManager Comprehensive Tests Permission Validation Tests should validate permissions before tracking [E]
  Expected: true
    Actual: <false>
  
  package:matcher                                                     expect
  package:flutter_test/src/widget_tester.dart 474:18                  expect
  test\unit\student_attendance_manager_comprehensive_test.dart 574:9  main.<fn>.<fn>.<fn>
  
🧹 Limpiando StudentAttendanceManager con recursos críticos
🛑 Deteniendo tracking con limpieza completa
🧹 Limpiando todas las notificaciones
❌ Error limpiando notificaciones: LateInitializationError: Field '_instance@1171271368' has not been initialized.
00:04 +57 -76: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/unit/location_service_test.dart: LocationService Tests Backend Integration Tests should handle backend API errors gracefully
00:04 +57 -76: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/unit/student_attendance_manager_comprehensive_test.dart: StudentAttendanceManager Comprehensive Tests Permission Validation Tests should validate permissions before tracking [E]
  Bad state: Cannot add new events after calling close
  dart:async                                                               _BroadcastStreamController.add
  package:geo_asist_front/services/student_attendance_manager.dart 622:22  StudentAttendanceManager._updateState
  package:geo_asist_front/services/student_attendance_manager.dart 525:5   StudentAttendanceManager.stopTracking
  ===== asynchronous gap ===========================
  dart:async                                                               _CustomZone.registerBinaryCallback
  test\unit\student_attendance_manager_comprehensive_test.dart 56:7        main.<fn>.<fn>
  
00:04 +57 -76: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/unit/student_attendance_manager_comprehensive_test.dart: StudentAttendanceManager Comprehensive Tests Permission Validation Tests should handle permission validation failure
🔍 Validando permisos antes de iniciar tracking
🔒 Validando todos los permisos para tracking
🔍 Validando permisos de ubicación precisa
❌ Error validando ubicación precisa: MissingPluginException(No implementation found for method checkPermission on channel flutter.baseflow.com/geolocator)
📊 Permisos - Ubicación: false, Background: true, Notificaciones: true
❌ Faltan permisos críticos
❌ Permisos insuficientes para tracking
🚨 Mostrando advertencia crítica de lifecycle
❌ Error mostrando alerta (critical): LateInitializationError: Field '_instance@1171271368' has not been initialized.
00:04 +57 -77: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/unit/location_service_test.dart: LocationService Tests Backend Integration Tests should handle backend API errors gracefully
00:04 +57 -77: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/unit/student_attendance_manager_comprehensive_test.dart: StudentAttendanceManager Comprehensive Tests Permission Validation Tests should handle permission validation failure [E]
  No matching calls (actually, no calls at all).
  (If you called `verify(...).called(0);`, please instead use `verifyNever(...);`.)
  package:matcher                                                      fail
  package:mocktail/src/mocktail.dart 728:7                             _VerifyCall._checkWith
  package:mocktail/src/mocktail.dart 519:18                            _makeVerify.<fn>
  test\unit\student_attendance_manager_comprehensive_test.dart 590:15  main.<fn>.<fn>.<fn>
  
🧹 Limpiando StudentAttendanceManager con recursos críticos
🛑 Deteniendo tracking con limpieza completa
🧹 Limpiando todas las notificaciones
❌ Error limpiando notificaciones: LateInitializationError: Field '_instance@1171271368' has not been initialized.
00:04 +57 -77: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/unit/location_service_test.dart: LocationService Tests Backend Integration Tests should handle backend API errors gracefully
00:04 +57 -77: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/unit/student_attendance_manager_comprehensive_test.dart: StudentAttendanceManager Comprehensive Tests Permission Validation Tests should handle permission validation failure [E]
  Bad state: Cannot add new events after calling close
  dart:async                                                               _BroadcastStreamController.add
  package:geo_asist_front/services/student_attendance_manager.dart 622:22  StudentAttendanceManager._updateState
  package:geo_asist_front/services/student_attendance_manager.dart 525:5   StudentAttendanceManager.stopTracking
  ===== asynchronous gap ===========================
  dart:async                                                               _CustomZone.registerBinaryCallback
  test\unit\student_attendance_manager_comprehensive_test.dart 56:7        main.<fn>.<fn>
  
00:04 +57 -77: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/unit/student_attendance_manager_comprehensive_test.dart: StudentAttendanceManager Comprehensive Tests State Management Tests should emit state changes through stream
🎯 Iniciando tracking para evento: Test Event
❌ Error iniciando tracking: Bad state: Cannot add new events after calling close
00:04 +57 -78: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/unit/location_service_test.dart: LocationService Tests Backend Integration Tests should handle backend API errors gracefully
00:04 +57 -78: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/unit/student_attendance_manager_comprehensive_test.dart: StudentAttendanceManager Comprehensive Tests State Management Tests should emit state changes through stream [E]
  Bad state: Cannot add new events after calling close
  dart:async                                                               _BroadcastStreamController.add
  package:geo_asist_front/services/student_attendance_manager.dart 622:22  StudentAttendanceManager._updateState
  package:geo_asist_front/services/student_attendance_manager.dart 235:7   StudentAttendanceManager.startEventTracking
  test\unit\student_attendance_manager_comprehensive_test.dart 604:33      main.<fn>.<fn>.<fn>
  
🧹 Limpiando StudentAttendanceManager con recursos críticos
🛑 Deteniendo tracking con limpieza completa
🧹 Limpiando todas las notificaciones
❌ Error limpiando notificaciones: LateInitializationError: Field '_instance@1171271368' has not been initialized.
  Bad state: Cannot add new events after calling close
  dart:async                                                               _BroadcastStreamController.add
  package:geo_asist_front/services/student_attendance_manager.dart 622:22  StudentAttendanceManager._updateState
  package:geo_asist_front/services/student_attendance_manager.dart 525:5   StudentAttendanceManager.stopTracking
  ===== asynchronous gap ===========================
  dart:async                                                               _CustomZone.registerBinaryCallback
  test\unit\student_attendance_manager_comprehensive_test.dart 56:7        main.<fn>.<fn>
  
00:04 +57 -79: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/unit/location_service_test.dart: LocationService Tests Backend Integration Tests should handle backend API errors gracefully
00:04 +57 -79: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/unit/student_attendance_manager_comprehensive_test.dart: StudentAttendanceManager Comprehensive Tests State Management Tests should provide current state info correctly [E]
  Expected: contains 'active'
    Actual: 'TrackingStatus.stopped'
     Which: does not contain 'active'
  
  package:matcher                                                     expect
  package:flutter_test/src/widget_tester.dart 474:18                  expect
  test\unit\student_attendance_manager_comprehensive_test.dart 635:9  main.<fn>.<fn>.<fn>
  
🧹 Limpiando StudentAttendanceManager con recursos críticos
🛑 Deteniendo tracking con limpieza completa
🧹 Limpiando todas las notificaciones
❌ Error limpiando notificaciones: LateInitializationError: Field '_instance@1171271368' has not been initialized.
00:04 +57 -79: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/unit/location_service_test.dart: LocationService Tests Backend Integration Tests should handle backend API errors gracefully
00:04 +57 -79: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/unit/student_attendance_manager_comprehensive_test.dart: StudentAttendanceManager Comprehensive Tests State Management Tests should provide current state info correctly [E]
  Bad state: Cannot add new events after calling close
  dart:async                                                               _BroadcastStreamController.add
  package:geo_asist_front/services/student_attendance_manager.dart 622:22  StudentAttendanceManager._updateState
  package:geo_asist_front/services/student_attendance_manager.dart 525:5   StudentAttendanceManager.stopTracking
  ===== asynchronous gap ===========================
  dart:async                                                               _CustomZone.registerBinaryCallback
  test\unit\student_attendance_manager_comprehensive_test.dart 56:7        main.<fn>.<fn>
  
00:04 +57 -79: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/unit/student_attendance_manager_comprehensive_test.dart: StudentAttendanceManager Comprehensive Tests Error Handling Tests should handle location service errors gracefully
🎯 Iniciando tracking para evento: Test Event
❌ Error iniciando tracking: Bad state: Cannot add new events after calling close
00:04 +57 -80: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/unit/location_service_test.dart: LocationService Tests Backend Integration Tests should handle backend API errors gracefully
00:04 +57 -80: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/unit/student_attendance_manager_comprehensive_test.dart: StudentAttendanceManager Comprehensive Tests Error Handling Tests should handle location service errors gracefully [E]
  Bad state: Cannot add new events after calling close
  dart:async                                                               _BroadcastStreamController.add
  package:geo_asist_front/services/student_attendance_manager.dart 622:22  StudentAttendanceManager._updateState
  package:geo_asist_front/services/student_attendance_manager.dart 235:7   StudentAttendanceManager.startEventTracking
  test\unit\student_attendance_manager_comprehensive_test.dart 650:33      main.<fn>.<fn>.<fn>
  
🧹 Limpiando StudentAttendanceManager con recursos críticos
🛑 Deteniendo tracking con limpieza completa
🧹 Limpiando todas las notificaciones
❌ Error limpiando notificaciones: LateInitializationError: Field '_instance@1171271368' has not been initialized.
  Bad state: Cannot add new events after calling close
  dart:async                                                               _BroadcastStreamController.add
  package:geo_asist_front/services/student_attendance_manager.dart 622:22  StudentAttendanceManager._updateState
  package:geo_asist_front/services/student_attendance_manager.dart 525:5   StudentAttendanceManager.stopTracking
  ===== asynchronous gap ===========================
  dart:async                                                               _CustomZone.registerBinaryCallback
  test\unit\student_attendance_manager_comprehensive_test.dart 56:7        main.<fn>.<fn>
  
00:04 +57 -80: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/unit/student_attendance_manager_comprehensive_test.dart: StudentAttendanceManager Comprehensive Tests Error Handling Tests should handle backend API errors
⚠️ No se puede registrar asistencia en este momento
🧹 Limpiando StudentAttendanceManager con recursos críticos
🛑 Deteniendo tracking con limpieza completa
🧹 Limpiando todas las notificaciones
❌ Error limpiando notificaciones: LateInitializationError: Field '_instance@1171271368' has not been initialized.
00:04 +57 -81: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/unit/location_service_test.dart: LocationService Tests Backend Integration Tests should handle backend API errors gracefully
00:04 +57 -81: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/unit/student_attendance_manager_comprehensive_test.dart: StudentAttendanceManager Comprehensive Tests Error Handling Tests should handle backend API errors [E]
  Bad state: Cannot add new events after calling close
  dart:async                                                               _BroadcastStreamController.add
  package:geo_asist_front/services/student_attendance_manager.dart 622:22  StudentAttendanceManager._updateState
  package:geo_asist_front/services/student_attendance_manager.dart 525:5   StudentAttendanceManager.stopTracking
  ===== asynchronous gap ===========================
  dart:async                                                               _CustomZone.registerBinaryCallback
  test\unit\student_attendance_manager_comprehensive_test.dart 56:7        main.<fn>.<fn>
  
00:04 +58 -81: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/unit/location_service_test.dart: LocationService Tests Backend Integration Tests should handle backend API errors gracefully
00:04 +59 -81: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/unit/location_service_test.dart: LocationService Tests Backend Integration Tests should handle backend API errors gracefully
00:04 +60 -81: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/unit/location_service_test.dart: LocationService Tests Backend Integration Tests should handle backend API errors gracefully
00:04 +61 -81: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/unit/location_service_test.dart: LocationService Tests Backend Integration Tests should handle backend API errors gracefully
00:04 +62 -81: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/unit/location_service_test.dart: LocationService Tests Backend Integration Tests should handle backend API errors gracefully
00:04 +63 -81: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/unit/location_service_test.dart: LocationService Tests Backend Integration Tests should handle backend API errors gracefully
00:04 +64 -81: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/unit/location_service_test.dart: LocationService Tests Backend Integration Tests should handle backend API errors gracefully
00:04 +65 -81: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/unit/location_service_test.dart: LocationService Tests Backend Integration Tests should handle backend API errors gracefully
00:04 +66 -81: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/unit/location_service_test.dart: LocationService Tests Backend Integration Tests should handle backend API errors gracefully
00:04 +67 -81: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/unit/location_service_test.dart: LocationService Tests Backend Integration Tests should handle backend API errors gracefully
00:04 +68 -81: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/unit/location_service_test.dart: LocationService Tests Backend Integration Tests should handle backend API errors gracefully
00:04 +69 -81: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/unit/location_service_test.dart: LocationService Tests Backend Integration Tests should handle backend API errors gracefully
00:04 +70 -81: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/unit/location_service_test.dart: LocationService Tests Backend Integration Tests should handle backend API errors gracefully
00:04 +71 -81: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/unit/location_service_test.dart: LocationService Tests Backend Integration Tests should handle backend API errors gracefully
00:04 +72 -81: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/unit/location_service_test.dart: LocationService Tests Backend Integration Tests should handle backend API errors gracefully
00:04 +73 -81: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/unit/location_service_test.dart: LocationService Tests Backend Integration Tests should handle backend API errors gracefully
00:04 +74 -81: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/unit/location_service_test.dart: LocationService Tests Backend Integration Tests should handle backend API errors gracefully
00:04 +75 -81: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/unit/location_service_test.dart: LocationService Tests Backend Integration Tests should handle backend API errors gracefully
00:04 +76 -81: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/unit/location_service_test.dart: LocationService Tests Backend Integration Tests should handle backend API errors gracefully
00:04 +77 -81: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/unit/location_service_test.dart: LocationService Tests Backend Integration Tests should handle backend API errors gracefully
00:04 +78 -81: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/unit/location_service_test.dart: LocationService Tests Backend Integration Tests should handle backend API errors gracefully
00:04 +79 -81: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/unit/location_service_test.dart: LocationService Tests Backend Integration Tests should handle backend API errors gracefully
00:04 +80 -81: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/unit/location_service_test.dart: LocationService Tests Backend Integration Tests should handle backend API errors gracefully
00:04 +81 -81: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/unit/location_service_test.dart: LocationService Tests Backend Integration Tests should handle backend API errors gracefully
00:04 +82 -81: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/unit/location_service_test.dart: LocationService Tests Backend Integration Tests should handle backend API errors gracefully
00:04 +83 -81: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/unit/location_service_test.dart: LocationService Tests Backend Integration Tests should handle backend API errors gracefully
00:05 +84 -81: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/unit/location_service_test.dart: LocationService Tests Backend Integration Tests should handle backend API errors gracefully
00:05 +85 -81: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/unit/location_service_test.dart: LocationService Tests Backend Integration Tests should handle backend API errors gracefully
00:05 +86 -81: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/unit/location_service_test.dart: LocationService Tests Backend Integration Tests should handle backend API errors gracefully
00:05 +87 -81: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/unit/location_service_test.dart: LocationService Tests Backend Integration Tests should handle backend API errors gracefully
00:05 +88 -81: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/unit/location_service_test.dart: LocationService Tests Backend Integration Tests should handle backend API errors gracefully
00:05 +89 -81: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/unit/location_service_test.dart: LocationService Tests Backend Integration Tests should handle backend API errors gracefully
00:05 +90 -81: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/unit/location_service_test.dart: LocationService Tests Backend Integration Tests should handle backend API errors gracefully
00:05 +91 -81: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/unit/location_service_test.dart: LocationService Tests Backend Integration Tests should handle backend API errors gracefully
00:05 +92 -81: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/unit/location_service_test.dart: LocationService Tests Backend Integration Tests should handle backend API errors gracefully
00:05 +93 -81: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/unit/location_service_test.dart: LocationService Tests Backend Integration Tests should handle backend API errors gracefully
00:05 +94 -81: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/unit/location_service_test.dart: LocationService Tests Backend Integration Tests should handle backend API errors gracefully
00:05 +95 -81: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/unit/location_service_test.dart: LocationService Tests Backend Integration Tests should handle backend API errors gracefully
00:05 +96 -81: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/unit/location_service_test.dart: LocationService Tests Backend Integration Tests should handle backend API errors gracefully
00:06 +97 -81: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/unit/location_service_test.dart: LocationService Tests Backend Integration Tests should handle backend API errors gracefully
00:06 +98 -81: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/unit/location_service_test.dart: LocationService Tests Backend Integration Tests should handle backend API errors gracefully
📤 Location update attempt 3 of 3
❌ Location update attempt 3 failed: Exception: Network error
❌ All location update attempts failed
❌ Location update failed
📊 Performance: update_failed = 4004ms (failed)
❌ Marking service as offline due to update failure
🧹 Disposing LocationService resources
✅ LocationService disposed
00:06 +99 -81: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/widget/detailed_stats_widget_test.dart: DetailedStatsWidget Tests Basic Rendering Tests renders without errors - basic test
00:06 +99 -81: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/unit/location_service_test.dart: LocationService Tests Backend Integration Tests should retry failed requests
📍 Optimized location update to backend
   - User: user_123
   - Coordinates: (37.7749, -122.4194)
   - Event: event_123
   - Background: false
   - Force: false
📤 Location update attempt 1 of 3
❌ Location update attempt 1 failed: Exception: Temporary network error
🔄 Retrying location update in 2s...
00:06 +100 -81: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/widget/detailed_stats_widget_test.dart: DetailedStatsWidget Tests Basic Rendering Tests renders without errors - basic test
00:06 +101 -81: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/widget/detailed_stats_widget_test.dart: DetailedStatsWidget Tests Basic Rendering Tests renders without errors - basic test
00:06 +102 -81: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/widget/detailed_stats_widget_test.dart: DetailedStatsWidget Tests Basic Rendering Tests renders without errors - basic test
00:06 +103 -81: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/widget/detailed_stats_widget_test.dart: DetailedStatsWidget Tests Basic Rendering Tests renders without errors - basic test
00:06 +104 -81: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/widget/detailed_stats_widget_test.dart: DetailedStatsWidget Tests Basic Rendering Tests renders without errors - basic test
00:06 +105 -81: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/unit/location_service_test.dart: LocationService Tests Backend Integration Tests should retry failed requests
00:06 +106 -81: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/unit/location_service_test.dart: LocationService Tests Backend Integration Tests should retry failed requests
00:06 +106 -81: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/widget/detailed_stats_widget_test.dart: DetailedStatsWidget Tests Basic Rendering Tests renders with eventoId parameter
📊 Obteniendo métricas del evento: test_event_123
00:06 +107 -81: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/unit/location_service_test.dart: LocationService Tests Backend Integration Tests should retry failed requests
00:06 +108 -81: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/unit/location_service_test.dart: LocationService Tests Backend Integration Tests should retry failed requests
00:06 +109 -81: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/unit/location_service_test.dart: LocationService Tests Backend Integration Tests should retry failed requests
00:06 +110 -81: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/unit/location_service_test.dart: LocationService Tests Backend Integration Tests should retry failed requests
00:06 +111 -81: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/unit/location_service_test.dart: LocationService Tests Backend Integration Tests should retry failed requests
00:06 +112 -81: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/unit/location_service_test.dart: LocationService Tests Backend Integration Tests should retry failed requests
00:06 +113 -81: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/unit/location_service_test.dart: LocationService Tests Backend Integration Tests should retry failed requests
00:06 +114 -81: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/unit/location_service_test.dart: LocationService Tests Backend Integration Tests should retry failed requests
00:06 +114 -81: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/widget/detailed_stats_widget_test.dart: DetailedStatsWidget Tests Data Handling Tests handles event-specific data
📊 Obteniendo métricas del evento: event_with_data
00:06 +115 -81: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/unit/location_service_test.dart: LocationService Tests Backend Integration Tests should retry failed requests
00:06 +116 -81: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/unit/location_service_test.dart: LocationService Tests Backend Integration Tests should retry failed requests
00:06 +117 -81: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/unit/location_service_test.dart: LocationService Tests Backend Integration Tests should retry failed requests
00:06 +118 -81: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/unit/location_service_test.dart: LocationService Tests Backend Integration Tests should retry failed requests
00:06 +119 -81: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/unit/location_service_test.dart: LocationService Tests Backend Integration Tests should retry failed requests
00:06 +120 -81: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/unit/location_service_test.dart: LocationService Tests Backend Integration Tests should retry failed requests
00:06 +121 -81: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/unit/location_service_test.dart: LocationService Tests Backend Integration Tests should retry failed requests
00:06 +122 -81: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/unit/location_service_test.dart: LocationService Tests Backend Integration Tests should retry failed requests
00:06 +123 -81: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/unit/location_service_test.dart: LocationService Tests Backend Integration Tests should retry failed requests
00:06 +124 -81: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/unit/location_service_test.dart: LocationService Tests Backend Integration Tests should retry failed requests
00:07 +125 -81: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/unit/location_service_test.dart: LocationService Tests Backend Integration Tests should retry failed requests
00:07 +126 -81: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/unit/location_service_test.dart: LocationService Tests Backend Integration Tests should retry failed requests
00:07 +127 -81: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/unit/location_service_test.dart: LocationService Tests Backend Integration Tests should retry failed requests
00:07 +128 -81: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/unit/location_service_test.dart: LocationService Tests Backend Integration Tests should retry failed requests
00:07 +129 -81: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/unit/location_service_test.dart: LocationService Tests Backend Integration Tests should retry failed requests
00:07 +130 -81: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/unit/location_service_test.dart: LocationService Tests Backend Integration Tests should retry failed requests
00:07 +131 -81: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/unit/location_service_test.dart: LocationService Tests Backend Integration Tests should retry failed requests
00:07 +132 -81: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/unit/location_service_test.dart: LocationService Tests Backend Integration Tests should retry failed requests
00:07 +133 -81: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/unit/location_service_test.dart: LocationService Tests Backend Integration Tests should retry failed requests
00:07 +134 -81: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/unit/location_service_test.dart: LocationService Tests Backend Integration Tests should retry failed requests
00:07 +135 -81: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/unit/location_service_test.dart: LocationService Tests Backend Integration Tests should retry failed requests
00:07 +136 -81: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/unit/location_service_test.dart: LocationService Tests Backend Integration Tests should retry failed requests
00:07 +137 -81: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/unit/location_service_test.dart: LocationService Tests Backend Integration Tests should retry failed requests
00:07 +138 -81: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/unit/location_service_test.dart: LocationService Tests Backend Integration Tests should retry failed requests
00:07 +139 -81: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/unit/location_service_test.dart: LocationService Tests Backend Integration Tests should retry failed requests
00:07 +140 -81: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/unit/location_service_test.dart: LocationService Tests Backend Integration Tests should retry failed requests
00:07 +141 -81: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/unit/location_service_test.dart: LocationService Tests Backend Integration Tests should retry failed requests
00:07 +142 -81: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/unit/location_service_test.dart: LocationService Tests Backend Integration Tests should retry failed requests
00:07 +143 -81: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/unit/location_service_test.dart: LocationService Tests Backend Integration Tests should retry failed requests
00:07 +144 -81: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/unit/location_service_test.dart: LocationService Tests Backend Integration Tests should retry failed requests
00:07 +145 -81: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/unit/location_service_test.dart: LocationService Tests Backend Integration Tests should retry failed requests
00:07 +146 -81: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/unit/location_service_test.dart: LocationService Tests Backend Integration Tests should retry failed requests
00:07 +147 -81: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/unit/location_service_test.dart: LocationService Tests Backend Integration Tests should retry failed requests
00:07 +148 -81: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/unit/location_service_test.dart: LocationService Tests Backend Integration Tests should retry failed requests
📤 Location update attempt 2 of 3
❌ Location update attempt 2 failed: Exception: Temporary network error
🔄 Retrying location update in 2s...
00:08 +149 -81: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/unit/location_service_test.dart: LocationService Tests Backend Integration Tests should retry failed requests
00:08 +150 -81: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/unit/location_service_test.dart: LocationService Tests Backend Integration Tests should retry failed requests
00:08 +150 -81: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/widget/login_screen_test.dart: Login Screen Widget Tests ✅ Form Field Tests should validate empty form fields
Login button pressed
00:08 +151 -81: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/unit/location_service_test.dart: LocationService Tests Backend Integration Tests should retry failed requests
00:08 +152 -81: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/unit/location_service_test.dart: LocationService Tests Backend Integration Tests should retry failed requests
00:08 +153 -81: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/unit/location_service_test.dart: LocationService Tests Backend Integration Tests should retry failed requests
00:08 +154 -81: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/unit/location_service_test.dart: LocationService Tests Backend Integration Tests should retry failed requests
00:08 +155 -81: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/unit/location_service_test.dart: LocationService Tests Backend Integration Tests should retry failed requests
00:08 +155 -81: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/widget/map_view_screen_test.dart: MapViewScreen Widget Tests Widget Rendering Tests should render map view screen with basic elements
🎯 MapViewScreen iniciando con restricciones de seguridad FASE C
00:08 +156 -81: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/unit/location_service_test.dart: LocationService Tests Backend Integration Tests should retry failed requests
00:08 +156 -81: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/widget/map_view_screen_test.dart: MapViewScreen Widget Tests Widget Rendering Tests should render map view screen with basic elements
🔍 Validando argumentos de navegación:
   - isStudentMode: true
   - eventoId: null
   - permissionsValidated: null
   - preciseLocationGranted: null
   - backgroundPermissionsGranted: null
   - batteryOptimizationDisabled: null
🚨 ACCESO DIRECTO NO PERMITIDO - Redirigiendo a validaciones
🔒 PASO 1: Re-validando permisos críticos...
✅ Todos los permisos re-validados correctamente
🔒 PASO 2: Inicializando servicios background...
🚀 Inicializando BackgroundService con ForegroundService nativo
🔔 Inicializando NotificationManager
❌ Error inicializando NotificationManager: LateInitializationError: Field '_instance@1171271368' has not been initialized.
❌ Error inicializando BackgroundService: LateInitializationError: Field '_instance@1171271368' has not been initialized.
❌ Error inicializando servicios background: LateInitializationError: Field '_instance@1171271368' has not been initialized.
❌ Error crítico en inicialización: Exception: No se pudieron inicializar servicios críticos
🧹 Limpiando MapViewScreen...
══╡ EXCEPTION CAUGHT BY FLUTTER TEST FRAMEWORK ╞════════════════════════════════════════════════════
The following TestFailure was thrown running a test:
Expected: exactly one matching candidate
  Actual: _TypeWidgetFinder:<Found 0 widgets with type "MapViewScreen": []>
   Which: means none were found but one was expected

When the exception was thrown, this was the stack:
#4      main.<anonymous closure>.<anonymous closure>.<anonymous closure> (file:///D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/widget/map_view_screen_test.dart:65:9)
<asynchronous suspension>
#5      testWidgets.<anonymous closure>.<anonymous closure> (package:flutter_test/src/widget_tester.dart:193:15)
<asynchronous suspension>
#6      TestWidgetsFlutterBinding._runTestBody (package:flutter_test/src/binding.dart:1064:5)
<asynchronous suspension>
<asynchronous suspension>
(elided one frame from package:stack_trace)

This was caught by the test expectation on the following line:
  file:///D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/widget/map_view_screen_test.dart line 65
The test description was:
  should render map view screen with basic elements
════════════════════════════════════════════════════════════════════════════════════════════════════
00:08 +156 -82: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/unit/location_service_test.dart: LocationService Tests Backend Integration Tests should retry failed requests
00:08 +156 -82: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/widget/map_view_screen_test.dart: MapViewScreen Widget Tests Widget Rendering Tests should render map view screen with basic elements [E]
  Test failed. See exception logs above.
  The test description was: should render map view screen with basic elements
  
Warning: At least one test in this suite creates an HttpClient. When running a test suite that uses
TestWidgetsFlutterBinding, all HTTP requests will return status code 400, and no network request
will actually be made. Any test expecting a real network connection and status code will fail.
To test code that needs an HttpClient, provide your own HttpClient implementation to the code under
test, so that your test can consistently provide a testable response to the code under test.
00:08 +156 -82: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/widget/login_screen_test.dart: Login Screen Widget Tests ✅ Button Interaction Tests should handle button tap correctly
Login button pressed
00:08 +157 -82: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/unit/location_service_test.dart: LocationService Tests Backend Integration Tests should retry failed requests
00:08 +157 -82: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/widget/login_screen_test.dart: Login Screen Widget Tests ✅ Button Interaction Tests should handle multiple button taps
Login button pressed
Login button pressed
Login button pressed
00:08 +158 -82: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/unit/location_service_test.dart: LocationService Tests Backend Integration Tests should retry failed requests
00:08 +158 -82: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/widget/map_view_screen_test.dart: MapViewScreen Widget Tests Widget Rendering Tests should display Google Maps widget
🎯 MapViewScreen iniciando con restricciones de seguridad FASE C
🔍 Validando argumentos de navegación:
   - isStudentMode: true
   - eventoId: null
   - permissionsValidated: null
   - preciseLocationGranted: null
   - backgroundPermissionsGranted: null
   - batteryOptimizationDisabled: null
🚨 ACCESO DIRECTO NO PERMITIDO - Redirigiendo a validaciones
🔒 PASO 1: Re-validando permisos críticos...
✅ Todos los permisos re-validados correctamente
🔒 PASO 2: Inicializando servicios background...
🚀 Inicializando BackgroundService con ForegroundService nativo
🔔 Inicializando NotificationManager
❌ Error inicializando NotificationManager: LateInitializationError: Field '_instance@1171271368' has not been initialized.
❌ Error inicializando BackgroundService: LateInitializationError: Field '_instance@1171271368' has not been initialized.
❌ Error inicializando servicios background: LateInitializationError: Field '_instance@1171271368' has not been initialized.
❌ Error crítico en inicialización: Exception: No se pudieron inicializar servicios críticos
🧹 Limpiando MapViewScreen...
══╡ EXCEPTION CAUGHT BY FLUTTER TEST FRAMEWORK ╞════════════════════════════════════════════════════
The following TestFailure was thrown running a test:
Expected: exactly one matching candidate
  Actual: _TypeWidgetFinder:<Found 0 widgets with type "GoogleMap": []>
   Which: means none were found but one was expected

When the exception was thrown, this was the stack:
#4      main.<anonymous closure>.<anonymous closure>.<anonymous closure> (file:///D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/widget/map_view_screen_test.dart:90:9)
<asynchronous suspension>
#5      testWidgets.<anonymous closure>.<anonymous closure> (package:flutter_test/src/widget_tester.dart:193:15)
<asynchronous suspension>
#6      TestWidgetsFlutterBinding._runTestBody (package:flutter_test/src/binding.dart:1064:5)
<asynchronous suspension>
<asynchronous suspension>
(elided one frame from package:stack_trace)

This was caught by the test expectation on the following line:
  file:///D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/widget/map_view_screen_test.dart line 90
The test description was:
  should display Google Maps widget
════════════════════════════════════════════════════════════════════════════════════════════════════
00:08 +158 -83: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/unit/location_service_test.dart: LocationService Tests Backend Integration Tests should retry failed requests
00:08 +158 -83: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/widget/map_view_screen_test.dart: MapViewScreen Widget Tests Widget Rendering Tests should display Google Maps widget [E]
  Test failed. See exception logs above.
  The test description was: should display Google Maps widget
  
00:08 +158 -83: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/widget/login_screen_test.dart: Login Screen Widget Tests ✅ Complete Form Flow Tests should complete full login form flow
Login button pressed
00:08 +159 -83: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/unit/location_service_test.dart: LocationService Tests Backend Integration Tests should retry failed requests
00:08 +159 -83: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/widget/map_view_screen_test.dart: MapViewScreen Widget Tests Widget Rendering Tests should display control panel
🎯 MapViewScreen iniciando con restricciones de seguridad FASE C
🔍 Validando argumentos de navegación:
   - isStudentMode: true
   - eventoId: null
   - permissionsValidated: null
   - preciseLocationGranted: null
   - backgroundPermissionsGranted: null
   - batteryOptimizationDisabled: null
🚨 ACCESO DIRECTO NO PERMITIDO - Redirigiendo a validaciones
🔒 PASO 1: Re-validando permisos críticos...
✅ Todos los permisos re-validados correctamente
🔒 PASO 2: Inicializando servicios background...
🚀 Inicializando BackgroundService con ForegroundService nativo
🔔 Inicializando NotificationManager
❌ Error inicializando NotificationManager: LateInitializationError: Field '_instance@1171271368' has not been initialized.
❌ Error inicializando BackgroundService: LateInitializationError: Field '_instance@1171271368' has not been initialized.
❌ Error inicializando servicios background: LateInitializationError: Field '_instance@1171271368' has not been initialized.
❌ Error crítico en inicialización: Exception: No se pudieron inicializar servicios críticos
🧹 Limpiando MapViewScreen...
══╡ EXCEPTION CAUGHT BY FLUTTER TEST FRAMEWORK ╞════════════════════════════════════════════════════
The following TestFailure was thrown running a test:
Expected: at least one matching candidate
  Actual: _KeyWidgetFinder:<Found 0 widgets with key [<'control_panel'>]: []>
   Which: means none were found but some were expected

When the exception was thrown, this was the stack:
#4      main.<anonymous closure>.<anonymous closure>.<anonymous closure> (file:///D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/widget/map_view_screen_test.dart:115:9)
<asynchronous suspension>
#5      testWidgets.<anonymous closure>.<anonymous closure> (package:flutter_test/src/widget_tester.dart:193:15)
<asynchronous suspension>
#6      TestWidgetsFlutterBinding._runTestBody (package:flutter_test/src/binding.dart:1064:5)
<asynchronous suspension>
<asynchronous suspension>
(elided one frame from package:stack_trace)

This was caught by the test expectation on the following line:
  file:///D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/widget/map_view_screen_test.dart line 115
The test description was:
  should display control panel
════════════════════════════════════════════════════════════════════════════════════════════════════
00:08 +159 -84: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/unit/location_service_test.dart: LocationService Tests Backend Integration Tests should retry failed requests
00:08 +159 -84: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/widget/map_view_screen_test.dart: MapViewScreen Widget Tests Widget Rendering Tests should display control panel [E]
  Test failed. See exception logs above.
  The test description was: should display control panel
  
00:09 +160 -84: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/unit/location_service_test.dart: LocationService Tests Backend Integration Tests should retry failed requests
00:09 +160 -84: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/widget/login_screen_test.dart: Login Screen Widget Tests ✅ Complete Form Flow Tests should handle form submission with validation errors
Login button pressed
00:09 +161 -84: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/unit/location_service_test.dart: LocationService Tests Backend Integration Tests should retry failed requests
00:09 +162 -84: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/unit/location_service_test.dart: LocationService Tests Backend Integration Tests should retry failed requests
00:09 +163 -84: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/unit/location_service_test.dart: LocationService Tests Backend Integration Tests should retry failed requests
00:09 +163 -84: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/widget/map_view_screen_test.dart: MapViewScreen Widget Tests Student Mode Tests should show attendance status in student mode
🎯 MapViewScreen iniciando con restricciones de seguridad FASE C
🔍 Validando argumentos de navegación:
   - isStudentMode: true
   - eventoId: null
   - permissionsValidated: null
   - preciseLocationGranted: null
   - backgroundPermissionsGranted: null
   - batteryOptimizationDisabled: null
🚨 ACCESO DIRECTO NO PERMITIDO - Redirigiendo a validaciones
🔒 PASO 1: Re-validando permisos críticos...
✅ Todos los permisos re-validados correctamente
🔒 PASO 2: Inicializando servicios background...
🚀 Inicializando BackgroundService con ForegroundService nativo
🔔 Inicializando NotificationManager
❌ Error inicializando NotificationManager: LateInitializationError: Field '_instance@1171271368' has not been initialized.
❌ Error inicializando BackgroundService: LateInitializationError: Field '_instance@1171271368' has not been initialized.
❌ Error inicializando servicios background: LateInitializationError: Field '_instance@1171271368' has not been initialized.
❌ Error crítico en inicialización: Exception: No se pudieron inicializar servicios críticos
🧹 Limpiando MapViewScreen...
══╡ EXCEPTION CAUGHT BY FLUTTER TEST FRAMEWORK ╞════════════════════════════════════════════════════
The following TestFailure was thrown running a test:
Expected: at least one matching candidate
  Actual: _KeyWidgetFinder:<Found 0 widgets with key [<'attendance_status'>]: []>
   Which: means none were found but some were expected

When the exception was thrown, this was the stack:
#4      main.<anonymous closure>.<anonymous closure>.<anonymous closure> (file:///D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/widget/map_view_screen_test.dart:147:9)
<asynchronous suspension>
#5      testWidgets.<anonymous closure>.<anonymous closure> (package:flutter_test/src/widget_tester.dart:193:15)
<asynchronous suspension>
#6      TestWidgetsFlutterBinding._runTestBody (package:flutter_test/src/binding.dart:1064:5)
<asynchronous suspension>
<asynchronous suspension>
(elided one frame from package:stack_trace)

This was caught by the test expectation on the following line:
  file:///D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/widget/map_view_screen_test.dart line 147
The test description was:
  should show attendance status in student mode
════════════════════════════════════════════════════════════════════════════════════════════════════
00:09 +163 -85: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/unit/location_service_test.dart: LocationService Tests Backend Integration Tests should retry failed requests
00:09 +164 -85: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/unit/location_service_test.dart: LocationService Tests Backend Integration Tests should retry failed requests
00:09 +164 -85: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/widget/map_view_screen_test.dart: MapViewScreen Widget Tests Student Mode Tests should show attendance status in student mode [E]
  Test failed. See exception logs above.
  The test description was: should show attendance status in student mode
  
00:09 +165 -85: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/unit/location_service_test.dart: LocationService Tests Backend Integration Tests should retry failed requests
00:09 +165 -85: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/widget/login_screen_test.dart: Login Screen Widget Tests ✅ Layout and UI Tests should have proper form layout
══╡ EXCEPTION CAUGHT BY FLUTTER TEST FRAMEWORK ╞════════════════════════════════════════════════════
The following TestFailure was thrown running a test:
Expected: exactly 2 matching candidates
  Actual: _TypeWidgetFinder:<Found 4 widgets with type "SizedBox": [
            SizedBox.shrink(renderObject: RenderConstrainedBox#b969a relayoutBoundary=up10),
            SizedBox(height: 16.0, renderObject: RenderConstrainedBox#e5dcb relayoutBoundary=up3),
            SizedBox.shrink(renderObject: RenderConstrainedBox#0ee10 relayoutBoundary=up10),
            SizedBox(height: 24.0, renderObject: RenderConstrainedBox#210b8 relayoutBoundary=up3),
          ]>
   Which: is too many

When the exception was thrown, this was the stack:
#4      main.<anonymous closure>.<anonymous closure>.<anonymous closure> (file:///D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/widget/login_screen_test.dart:297:9)
<asynchronous suspension>
#5      testWidgets.<anonymous closure>.<anonymous closure> (package:flutter_test/src/widget_tester.dart:193:15)
<asynchronous suspension>
#6      TestWidgetsFlutterBinding._runTestBody (package:flutter_test/src/binding.dart:1064:5)
<asynchronous suspension>
<asynchronous suspension>
(elided one frame from package:stack_trace)

This was caught by the test expectation on the following line:
  file:///D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/widget/login_screen_test.dart line 297
The test description was:
  should have proper form layout
════════════════════════════════════════════════════════════════════════════════════════════════════
00:09 +165 -86: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/unit/location_service_test.dart: LocationService Tests Backend Integration Tests should retry failed requests
00:09 +165 -86: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/widget/login_screen_test.dart: Login Screen Widget Tests ✅ Layout and UI Tests should have proper form layout [E]
  Test failed. See exception logs above.
  The test description was: should have proper form layout
  
00:09 +166 -86: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/unit/location_service_test.dart: LocationService Tests Backend Integration Tests should retry failed requests
00:09 +167 -86: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/unit/location_service_test.dart: LocationService Tests Backend Integration Tests should retry failed requests
00:09 +168 -86: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/unit/location_service_test.dart: LocationService Tests Backend Integration Tests should retry failed requests
00:09 +168 -86: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/widget/map_view_screen_test.dart: MapViewScreen Widget Tests Student Mode Tests should show check-in button when attendance can be registered
🎯 MapViewScreen iniciando con restricciones de seguridad FASE C
🔍 Validando argumentos de navegación:
   - isStudentMode: true
   - eventoId: null
   - permissionsValidated: null
   - preciseLocationGranted: null
   - backgroundPermissionsGranted: null
   - batteryOptimizationDisabled: null
🚨 ACCESO DIRECTO NO PERMITIDO - Redirigiendo a validaciones
🔒 PASO 1: Re-validando permisos críticos...
✅ Todos los permisos re-validados correctamente
🔒 PASO 2: Inicializando servicios background...
🚀 Inicializando BackgroundService con ForegroundService nativo
🔔 Inicializando NotificationManager
❌ Error inicializando NotificationManager: LateInitializationError: Field '_instance@1171271368' has not been initialized.
❌ Error inicializando BackgroundService: LateInitializationError: Field '_instance@1171271368' has not been initialized.
❌ Error inicializando servicios background: LateInitializationError: Field '_instance@1171271368' has not been initialized.
❌ Error crítico en inicialización: Exception: No se pudieron inicializar servicios críticos
🧹 Limpiando MapViewScreen...
══╡ EXCEPTION CAUGHT BY FLUTTER TEST FRAMEWORK ╞════════════════════════════════════════════════════
The following TestFailure was thrown running a test:
Expected: at least one matching candidate
  Actual: _KeyWidgetFinder:<Found 0 widgets with key [<'check_in_button'>]: []>
   Which: means none were found but some were expected

When the exception was thrown, this was the stack:
#4      main.<anonymous closure>.<anonymous closure>.<anonymous closure> (file:///D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/widget/map_view_screen_test.dart:181:9)
<asynchronous suspension>
#5      testWidgets.<anonymous closure>.<anonymous closure> (package:flutter_test/src/widget_tester.dart:193:15)
<asynchronous suspension>
#6      TestWidgetsFlutterBinding._runTestBody (package:flutter_test/src/binding.dart:1064:5)
<asynchronous suspension>
<asynchronous suspension>
(elided one frame from package:stack_trace)

This was caught by the test expectation on the following line:
  file:///D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/widget/map_view_screen_test.dart line 181
The test description was:
  should show check-in button when attendance can be registered
════════════════════════════════════════════════════════════════════════════════════════════════════
00:09 +168 -87: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/unit/location_service_test.dart: LocationService Tests Backend Integration Tests should retry failed requests
00:09 +168 -87: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/widget/map_view_screen_test.dart: MapViewScreen Widget Tests Student Mode Tests should show check-in button when attendance can be registered [E]
  Test failed. See exception logs above.
  The test description was: should show check-in button when attendance can be registered
  
00:09 +169 -87: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/unit/location_service_test.dart: LocationService Tests Backend Integration Tests should retry failed requests
00:09 +170 -87: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/unit/location_service_test.dart: LocationService Tests Backend Integration Tests should retry failed requests
00:09 +171 -87: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/unit/location_service_test.dart: LocationService Tests Backend Integration Tests should retry failed requests
00:09 +172 -87: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/unit/location_service_test.dart: LocationService Tests Backend Integration Tests should retry failed requests
00:09 +172 -87: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/widget/map_view_screen_test.dart: MapViewScreen Widget Tests Student Mode Tests should display grace period widget when in grace period
🎯 MapViewScreen iniciando con restricciones de seguridad FASE C
🔍 Validando argumentos de navegación:
   - isStudentMode: true
   - eventoId: null
   - permissionsValidated: null
   - preciseLocationGranted: null
   - backgroundPermissionsGranted: null
   - batteryOptimizationDisabled: null
🚨 ACCESO DIRECTO NO PERMITIDO - Redirigiendo a validaciones
🔒 PASO 1: Re-validando permisos críticos...
✅ Todos los permisos re-validados correctamente
🔒 PASO 2: Inicializando servicios background...
🚀 Inicializando BackgroundService con ForegroundService nativo
🔔 Inicializando NotificationManager
❌ Error inicializando NotificationManager: LateInitializationError: Field '_instance@1171271368' has not been initialized.
❌ Error inicializando BackgroundService: LateInitializationError: Field '_instance@1171271368' has not been initialized.
❌ Error inicializando servicios background: LateInitializationError: Field '_instance@1171271368' has not been initialized.
❌ Error crítico en inicialización: Exception: No se pudieron inicializar servicios críticos
🧹 Limpiando MapViewScreen...
══╡ EXCEPTION CAUGHT BY FLUTTER TEST FRAMEWORK ╞════════════════════════════════════════════════════
The following TestFailure was thrown running a test:
Expected: at least one matching candidate
  Actual: _KeyWidgetFinder:<Found 0 widgets with key [<'grace_period_widget'>]: []>
   Which: means none were found but some were expected

When the exception was thrown, this was the stack:
#4      main.<anonymous closure>.<anonymous closure>.<anonymous closure> (file:///D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/widget/map_view_screen_test.dart:217:9)
<asynchronous suspension>
#5      testWidgets.<anonymous closure>.<anonymous closure> (package:flutter_test/src/widget_tester.dart:193:15)
<asynchronous suspension>
#6      TestWidgetsFlutterBinding._runTestBody (package:flutter_test/src/binding.dart:1064:5)
<asynchronous suspension>
<asynchronous suspension>
(elided one frame from package:stack_trace)

This was caught by the test expectation on the following line:
  file:///D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/widget/map_view_screen_test.dart line 217
The test description was:
  should display grace period widget when in grace period
════════════════════════════════════════════════════════════════════════════════════════════════════
00:09 +172 -88: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/unit/location_service_test.dart: LocationService Tests Backend Integration Tests should retry failed requests
00:09 +172 -88: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/widget/map_view_screen_test.dart: MapViewScreen Widget Tests Student Mode Tests should display grace period widget when in grace period [E]
  Test failed. See exception logs above.
  The test description was: should display grace period widget when in grace period
  
00:09 +173 -88: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/unit/location_service_test.dart: LocationService Tests Backend Integration Tests should retry failed requests
📤 Location update attempt 3 of 3
✅ Location update successful on attempt 3
✅ Backend response processed successfully:
   - Inside geofence: true
   - Distance: 50.0m
   - Event active: true
   - Can register: true
📊 Performance: update_success = 4007ms (success)
🧹 Disposing LocationService resources
✅ LocationService disposed
00:10 +174 -88: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/widget/map_view_screen_test.dart: MapViewScreen Widget Tests Admin Mode Tests should show admin controls in admin mode
00:10 +174 -88: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/unit/location_service_test.dart: LocationService Tests Geofence Calculations should calculate distance correctly
🧹 Disposing LocationService resources
✅ LocationService disposed
00:10 +175 -88: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/widget/map_view_screen_test.dart: MapViewScreen Widget Tests Admin Mode Tests should show admin controls in admin mode
00:10 +175 -88: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/unit/location_service_test.dart: LocationService Tests Geofence Calculations should validate geofence boundaries
🧹 Disposing LocationService resources
✅ LocationService disposed
00:10 +176 -88: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/widget/map_view_screen_test.dart: MapViewScreen Widget Tests Admin Mode Tests should show admin controls in admin mode
00:10 +176 -88: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/unit/location_service_test.dart: LocationService Tests Performance Optimization Tests should limit update frequency
🧹 Disposing LocationService resources
✅ LocationService disposed
00:10 +177 -88: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/widget/map_view_screen_test.dart: MapViewScreen Widget Tests Admin Mode Tests should show admin controls in admin mode
00:10 +177 -88: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/unit/location_service_test.dart: LocationService Tests Performance Optimization Tests should cache location data to reduce API calls
📍 Optimized location update to backend
   - User: user_123
   - Coordinates: (37.7749, -122.4194)
   - Event: event_123
   - Background: false
   - Force: false
📤 Location update attempt 1 of 3
✅ Location update successful on attempt 1
✅ Backend response processed successfully:
   - Inside geofence: true
   - Distance: 50.0m
   - Event active: true
   - Can register: true
📊 Performance: update_success = 0ms (success)
📍 Optimized location update to backend
   - User: user_123
   - Coordinates: (37.7749, -122.4194)
   - Event: event_123
   - Background: false
   - Force: false
⏭️ Skipping update - too frequent or insignificant change
📊 Performance: update_skipped = 1ms (success)
🧹 Disposing LocationService resources
✅ LocationService disposed
00:10 +178 -88: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/widget/map_view_screen_test.dart: MapViewScreen Widget Tests Admin Mode Tests should show admin controls in admin mode
00:10 +178 -88: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/unit/location_service_test.dart: LocationService Tests Performance Optimization Tests should detect significant location changes
🧹 Disposing LocationService resources
✅ LocationService disposed
00:10 +179 -88: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/widget/map_view_screen_test.dart: MapViewScreen Widget Tests Admin Mode Tests should show admin controls in admin mode
00:10 +179 -88: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/unit/location_service_test.dart: LocationService Tests Offline Handling Tests should queue location updates when offline
🧹 Disposing LocationService resources
✅ LocationService disposed
00:10 +180 -88: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/widget/map_view_screen_test.dart: MapViewScreen Widget Tests Admin Mode Tests should show admin controls in admin mode
00:10 +180 -88: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/unit/location_service_test.dart: LocationService Tests Offline Handling Tests should sync queued updates when back online
🧹 Disposing LocationService resources
✅ LocationService disposed
00:10 +181 -88: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/widget/map_view_screen_test.dart: MapViewScreen Widget Tests Admin Mode Tests should show admin controls in admin mode
00:10 +181 -88: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/unit/location_service_test.dart: LocationService Tests Error Recovery Tests should handle GPS signal loss
🧹 Disposing LocationService resources
✅ LocationService disposed
00:10 +182 -88: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/widget/map_view_screen_test.dart: MapViewScreen Widget Tests Admin Mode Tests should show admin controls in admin mode
00:10 +182 -88: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/unit/location_service_test.dart: LocationService Tests Error Recovery Tests should handle network timeouts
📍 Optimized location update to backend
   - User: user_123
   - Coordinates: (37.7749, -122.4194)
   - Event: event_123
   - Background: false
   - Force: false
📤 Location update attempt 1 of 3
❌ Location update attempt 1 failed: TimeoutException after 0:00:10.000000: Request timeout
🔄 Retrying location update in 2s...
00:10 +182 -88: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/widget/map_view_screen_test.dart: MapViewScreen Widget Tests Admin Mode Tests should show admin controls in admin mode
🎯 MapViewScreen iniciando con restricciones de seguridad FASE C
🔍 Validando argumentos de navegación:
   - isStudentMode: false
   - eventoId: null
   - permissionsValidated: null
   - preciseLocationGranted: null
   - backgroundPermissionsGranted: null
   - batteryOptimizationDisabled: null
🔒 PASO 1: Re-validando permisos críticos...
✅ Todos los permisos re-validados correctamente
🔒 PASO 2: Inicializando servicios background...
🚀 Inicializando BackgroundService con ForegroundService nativo
🔔 Inicializando NotificationManager
❌ Error inicializando NotificationManager: LateInitializationError: Field '_instance@1171271368' has not been initialized.
❌ Error inicializando BackgroundService: LateInitializationError: Field '_instance@1171271368' has not been initialized.
❌ Error inicializando servicios background: LateInitializationError: Field '_instance@1171271368' has not been initialized.
❌ Error crítico en inicialización: Exception: No se pudieron inicializar servicios críticos
══╡ EXCEPTION CAUGHT BY FLUTTER TEST FRAMEWORK ╞════════════════════════════════════════════════════
The following assertion was thrown running a test:
pumpAndSettle timed out

When the exception was thrown, this was the stack:
#0      WidgetTester.pumpAndSettle.<anonymous closure> (package:flutter_test/src/widget_tester.dart:718:11)
<asynchronous suspension>
#1      TestAsyncUtils.guard.<anonymous closure> (package:flutter_test/src/test_async_utils.dart:130:27)
<asynchronous suspension>
#2      TestHelpers.pumpAppWithProviders (file:///D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/utils/test_helpers.dart:209:5)
<asynchronous suspension>
#3      main.<anonymous closure>.<anonymous closure>.<anonymous closure> (file:///D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/widget/map_view_screen_test.dart:233:9)
<asynchronous suspension>
#4      testWidgets.<anonymous closure>.<anonymous closure> (package:flutter_test/src/widget_tester.dart:193:15)
<asynchronous suspension>
#5      TestWidgetsFlutterBinding._runTestBody (package:flutter_test/src/binding.dart:1064:5)
<asynchronous suspension>
<asynchronous suspension>
(elided one frame from package:stack_trace)

The test description was:
  should show admin controls in admin mode
════════════════════════════════════════════════════════════════════════════════════════════════════
00:10 +182 -89: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/unit/location_service_test.dart: LocationService Tests Error Recovery Tests should handle network timeouts
00:10 +182 -89: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/widget/map_view_screen_test.dart: MapViewScreen Widget Tests Admin Mode Tests should show admin controls in admin mode [E]
  Test failed. See exception logs above.
  The test description was: should show admin controls in admin mode
  
00:10 +182 -89: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/widget/map_view_screen_test.dart: MapViewScreen Widget Tests Admin Mode Tests should show event management controls for admin
🧹 Limpiando MapViewScreen...
🎯 MapViewScreen iniciando con restricciones de seguridad FASE C
🔍 Validando argumentos de navegación:
   - isStudentMode: false
   - eventoId: null
   - permissionsValidated: null
   - preciseLocationGranted: null
   - backgroundPermissionsGranted: null
   - batteryOptimizationDisabled: null
🔒 PASO 1: Re-validando permisos críticos...
✅ Todos los permisos re-validados correctamente
🔒 PASO 2: Inicializando servicios background...
🚀 Inicializando BackgroundService con ForegroundService nativo
🔔 Inicializando NotificationManager
❌ Error inicializando NotificationManager: LateInitializationError: Field '_instance@1171271368' has not been initialized.
❌ Error inicializando BackgroundService: LateInitializationError: Field '_instance@1171271368' has not been initialized.
❌ Error inicializando servicios background: LateInitializationError: Field '_instance@1171271368' has not been initialized.
❌ Error crítico en inicialización: Exception: No se pudieron inicializar servicios críticos
══╡ EXCEPTION CAUGHT BY FLUTTER TEST FRAMEWORK ╞════════════════════════════════════════════════════
The following assertion was thrown running a test:
pumpAndSettle timed out

When the exception was thrown, this was the stack:
#0      WidgetTester.pumpAndSettle.<anonymous closure> (package:flutter_test/src/widget_tester.dart:718:11)
<asynchronous suspension>
#1      TestAsyncUtils.guard.<anonymous closure> (package:flutter_test/src/test_async_utils.dart:130:27)
<asynchronous suspension>
#2      TestHelpers.pumpAppWithProviders (file:///D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/utils/test_helpers.dart:209:5)
<asynchronous suspension>
#3      main.<anonymous closure>.<anonymous closure>.<anonymous closure> (file:///D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/widget/map_view_screen_test.dart:257:9)
<asynchronous suspension>
#4      testWidgets.<anonymous closure>.<anonymous closure> (package:flutter_test/src/widget_tester.dart:193:15)
<asynchronous suspension>
#5      TestWidgetsFlutterBinding._runTestBody (package:flutter_test/src/binding.dart:1064:5)
<asynchronous suspension>
<asynchronous suspension>
(elided one frame from package:stack_trace)

The test description was:
  should show event management controls for admin
════════════════════════════════════════════════════════════════════════════════════════════════════
00:10 +182 -90: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/unit/location_service_test.dart: LocationService Tests Error Recovery Tests should handle network timeouts
00:10 +182 -90: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/widget/map_view_screen_test.dart: MapViewScreen Widget Tests Admin Mode Tests should show event management controls for admin [E]
  Test failed. See exception logs above.
  The test description was: should show event management controls for admin
  
00:10 +182 -90: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/widget/map_view_screen_test.dart: MapViewScreen Widget Tests Location Updates Tests should update map position when location changes
🧹 Limpiando MapViewScreen...
🎯 MapViewScreen iniciando con restricciones de seguridad FASE C
🔍 Validando argumentos de navegación:
   - isStudentMode: true
   - eventoId: null
   - permissionsValidated: null
   - preciseLocationGranted: null
   - backgroundPermissionsGranted: null
   - batteryOptimizationDisabled: null
🚨 ACCESO DIRECTO NO PERMITIDO - Redirigiendo a validaciones
🔒 PASO 1: Re-validando permisos críticos...
✅ Todos los permisos re-validados correctamente
🔒 PASO 2: Inicializando servicios background...
🚀 Inicializando BackgroundService con ForegroundService nativo
🔔 Inicializando NotificationManager
❌ Error inicializando NotificationManager: LateInitializationError: Field '_instance@1171271368' has not been initialized.
❌ Error inicializando BackgroundService: LateInitializationError: Field '_instance@1171271368' has not been initialized.
❌ Error inicializando servicios background: LateInitializationError: Field '_instance@1171271368' has not been initialized.
❌ Error crítico en inicialización: Exception: No se pudieron inicializar servicios críticos
🧹 Limpiando MapViewScreen...
══╡ EXCEPTION CAUGHT BY FLUTTER TEST FRAMEWORK ╞════════════════════════════════════════════════════
The following TestFailure was thrown running a test:
Expected: exactly one matching candidate
  Actual: _TypeWidgetFinder:<Found 0 widgets with type "GoogleMap": []>
   Which: means none were found but one was expected

When the exception was thrown, this was the stack:
#4      main.<anonymous closure>.<anonymous closure>.<anonymous closure> (file:///D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/widget/map_view_screen_test.dart:298:9)
<asynchronous suspension>
#5      testWidgets.<anonymous closure>.<anonymous closure> (package:flutter_test/src/widget_tester.dart:193:15)
<asynchronous suspension>
#6      TestWidgetsFlutterBinding._runTestBody (package:flutter_test/src/binding.dart:1064:5)
<asynchronous suspension>
<asynchronous suspension>
(elided one frame from package:stack_trace)

This was caught by the test expectation on the following line:
  file:///D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/widget/map_view_screen_test.dart line 298
The test description was:
  should update map position when location changes
════════════════════════════════════════════════════════════════════════════════════════════════════
00:10 +182 -91: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/unit/location_service_test.dart: LocationService Tests Error Recovery Tests should handle network timeouts
00:10 +182 -91: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/widget/map_view_screen_test.dart: MapViewScreen Widget Tests Location Updates Tests should update map position when location changes [E]
  Test failed. See exception logs above.
  The test description was: should update map position when location changes
  
00:10 +182 -91: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/widget/map_view_screen_test.dart: MapViewScreen Widget Tests Location Updates Tests should show distance to event location
🎯 MapViewScreen iniciando con restricciones de seguridad FASE C
🔍 Validando argumentos de navegación:
   - isStudentMode: true
   - eventoId: null
   - permissionsValidated: null
   - preciseLocationGranted: null
   - backgroundPermissionsGranted: null
   - batteryOptimizationDisabled: null
🚨 ACCESO DIRECTO NO PERMITIDO - Redirigiendo a validaciones
🔒 PASO 1: Re-validando permisos críticos...
✅ Todos los permisos re-validados correctamente
🔒 PASO 2: Inicializando servicios background...
🚀 Inicializando BackgroundService con ForegroundService nativo
🔔 Inicializando NotificationManager
❌ Error inicializando NotificationManager: LateInitializationError: Field '_instance@1171271368' has not been initialized.
❌ Error inicializando BackgroundService: LateInitializationError: Field '_instance@1171271368' has not been initialized.
❌ Error inicializando servicios background: LateInitializationError: Field '_instance@1171271368' has not been initialized.
❌ Error crítico en inicialización: Exception: No se pudieron inicializar servicios críticos
🧹 Limpiando MapViewScreen...
══╡ EXCEPTION CAUGHT BY FLUTTER TEST FRAMEWORK ╞════════════════════════════════════════════════════
The following TestFailure was thrown running a test:
Expected: at least one matching candidate
  Actual: _TextWidgetFinder:<Found 0 widgets with text "75.5m": []>
   Which: means none were found but some were expected

When the exception was thrown, this was the stack:
#4      main.<anonymous closure>.<anonymous closure>.<anonymous closure> (file:///D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/widget/map_view_screen_test.dart:326:9)
<asynchronous suspension>
#5      testWidgets.<anonymous closure>.<anonymous closure> (package:flutter_test/src/widget_tester.dart:193:15)
<asynchronous suspension>
#6      TestWidgetsFlutterBinding._runTestBody (package:flutter_test/src/binding.dart:1064:5)
<asynchronous suspension>
<asynchronous suspension>
(elided one frame from package:stack_trace)

This was caught by the test expectation on the following line:
  file:///D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/widget/map_view_screen_test.dart line 326
The test description was:
  should show distance to event location
════════════════════════════════════════════════════════════════════════════════════════════════════
00:10 +182 -92: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/unit/location_service_test.dart: LocationService Tests Error Recovery Tests should handle network timeouts
00:10 +182 -92: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/widget/map_view_screen_test.dart: MapViewScreen Widget Tests Location Updates Tests should show distance to event location [E]
  Test failed. See exception logs above.
  The test description was: should show distance to event location
  
00:10 +182 -92: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/widget/map_view_screen_test.dart: MapViewScreen Widget Tests Permission Status Tests should show permission warnings when permissions not granted
🎯 MapViewScreen iniciando con restricciones de seguridad FASE C
🔍 Validando argumentos de navegación:
   - isStudentMode: true
   - eventoId: null
   - permissionsValidated: false
   - preciseLocationGranted: null
   - backgroundPermissionsGranted: null
   - batteryOptimizationDisabled: null
🚨 ACCESO DIRECTO NO PERMITIDO - Redirigiendo a validaciones
🔒 PASO 1: Re-validando permisos críticos...
✅ Todos los permisos re-validados correctamente
🔒 PASO 2: Inicializando servicios background...
🚀 Inicializando BackgroundService con ForegroundService nativo
🔔 Inicializando NotificationManager
❌ Error inicializando NotificationManager: LateInitializationError: Field '_instance@1171271368' has not been initialized.
❌ Error inicializando BackgroundService: LateInitializationError: Field '_instance@1171271368' has not been initialized.
❌ Error inicializando servicios background: LateInitializationError: Field '_instance@1171271368' has not been initialized.
❌ Error crítico en inicialización: Exception: No se pudieron inicializar servicios críticos
🧹 Limpiando MapViewScreen...
══╡ EXCEPTION CAUGHT BY FLUTTER TEST FRAMEWORK ╞════════════════════════════════════════════════════
The following TestFailure was thrown running a test:
Expected: at least one matching candidate
  Actual: _IconWidgetFinder:<Found 0 widgets with icon "IconData(U+0E6CB)": []>
   Which: means none were found but some were expected

When the exception was thrown, this was the stack:
#4      main.<anonymous closure>.<anonymous closure>.<anonymous closure> (file:///D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/widget/map_view_screen_test.dart:353:9)
<asynchronous suspension>
#5      testWidgets.<anonymous closure>.<anonymous closure> (package:flutter_test/src/widget_tester.dart:193:15)
<asynchronous suspension>
#6      TestWidgetsFlutterBinding._runTestBody (package:flutter_test/src/binding.dart:1064:5)
<asynchronous suspension>
<asynchronous suspension>
(elided one frame from package:stack_trace)

This was caught by the test expectation on the following line:
  file:///D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/widget/map_view_screen_test.dart line 353
The test description was:
  should show permission warnings when permissions not granted
════════════════════════════════════════════════════════════════════════════════════════════════════
00:10 +182 -93: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/unit/location_service_test.dart: LocationService Tests Error Recovery Tests should handle network timeouts
00:10 +182 -93: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/widget/map_view_screen_test.dart: MapViewScreen Widget Tests Permission Status Tests should show permission warnings when permissions not granted [E]
  Test failed. See exception logs above.
  The test description was: should show permission warnings when permissions not granted
  
00:11 +182 -93: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/widget/map_view_screen_test.dart: MapViewScreen Widget Tests Permission Status Tests should show all green when permissions are granted
🎯 MapViewScreen iniciando con restricciones de seguridad FASE C
🔍 Validando argumentos de navegación:
   - isStudentMode: true
   - eventoId: null
   - permissionsValidated: true
   - preciseLocationGranted: true
   - backgroundPermissionsGranted: true
   - batteryOptimizationDisabled: true
🔒 PASO 1: Re-validando permisos críticos...
✅ Todos los permisos re-validados correctamente
🔒 PASO 2: Inicializando servicios background...
🚀 Inicializando BackgroundService con ForegroundService nativo
🔔 Inicializando NotificationManager
❌ Error inicializando NotificationManager: LateInitializationError: Field '_instance@1171271368' has not been initialized.
❌ Error inicializando BackgroundService: LateInitializationError: Field '_instance@1171271368' has not been initialized.
❌ Error inicializando servicios background: LateInitializationError: Field '_instance@1171271368' has not been initialized.
❌ Error crítico en inicialización: Exception: No se pudieron inicializar servicios críticos
══╡ EXCEPTION CAUGHT BY FLUTTER TEST FRAMEWORK ╞════════════════════════════════════════════════════
The following assertion was thrown running a test:
pumpAndSettle timed out

When the exception was thrown, this was the stack:
#0      WidgetTester.pumpAndSettle.<anonymous closure> (package:flutter_test/src/widget_tester.dart:718:11)
<asynchronous suspension>
#1      TestAsyncUtils.guard.<anonymous closure> (package:flutter_test/src/test_async_utils.dart:130:27)
<asynchronous suspension>
#2      TestHelpers.pumpAppWithProviders (file:///D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/utils/test_helpers.dart:209:5)
<asynchronous suspension>
#3      main.<anonymous closure>.<anonymous closure>.<anonymous closure> (file:///D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/widget/map_view_screen_test.dart:367:9)
<asynchronous suspension>
#4      testWidgets.<anonymous closure>.<anonymous closure> (package:flutter_test/src/widget_tester.dart:193:15)
<asynchronous suspension>
#5      TestWidgetsFlutterBinding._runTestBody (package:flutter_test/src/binding.dart:1064:5)
<asynchronous suspension>
<asynchronous suspension>
(elided one frame from package:stack_trace)

The test description was:
  should show all green when permissions are granted
════════════════════════════════════════════════════════════════════════════════════════════════════
00:11 +182 -94: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/unit/location_service_test.dart: LocationService Tests Error Recovery Tests should handle network timeouts
00:11 +182 -94: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/widget/map_view_screen_test.dart: MapViewScreen Widget Tests Permission Status Tests should show all green when permissions are granted [E]
  Test failed. See exception logs above.
  The test description was: should show all green when permissions are granted
  
00:11 +182 -94: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/widget/map_view_screen_test.dart: MapViewScreen Widget Tests Error Handling Tests should handle stream errors gracefully
🧹 Limpiando MapViewScreen...
🎯 MapViewScreen iniciando con restricciones de seguridad FASE C
🔍 Validando argumentos de navegación:
   - isStudentMode: true
   - eventoId: null
   - permissionsValidated: null
   - preciseLocationGranted: null
   - backgroundPermissionsGranted: null
   - batteryOptimizationDisabled: null
🚨 ACCESO DIRECTO NO PERMITIDO - Redirigiendo a validaciones
🔒 PASO 1: Re-validando permisos críticos...
✅ Todos los permisos re-validados correctamente
🔒 PASO 2: Inicializando servicios background...
🚀 Inicializando BackgroundService con ForegroundService nativo
🔔 Inicializando NotificationManager
❌ Error inicializando NotificationManager: LateInitializationError: Field '_instance@1171271368' has not been initialized.
❌ Error inicializando BackgroundService: LateInitializationError: Field '_instance@1171271368' has not been initialized.
❌ Error inicializando servicios background: LateInitializationError: Field '_instance@1171271368' has not been initialized.
❌ Error crítico en inicialización: Exception: No se pudieron inicializar servicios críticos
🧹 Limpiando MapViewScreen...
══╡ EXCEPTION CAUGHT BY FLUTTER TEST FRAMEWORK ╞════════════════════════════════════════════════════
The following TestFailure was thrown running a test:
Expected: exactly one matching candidate
  Actual: _TypeWidgetFinder:<Found 0 widgets with type "MapViewScreen": []>
   Which: means none were found but one was expected

When the exception was thrown, this was the stack:
#4      main.<anonymous closure>.<anonymous closure>.<anonymous closure> (file:///D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/widget/map_view_screen_test.dart:406:9)
<asynchronous suspension>
#5      testWidgets.<anonymous closure>.<anonymous closure> (package:flutter_test/src/widget_tester.dart:193:15)
<asynchronous suspension>
#6      TestWidgetsFlutterBinding._runTestBody (package:flutter_test/src/binding.dart:1064:5)
<asynchronous suspension>
<asynchronous suspension>
(elided one frame from package:stack_trace)

This was caught by the test expectation on the following line:
  file:///D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/widget/map_view_screen_test.dart line 406
The test description was:
  should handle stream errors gracefully
════════════════════════════════════════════════════════════════════════════════════════════════════
00:11 +182 -95: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/unit/location_service_test.dart: LocationService Tests Error Recovery Tests should handle network timeouts
00:11 +182 -95: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/widget/map_view_screen_test.dart: MapViewScreen Widget Tests Error Handling Tests should handle stream errors gracefully [E]
  Test failed. See exception logs above.
  The test description was: should handle stream errors gracefully
  
00:11 +182 -95: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/widget/map_view_screen_test.dart: MapViewScreen Widget Tests Error Handling Tests should show error message when location service fails
🎯 MapViewScreen iniciando con restricciones de seguridad FASE C
🔍 Validando argumentos de navegación:
   - isStudentMode: true
   - eventoId: null
   - permissionsValidated: null
   - preciseLocationGranted: null
   - backgroundPermissionsGranted: null
   - batteryOptimizationDisabled: null
🚨 ACCESO DIRECTO NO PERMITIDO - Redirigiendo a validaciones
🔒 PASO 1: Re-validando permisos críticos...
✅ Todos los permisos re-validados correctamente
🔒 PASO 2: Inicializando servicios background...
🚀 Inicializando BackgroundService con ForegroundService nativo
🔔 Inicializando NotificationManager
❌ Error inicializando NotificationManager: LateInitializationError: Field '_instance@1171271368' has not been initialized.
❌ Error inicializando BackgroundService: LateInitializationError: Field '_instance@1171271368' has not been initialized.
❌ Error inicializando servicios background: LateInitializationError: Field '_instance@1171271368' has not been initialized.
❌ Error crítico en inicialización: Exception: No se pudieron inicializar servicios críticos
🧹 Limpiando MapViewScreen...
══╡ EXCEPTION CAUGHT BY FLUTTER TEST FRAMEWORK ╞════════════════════════════════════════════════════
The following TestFailure was thrown running a test:
Expected: at least one matching candidate
  Actual: _TextWidgetFinder:<Found 0 widgets with text "GPS unavailable": []>
   Which: means none were found but some were expected

When the exception was thrown, this was the stack:
#4      main.<anonymous closure>.<anonymous closure>.<anonymous closure> (file:///D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/widget/map_view_screen_test.dart:435:9)
<asynchronous suspension>
#5      testWidgets.<anonymous closure>.<anonymous closure> (package:flutter_test/src/widget_tester.dart:193:15)
<asynchronous suspension>
#6      TestWidgetsFlutterBinding._runTestBody (package:flutter_test/src/binding.dart:1064:5)
<asynchronous suspension>
<asynchronous suspension>
(elided one frame from package:stack_trace)

This was caught by the test expectation on the following line:
  file:///D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/widget/map_view_screen_test.dart line 435
The test description was:
  should show error message when location service fails
════════════════════════════════════════════════════════════════════════════════════════════════════
00:11 +182 -96: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/unit/location_service_test.dart: LocationService Tests Error Recovery Tests should handle network timeouts
00:11 +182 -96: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/widget/map_view_screen_test.dart: MapViewScreen Widget Tests Error Handling Tests should show error message when location service fails [E]
  Test failed. See exception logs above.
  The test description was: should show error message when location service fails
  
00:11 +182 -96: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/widget/map_view_screen_test.dart: MapViewScreen Widget Tests Notification Overlay Tests should show notification overlay when needed
🎯 MapViewScreen iniciando con restricciones de seguridad FASE C
🔍 Validando argumentos de navegación:
   - isStudentMode: true
   - eventoId: null
   - permissionsValidated: null
   - preciseLocationGranted: null
   - backgroundPermissionsGranted: null
   - batteryOptimizationDisabled: null
🚨 ACCESO DIRECTO NO PERMITIDO - Redirigiendo a validaciones
🔒 PASO 1: Re-validando permisos críticos...
✅ Todos los permisos re-validados correctamente
🔒 PASO 2: Inicializando servicios background...
🚀 Inicializando BackgroundService con ForegroundService nativo
🔔 Inicializando NotificationManager
❌ Error inicializando NotificationManager: LateInitializationError: Field '_instance@1171271368' has not been initialized.
❌ Error inicializando BackgroundService: LateInitializationError: Field '_instance@1171271368' has not been initialized.
❌ Error inicializando servicios background: LateInitializationError: Field '_instance@1171271368' has not been initialized.
❌ Error crítico en inicialización: Exception: No se pudieron inicializar servicios críticos
🧹 Limpiando MapViewScreen...
══╡ EXCEPTION CAUGHT BY FLUTTER TEST FRAMEWORK ╞════════════════════════════════════════════════════
The following TestFailure was thrown running a test:
Expected: at least one matching candidate
  Actual: _KeyWidgetFinder:<Found 0 widgets with key [<'notification_overlay'>]: []>
   Which: means none were found but some were expected

When the exception was thrown, this was the stack:
#4      main.<anonymous closure>.<anonymous closure>.<anonymous closure> (file:///D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/widget/map_view_screen_test.dart:465:9)
<asynchronous suspension>
#5      testWidgets.<anonymous closure>.<anonymous closure> (package:flutter_test/src/widget_tester.dart:193:15)
<asynchronous suspension>
#6      TestWidgetsFlutterBinding._runTestBody (package:flutter_test/src/binding.dart:1064:5)
<asynchronous suspension>
<asynchronous suspension>
(elided one frame from package:stack_trace)

This was caught by the test expectation on the following line:
  file:///D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/widget/map_view_screen_test.dart line 465
The test description was:
  should show notification overlay when needed
════════════════════════════════════════════════════════════════════════════════════════════════════
00:11 +182 -97: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/unit/location_service_test.dart: LocationService Tests Error Recovery Tests should handle network timeouts
00:11 +182 -97: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/widget/map_view_screen_test.dart: MapViewScreen Widget Tests Notification Overlay Tests should show notification overlay when needed [E]
  Test failed. See exception logs above.
  The test description was: should show notification overlay when needed
  
00:11 +182 -97: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/widget/map_view_screen_test.dart: MapViewScreen Widget Tests Accessibility Tests should have proper accessibility labels
🎯 MapViewScreen iniciando con restricciones de seguridad FASE C
🔍 Validando argumentos de navegación:
   - isStudentMode: true
   - eventoId: null
   - permissionsValidated: null
   - preciseLocationGranted: null
   - backgroundPermissionsGranted: null
   - batteryOptimizationDisabled: null
🚨 ACCESO DIRECTO NO PERMITIDO - Redirigiendo a validaciones
🔒 PASO 1: Re-validando permisos críticos...
✅ Todos los permisos re-validados correctamente
🔒 PASO 2: Inicializando servicios background...
🚀 Inicializando BackgroundService con ForegroundService nativo
🔔 Inicializando NotificationManager
❌ Error inicializando NotificationManager: LateInitializationError: Field '_instance@1171271368' has not been initialized.
❌ Error inicializando BackgroundService: LateInitializationError: Field '_instance@1171271368' has not been initialized.
❌ Error inicializando servicios background: LateInitializationError: Field '_instance@1171271368' has not been initialized.
❌ Error crítico en inicialización: Exception: No se pudieron inicializar servicios críticos
🧹 Limpiando MapViewScreen...
══╡ EXCEPTION CAUGHT BY FLUTTER TEST FRAMEWORK ╞════════════════════════════════════════════════════
The following TestFailure was thrown running a test:
Expected: at least one matching candidate
  Actual: _ElementPredicateWidgetFinder:<Found 0 widgets with element matching predicate: []>
   Which: means none were found but some were expected

When the exception was thrown, this was the stack:
#4      main.<anonymous closure>.<anonymous closure>.<anonymous closure> (file:///D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/widget/map_view_screen_test.dart:491:9)
<asynchronous suspension>
#5      testWidgets.<anonymous closure>.<anonymous closure> (package:flutter_test/src/widget_tester.dart:193:15)
<asynchronous suspension>
#6      TestWidgetsFlutterBinding._runTestBody (package:flutter_test/src/binding.dart:1064:5)
<asynchronous suspension>
<asynchronous suspension>
(elided one frame from package:stack_trace)

This was caught by the test expectation on the following line:
  file:///D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/widget/map_view_screen_test.dart line 491
The test description was:
  should have proper accessibility labels
════════════════════════════════════════════════════════════════════════════════════════════════════
00:11 +182 -98: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/unit/location_service_test.dart: LocationService Tests Error Recovery Tests should handle network timeouts
00:11 +182 -98: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/widget/map_view_screen_test.dart: MapViewScreen Widget Tests Accessibility Tests should have proper accessibility labels [E]
  Test failed. See exception logs above.
  The test description was: should have proper accessibility labels
  
00:11 +182 -98: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/widget/map_view_screen_test.dart: MapViewScreen Widget Tests Accessibility Tests should support screen readers
🎯 MapViewScreen iniciando con restricciones de seguridad FASE C
🔍 Validando argumentos de navegación:
   - isStudentMode: true
   - eventoId: null
   - permissionsValidated: null
   - preciseLocationGranted: null
   - backgroundPermissionsGranted: null
   - batteryOptimizationDisabled: null
🚨 ACCESO DIRECTO NO PERMITIDO - Redirigiendo a validaciones
🔒 PASO 1: Re-validando permisos críticos...
✅ Todos los permisos re-validados correctamente
🔒 PASO 2: Inicializando servicios background...
🚀 Inicializando BackgroundService con ForegroundService nativo
🔔 Inicializando NotificationManager
❌ Error inicializando NotificationManager: LateInitializationError: Field '_instance@1171271368' has not been initialized.
❌ Error inicializando BackgroundService: LateInitializationError: Field '_instance@1171271368' has not been initialized.
❌ Error inicializando servicios background: LateInitializationError: Field '_instance@1171271368' has not been initialized.
❌ Error crítico en inicialización: Exception: No se pudieron inicializar servicios críticos
🧹 Limpiando MapViewScreen...
00:11 +183 -98: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/unit/location_service_test.dart: LocationService Tests Error Recovery Tests should handle network timeouts
00:11 +183 -98: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/widget/map_view_screen_test.dart: MapViewScreen Widget Tests Performance Tests should not rebuild unnecessarily
🎯 MapViewScreen iniciando con restricciones de seguridad FASE C
🔍 Validando argumentos de navegación:
   - isStudentMode: true
   - eventoId: null
   - permissionsValidated: null
   - preciseLocationGranted: null
   - backgroundPermissionsGranted: null
   - batteryOptimizationDisabled: null
🚨 ACCESO DIRECTO NO PERMITIDO - Redirigiendo a validaciones
🔒 PASO 1: Re-validando permisos críticos...
✅ Todos los permisos re-validados correctamente
🔒 PASO 2: Inicializando servicios background...
🚀 Inicializando BackgroundService con ForegroundService nativo
🔔 Inicializando NotificationManager
❌ Error inicializando NotificationManager: LateInitializationError: Field '_instance@1171271368' has not been initialized.
❌ Error inicializando BackgroundService: LateInitializationError: Field '_instance@1171271368' has not been initialized.
❌ Error inicializando servicios background: LateInitializationError: Field '_instance@1171271368' has not been initialized.
❌ Error crítico en inicialización: Exception: No se pudieron inicializar servicios críticos
🧹 Limpiando MapViewScreen...
00:11 +184 -98: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/unit/location_service_test.dart: LocationService Tests Error Recovery Tests should handle network timeouts
00:11 +184 -98: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/widget/map_view_screen_test.dart: MapViewScreen Widget Tests Responsive Design Tests should adapt to different screen sizes
🎯 MapViewScreen iniciando con restricciones de seguridad FASE C
🔍 Validando argumentos de navegación:
   - isStudentMode: true
   - eventoId: null
   - permissionsValidated: null
   - preciseLocationGranted: null
   - backgroundPermissionsGranted: null
   - batteryOptimizationDisabled: null
🚨 ACCESO DIRECTO NO PERMITIDO - Redirigiendo a validaciones
🔒 PASO 1: Re-validando permisos críticos...
✅ Todos los permisos re-validados correctamente
🔒 PASO 2: Inicializando servicios background...
🚀 Inicializando BackgroundService con ForegroundService nativo
🔔 Inicializando NotificationManager
❌ Error inicializando NotificationManager: LateInitializationError: Field '_instance@1171271368' has not been initialized.
❌ Error inicializando BackgroundService: LateInitializationError: Field '_instance@1171271368' has not been initialized.
❌ Error inicializando servicios background: LateInitializationError: Field '_instance@1171271368' has not been initialized.
❌ Error crítico en inicialización: Exception: No se pudieron inicializar servicios críticos
🧹 Limpiando MapViewScreen...
══╡ EXCEPTION CAUGHT BY FLUTTER TEST FRAMEWORK ╞════════════════════════════════════════════════════
The following TestFailure was thrown running a test:
Expected: exactly one matching candidate
  Actual: _TypeWidgetFinder:<Found 0 widgets with type "MapViewScreen": []>
   Which: means none were found but one was expected

When the exception was thrown, this was the stack:
#4      main.<anonymous closure>.<anonymous closure>.<anonymous closure> (file:///D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/widget/map_view_screen_test.dart:549:9)
<asynchronous suspension>
#5      testWidgets.<anonymous closure>.<anonymous closure> (package:flutter_test/src/widget_tester.dart:193:15)
<asynchronous suspension>
#6      TestWidgetsFlutterBinding._runTestBody (package:flutter_test/src/binding.dart:1064:5)
<asynchronous suspension>
<asynchronous suspension>
(elided one frame from package:stack_trace)

This was caught by the test expectation on the following line:
  file:///D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/widget/map_view_screen_test.dart line 549
The test description was:
  should adapt to different screen sizes
════════════════════════════════════════════════════════════════════════════════════════════════════
00:11 +184 -99: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/unit/location_service_test.dart: LocationService Tests Error Recovery Tests should handle network timeouts
00:11 +184 -99: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/widget/map_view_screen_test.dart: MapViewScreen Widget Tests Responsive Design Tests should adapt to different screen sizes [E]
  Test failed. See exception logs above.
  The test description was: should adapt to different screen sizes
  
00:11 +184 -99: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/widget/map_view_screen_test.dart: MapViewScreen Widget Tests Memory Management Tests should dispose controllers properly
🎯 MapViewScreen iniciando con restricciones de seguridad FASE C
🔍 Validando argumentos de navegación:
   - isStudentMode: true
   - eventoId: null
   - permissionsValidated: null
   - preciseLocationGranted: null
   - backgroundPermissionsGranted: null
   - batteryOptimizationDisabled: null
🚨 ACCESO DIRECTO NO PERMITIDO - Redirigiendo a validaciones
🔒 PASO 1: Re-validando permisos críticos...
✅ Todos los permisos re-validados correctamente
🔒 PASO 2: Inicializando servicios background...
🚀 Inicializando BackgroundService con ForegroundService nativo
🔔 Inicializando NotificationManager
❌ Error inicializando NotificationManager: LateInitializationError: Field '_instance@1171271368' has not been initialized.
❌ Error inicializando BackgroundService: LateInitializationError: Field '_instance@1171271368' has not been initialized.
❌ Error inicializando servicios background: LateInitializationError: Field '_instance@1171271368' has not been initialized.
❌ Error crítico en inicialización: Exception: No se pudieron inicializar servicios críticos
🧹 Limpiando MapViewScreen...
00:11 +185 -99: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/unit/location_service_test.dart: LocationService Tests Error Recovery Tests should handle network timeouts
📤 Location update attempt 2 of 3
❌ Location update attempt 2 failed: TimeoutException after 0:00:10.000000: Request timeout
🔄 Retrying location update in 2s...
📤 Location update attempt 3 of 3
❌ Location update attempt 3 failed: TimeoutException after 0:00:10.000000: Request timeout
❌ All location update attempts failed
❌ Location update failed
📊 Performance: update_failed = 4005ms (failed)
❌ Marking service as offline due to update failure
🧹 Disposing LocationService resources
✅ LocationService disposed
00:14 +186 -99: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/unit/location_service_test.dart: LocationService Tests Error Recovery Tests should handle invalid location data
📍 Optimized location update to backend
   - User: user_123
   - Coordinates: (999.0, 999.0)
   - Event: event_123
   - Background: false
   - Force: false
📤 Location update attempt 1 of 3
✅ Location update successful on attempt 1
✅ Backend response processed successfully:
   - Inside geofence: false
   - Distance: 0.0m
   - Event active: false
   - Can register: false
📊 Performance: update_success = 0ms (success)
🧹 Disposing LocationService resources
✅ LocationService disposed
00:14 +187 -99: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/unit/location_service_test.dart: LocationService Tests Background Location Tests should continue location updates in background
🧹 Disposing LocationService resources
✅ LocationService disposed
00:14 +188 -99: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/unit/location_service_test.dart: LocationService Tests Background Location Tests should optimize battery usage in background
🧹 Disposing LocationService resources
✅ LocationService disposed
00:14 +189 -99: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/unit/location_service_test.dart: LocationService Tests Location Accuracy Tests should request high accuracy when needed
🧹 Disposing LocationService resources
✅ LocationService disposed
00:14 +190 -99: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/unit/location_service_test.dart: LocationService Tests Location Accuracy Tests should fallback to lower accuracy if high accuracy unavailable
🧹 Disposing LocationService resources
✅ LocationService disposed
00:14 +191 -99: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/unit/location_service_test.dart: LocationService Tests Permission Handling Tests should request location permissions properly
🧹 Disposing LocationService resources
✅ LocationService disposed
00:14 +192 -99: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/unit/location_service_test.dart: LocationService Tests Permission Handling Tests should handle permission denial gracefully
🧹 Disposing LocationService resources
✅ LocationService disposed
00:14 +193 -99: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/unit/location_service_test.dart: LocationService Tests Permission Handling Tests should handle always vs when-in-use permissions
🧹 Disposing LocationService resources
✅ LocationService disposed
00:14 +194 -99: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/unit/location_service_test.dart: LocationService Tests Memory Management Tests should clean up resources properly
🧹 Disposing LocationService resources
✅ LocationService disposed
00:14 +195 -99: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/unit/location_service_test.dart: LocationService Tests Memory Management Tests should not leak memory during long operations
🧹 Disposing LocationService resources
✅ LocationService disposed
00:14 +196 -99: D:/Users/LN_LOQ15/Desktop/movil_Final/geo_asist_front/test/unit/location_service_test.dart: (tearDownAll)
00:14 +196 -99: Some tests failed.
